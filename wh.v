From Coq Require Import String List ZArith.
From compcert Require Import Coqlib Integers Floats AST Ctypes Cop Clight Clightdefs.
Import Clightdefs.ClightNotations.
Local Open Scope Z_scope.
Local Open Scope string_scope.
Local Open Scope clight_scope.

Module Info.
  Definition version := "3.9".
  Definition build_number := "".
  Definition build_tag := "".
  Definition build_branch := "".
  Definition arch := "x86".
  Definition model := "64".
  Definition abi := "standard".
  Definition bitsize := 64.
  Definition big_endian := false.
  Definition source_file := "wh.c".
  Definition normalized := true.
End Info.

Definition __6323 : ident := $"_6323".
Definition __6333 : ident := $"_6333".
Definition __6498 : ident := $"_6498".
Definition __6499 : ident := $"_6499".
Definition __6646 : ident := $"_6646".
Definition __6647 : ident := $"_6647".
Definition __6648 : ident := $"_6648".
Definition __6649 : ident := $"_6649".
Definition __6650 : ident := $"_6650".
Definition __6651 : ident := $"_6651".
Definition __6653 : ident := $"_6653".
Definition __7371 : ident := $"_7371".
Definition __IO_FILE : ident := $"_IO_FILE".
Definition __IO_backup_base : ident := $"_IO_backup_base".
Definition __IO_buf_base : ident := $"_IO_buf_base".
Definition __IO_buf_end : ident := $"_IO_buf_end".
Definition __IO_codecvt : ident := $"_IO_codecvt".
Definition __IO_marker : ident := $"_IO_marker".
Definition __IO_read_base : ident := $"_IO_read_base".
Definition __IO_read_end : ident := $"_IO_read_end".
Definition __IO_read_ptr : ident := $"_IO_read_ptr".
Definition __IO_save_base : ident := $"_IO_save_base".
Definition __IO_save_end : ident := $"_IO_save_end".
Definition __IO_wide_data : ident := $"_IO_wide_data".
Definition __IO_write_base : ident := $"_IO_write_base".
Definition __IO_write_end : ident := $"_IO_write_end".
Definition __IO_write_ptr : ident := $"_IO_write_ptr".
Definition ___builtin_ais_annot : ident := $"__builtin_ais_annot".
Definition ___builtin_annot : ident := $"__builtin_annot".
Definition ___builtin_annot_intval : ident := $"__builtin_annot_intval".
Definition ___builtin_bswap : ident := $"__builtin_bswap".
Definition ___builtin_bswap16 : ident := $"__builtin_bswap16".
Definition ___builtin_bswap32 : ident := $"__builtin_bswap32".
Definition ___builtin_bswap64 : ident := $"__builtin_bswap64".
Definition ___builtin_clz : ident := $"__builtin_clz".
Definition ___builtin_clzl : ident := $"__builtin_clzl".
Definition ___builtin_clzll : ident := $"__builtin_clzll".
Definition ___builtin_ctz : ident := $"__builtin_ctz".
Definition ___builtin_ctzl : ident := $"__builtin_ctzl".
Definition ___builtin_ctzll : ident := $"__builtin_ctzll".
Definition ___builtin_debug : ident := $"__builtin_debug".
Definition ___builtin_expect : ident := $"__builtin_expect".
Definition ___builtin_fabs : ident := $"__builtin_fabs".
Definition ___builtin_fabsf : ident := $"__builtin_fabsf".
Definition ___builtin_fmadd : ident := $"__builtin_fmadd".
Definition ___builtin_fmax : ident := $"__builtin_fmax".
Definition ___builtin_fmin : ident := $"__builtin_fmin".
Definition ___builtin_fmsub : ident := $"__builtin_fmsub".
Definition ___builtin_fnmadd : ident := $"__builtin_fnmadd".
Definition ___builtin_fnmsub : ident := $"__builtin_fnmsub".
Definition ___builtin_fsqrt : ident := $"__builtin_fsqrt".
Definition ___builtin_membar : ident := $"__builtin_membar".
Definition ___builtin_memcpy_aligned : ident := $"__builtin_memcpy_aligned".
Definition ___builtin_read16_reversed : ident := $"__builtin_read16_reversed".
Definition ___builtin_read32_reversed : ident := $"__builtin_read32_reversed".
Definition ___builtin_sel : ident := $"__builtin_sel".
Definition ___builtin_sqrt : ident := $"__builtin_sqrt".
Definition ___builtin_unreachable : ident := $"__builtin_unreachable".
Definition ___builtin_va_arg : ident := $"__builtin_va_arg".
Definition ___builtin_va_copy : ident := $"__builtin_va_copy".
Definition ___builtin_va_end : ident := $"__builtin_va_end".
Definition ___builtin_va_start : ident := $"__builtin_va_start".
Definition ___builtin_write16_reversed : ident := $"__builtin_write16_reversed".
Definition ___builtin_write32_reversed : ident := $"__builtin_write32_reversed".
Definition ___compcert_i64_dtos : ident := $"__compcert_i64_dtos".
Definition ___compcert_i64_dtou : ident := $"__compcert_i64_dtou".
Definition ___compcert_i64_sar : ident := $"__compcert_i64_sar".
Definition ___compcert_i64_sdiv : ident := $"__compcert_i64_sdiv".
Definition ___compcert_i64_shl : ident := $"__compcert_i64_shl".
Definition ___compcert_i64_shr : ident := $"__compcert_i64_shr".
Definition ___compcert_i64_smod : ident := $"__compcert_i64_smod".
Definition ___compcert_i64_smulh : ident := $"__compcert_i64_smulh".
Definition ___compcert_i64_stod : ident := $"__compcert_i64_stod".
Definition ___compcert_i64_stof : ident := $"__compcert_i64_stof".
Definition ___compcert_i64_udiv : ident := $"__compcert_i64_udiv".
Definition ___compcert_i64_umod : ident := $"__compcert_i64_umod".
Definition ___compcert_i64_umulh : ident := $"__compcert_i64_umulh".
Definition ___compcert_i64_utod : ident := $"__compcert_i64_utod".
Definition ___compcert_i64_utof : ident := $"__compcert_i64_utof".
Definition ___compcert_va_composite : ident := $"__compcert_va_composite".
Definition ___compcert_va_float64 : ident := $"__compcert_va_float64".
Definition ___compcert_va_int32 : ident := $"__compcert_va_int32".
Definition ___compcert_va_int64 : ident := $"__compcert_va_int64".
Definition ___func__ : ident := $"__func__".
Definition ___func____1 : ident := $"__func____1".
Definition ___pad5 : ident := $"__pad5".
Definition ___stringlit_1 : ident := $"__stringlit_1".
Definition ___stringlit_2 : ident := $"__stringlit_2".
Definition ___stringlit_3 : ident := $"__stringlit_3".
Definition __chain : ident := $"_chain".
Definition __codecvt : ident := $"_codecvt".
Definition __cur_column : ident := $"_cur_column".
Definition __fileno : ident := $"_fileno".
Definition __flags : ident := $"_flags".
Definition __flags2 : ident := $"_flags2".
Definition __freeres_buf : ident := $"_freeres_buf".
Definition __freeres_list : ident := $"_freeres_list".
Definition __lock : ident := $"_lock".
Definition __m128 : ident := $"_m128".
Definition __markers : ident := $"_markers".
Definition __mm_add_epi8 : ident := $"_mm_add_epi8".
Definition __mm_and_si128 : ident := $"_mm_and_si128".
Definition __mm_cmpeq_epi16 : ident := $"_mm_cmpeq_epi16".
Definition __mm_cmpeq_epi8 : ident := $"_mm_cmpeq_epi8".
Definition __mm_cmpgt_epi8 : ident := $"_mm_cmpgt_epi8".
Definition __mm_load_si128 : ident := $"_mm_load_si128".
Definition __mm_movemask_epi8 : ident := $"_mm_movemask_epi8".
Definition __mm_set1_epi8 : ident := $"_mm_set1_epi8".
Definition __mm_store_si128 : ident := $"_mm_store_si128".
Definition __mm_sub_epi8 : ident := $"_mm_sub_epi8".
Definition __mode : ident := $"_mode".
Definition __offset : ident := $"_offset".
Definition __old_offset : ident := $"_old_offset".
Definition __res : ident := $"_res".
Definition __res__1 : ident := $"_res__1".
Definition __res__2 : ident := $"_res__2".
Definition __res__3 : ident := $"_res__3".
Definition __res__4 : ident := $"_res__4".
Definition __res__5 : ident := $"_res__5".
Definition __res__6 : ident := $"_res__6".
Definition __res__7 : ident := $"_res__7".
Definition __shortbuf : ident := $"_shortbuf".
Definition __unused2 : ident := $"_unused2".
Definition __vtable_offset : ident := $"_vtable_offset".
Definition __wide_data : ident := $"_wide_data".
Definition _a : ident := $"a".
Definition _a1 : ident := $"a1".
Definition _a2 : ident := $"a2".
Definition _add1 : ident := $"add1".
Definition _addx : ident := $"addx".
Definition _akey : ident := $"akey".
Definition _alen : ident := $"alen".
Definition _anchor : ident := $"anchor".
Definition _anchor2 : ident := $"anchor2".
Definition _async : ident := $"async".
Definition _atomic_load_explicit : ident := $"atomic_load_explicit".
Definition _atomic_store_explicit : ident := $"atomic_store_explicit".
Definition _b : ident := $"b".
Definition _bit : ident := $"bit".
Definition _bitmap : ident := $"bitmap".
Definition _bitmax : ident := $"bitmax".
Definition _bitmin : ident := $"bitmin".
Definition _bits : ident := $"bits".
Definition _bkt : ident := $"bkt".
Definition _cap : ident := $"cap".
Definition _ci : ident := $"ci".
Definition _cid : ident := $"cid".
Definition _clean : ident := $"clean".
Definition _clen : ident := $"clen".
Definition _clen__1 : ident := $"clen__1".
Definition _cmp : ident := $"cmp".
Definition _cmp__1 : ident := $"cmp__1".
Definition _cmpx : ident := $"cmpx".
Definition _copy_size : ident := $"copy_size".
Definition _cpu_prefetch0 : ident := $"cpu_prefetch0".
Definition _crc : ident := $"crc".
Definition _crc32c_inc : ident := $"crc32c_inc".
Definition _crc32c_inc_123 : ident := $"crc32c_inc_123".
Definition _crc32c_inc_x4 : ident := $"crc32c_inc_x4".
Definition _crc32c_u8 : ident := $"crc32c_u8".
Definition _curr : ident := $"curr".
Definition _curr__1 : ident := $"curr__1".
Definition _curr__2 : ident := $"curr__2".
Definition _cut : ident := $"cut".
Definition _debug_assert : ident := $"debug_assert".
Definition _debug_die : ident := $"debug_die".
Definition _del : ident := $"del".
Definition _delr : ident := $"delr".
Definition _depth : ident := $"depth".
Definition _depth1 : ident := $"depth1".
Definition _destroy : ident := $"destroy".
Definition _dl : ident := $"dl".
Definition _dr : ident := $"dr".
Definition _e : ident := $"e".
Definition _e0 : ident := $"e0".
Definition _e1 : ident := $"e1".
Definition _e1_64 : ident := $"e1_64".
Definition _e1__1 : ident := $"e1__1".
Definition _e2 : ident := $"e2".
Definition _e2__1 : ident := $"e2__1".
Definition _e3 : ident := $"e3".
Definition _ei : ident := $"ei".
Definition _ei__1 : ident := $"ei__1".
Definition _ej : ident := $"ej".
Definition _el : ident := $"el".
Definition _end : ident := $"end".
Definition _entry13 : ident := $"entry13".
Definition _entry13__1 : ident := $"entry13__1".
Definition _entry13_update_e3 : ident := $"entry13_update_e3".
Definition _eo : ident := $"eo".
Definition _eo__1 : ident := $"eo__1".
Definition _er : ident := $"er".
Definition _es : ident := $"es".
Definition _et : ident := $"et".
Definition _fail : ident := $"fail".
Definition _fprint : ident := $"fprint".
Definition _fprintf : ident := $"fprintf".
Definition _free : ident := $"free".
Definition _from : ident := $"from".
Definition _gd : ident := $"gd".
Definition _get : ident := $"get".
Definition _h : ident := $"h".
Definition _hash : ident := $"hash".
Definition _hash32 : ident := $"hash32".
Definition _hash32__1 : ident := $"hash32__1".
Definition _hashhi : ident := $"hashhi".
Definition _hashkey : ident := $"hashkey".
Definition _hashlo : ident := $"hashlo".
Definition _hdr : ident := $"hdr".
Definition _hi : ident := $"hi".
Definition _hmap : ident := $"hmap".
Definition _hmap0 : ident := $"hmap0".
Definition _hmap1 : ident := $"hmap1".
Definition _hmap2 : ident := $"hmap2".
Definition _hmap__1 : ident := $"hmap__1".
Definition _hmap_ptr : ident := $"hmap_ptr".
Definition _hs : ident := $"hs".
Definition _hv : ident := $"hv".
Definition _i : ident := $"i".
Definition _i0 : ident := $"i0".
Definition _i1 : ident := $"i1".
Definition _i2 : ident := $"i2".
Definition _i__1 : ident := $"i__1".
Definition _i__2 : ident := $"i__2".
Definition _ia : ident := $"ia".
Definition _iaz : ident := $"iaz".
Definition _id : ident := $"id".
Definition _id0 : ident := $"id0".
Definition _idx : ident := $"idx".
Definition _idx0 : ident := $"idx0".
Definition _idx1 : ident := $"idx1".
Definition _ih : ident := $"ih".
Definition _ii : ident := $"ii".
Definition _il : ident := $"il".
Definition _im : ident := $"im".
Definition _im1 : ident := $"im1".
Definition _im2 : ident := $"im2".
Definition _in : ident := $"in".
Definition _inc : ident := $"inc".
Definition _inc__1 : ident := $"inc__1".
Definition _inc__2 : ident := $"inc__2".
Definition _inc__3 : ident := $"inc__3".
Definition _info : ident := $"info".
Definition _inp_copy_kv_cb : ident := $"inp_copy_kv_cb".
Definition _inpr : ident := $"inpr".
Definition _inpw : ident := $"inpw".
Definition _ir : ident := $"ir".
Definition _irefsafe : ident := $"irefsafe".
Definition _is : ident := $"is".
Definition _is1 : ident := $"is1".
Definition _iter : ident := $"iter".
Definition _iter_create : ident := $"iter_create".
Definition _iter_destroy : ident := $"iter_destroy".
Definition _iter_inp : ident := $"iter_inp".
Definition _iter_kref : ident := $"iter_kref".
Definition _iter_kvref : ident := $"iter_kvref".
Definition _iter_next : ident := $"iter_next".
Definition _iter_park : ident := $"iter_park".
Definition _iter_peek : ident := $"iter_peek".
Definition _iter_release : ident := $"iter_release".
Definition _iter_retain : ident := $"iter_retain".
Definition _iter_seek : ident := $"iter_seek".
Definition _iter_skip : ident := $"iter_skip".
Definition _iter_skip1 : ident := $"iter_skip1".
Definition _iter_valid : ident := $"iter_valid".
Definition _ix : ident := $"ix".
Definition _iz : ident := $"iz".
Definition _j : ident := $"j".
Definition _k1 : ident := $"k1".
Definition _k13 : ident := $"k13".
Definition _k1__1 : ident := $"k1__1".
Definition _k2 : ident := $"k2".
Definition _k2__1 : ident := $"k2__1".
Definition _kbuf : ident := $"kbuf".
Definition _kbuf_end : ident := $"kbuf_end".
Definition _kbuf_out : ident := $"kbuf_out".
Definition _kbuf_size : ident := $"kbuf_size".
Definition _kbuf_start : ident := $"kbuf_start".
Definition _key : ident := $"key".
Definition _key1 : ident := $"key1".
Definition _key2 : ident := $"key2".
Definition _keybuf : ident := $"keybuf".
Definition _keyref : ident := $"keyref".
Definition _kh0 : ident := $"kh0".
Definition _kl0 : ident := $"kl0".
Definition _klen : ident := $"klen".
Definition _klen_end : ident := $"klen_end".
Definition _klen_out : ident := $"klen_out".
Definition _klen_start : ident := $"klen_start".
Definition _kptr : ident := $"kptr".
Definition _kref : ident := $"kref".
Definition _kref__1 : ident := $"kref__1".
Definition _kref_end : ident := $"kref_end".
Definition _kref_kv_compare : ident := $"kref_kv_compare".
Definition _kref_kv_match : ident := $"kref_kv_match".
Definition _kref_new : ident := $"kref_new".
Definition _kref_null : ident := $"kref_null".
Definition _kref_ref_hash32 : ident := $"kref_ref_hash32".
Definition _kref_ref_kv : ident := $"kref_ref_kv".
Definition _kref_start : ident := $"kref_start".
Definition _kv : ident := $"kv".
Definition _kv0 : ident := $"kv0".
Definition _kv__1 : ident := $"kv__1".
Definition _kv__2 : ident := $"kv__2".
Definition _kv_compare : ident := $"kv_compare".
Definition _kv_crc32c : ident := $"kv_crc32c".
Definition _kv_crc32c_extend : ident := $"kv_crc32c_extend".
Definition _kv_create : ident := $"kv_create".
Definition _kv_dup2 : ident := $"kv_dup2".
Definition _kv_dup2_key : ident := $"kv_dup2_key".
Definition _kv_key_lcp : ident := $"kv_key_lcp".
Definition _kv_kptr_c : ident := $"kv_kptr_c".
Definition _kv_kref : ident := $"kv_kref".
Definition _kv_null : ident := $"kv_null".
Definition _kv_refill : ident := $"kv_refill".
Definition _kv_update_hash : ident := $"kv_update_hash".
Definition _kv_vptr_c : ident := $"kv_vptr_c".
Definition _kvlen : ident := $"kvlen".
Definition _kvmap_api : ident := $"kvmap_api".
Definition _kvmap_api_whsafe : ident := $"kvmap_api_whsafe".
Definition _kvmap_api_whunsafe : ident := $"kvmap_api_whunsafe".
Definition _kvmap_api_wormhole : ident := $"kvmap_api_wormhole".
Definition _kvmap_mm : ident := $"kvmap_mm".
Definition _kvmap_mm_dup : ident := $"kvmap_mm_dup".
Definition _kvmap_mm_ndf : ident := $"kvmap_mm_ndf".
Definition _kvn : ident := $"kvn".
Definition _kvref : ident := $"kvref".
Definition _kvref__1 : ident := $"kvref__1".
Definition _kvref_ref_kv : ident := $"kvref_ref_kv".
Definition _l : ident := $"l".
Definition _l13 : ident := $"l13".
Definition _lcp : ident := $"lcp".
Definition _leaf : ident := $"leaf".
Definition _leaf0 : ident := $"leaf0".
Definition _leaf1 : ident := $"leaf1".
Definition _leaf1_sorted : ident := $"leaf1_sorted".
Definition _leaf2 : ident := $"leaf2".
Definition _leaf_klen_eq : ident := $"leaf_klen_eq".
Definition _leafa : ident := $"leafa".
Definition _leaflock : ident := $"leaflock".
Definition _leaftype : ident := $"leaftype".
Definition _leafx : ident := $"leafx".
Definition _leafz : ident := $"leafz".
Definition _len : ident := $"len".
Definition _len0 : ident := $"len0".
Definition _lo : ident := $"lo".
Definition _loh : ident := $"loh".
Definition _lpath : ident := $"lpath".
Definition _lrmost : ident := $"lrmost".
Definition _lv : ident := $"lv".
Definition _m : ident := $"m".
Definition _m0 : ident := $"m0".
Definition _main : ident := $"main".
Definition _malloc : ident := $"malloc".
Definition _map : ident := $"map".
Definition _mask : ident := $"mask".
Definition _mask0 : ident := $"mask0".
Definition _mask1 : ident := $"mask1".
Definition _maxplen : ident := $"maxplen".
Definition _mem : ident := $"mem".
Definition _memcmp : ident := $"memcmp".
Definition _memcpy : ident := $"memcpy".
Definition _memmove : ident := $"memmove".
Definition _memset : ident := $"memset".
Definition _merge : ident := $"merge".
Definition _meta : ident := $"meta".
Definition _meta1 : ident := $"meta1".
Definition _meta2 : ident := $"meta2".
Definition _metalock : ident := $"metalock".
Definition _mid : ident := $"mid".
Definition _mid0 : ident := $"mid0".
Definition _midt : ident := $"midt".
Definition _midx : ident := $"midx".
Definition _midy : ident := $"midy".
Definition _minmax : ident := $"minmax".
Definition _mkey : ident := $"mkey".
Definition _mklen : ident := $"mklen".
Definition _mm : ident := $"mm".
Definition _msize : ident := $"msize".
Definition _n : ident := $"n".
Definition _n0 : ident := $"n0".
Definition _n1 : ident := $"n1".
Definition _n2 : ident := $"n2".
Definition _ndel : ident := $"ndel".
Definition _new : ident := $"new".
Definition _new__1 : ident := $"new__1".
Definition _newkv : ident := $"newkv".
Definition _next : ident := $"next".
Definition _nh : ident := $"nh".
Definition _ni : ident := $"ni".
Definition _nr : ident := $"nr".
Definition _nr0 : ident := $"nr0".
Definition _nr1 : ident := $"nr1".
Definition _nr_keys : ident := $"nr_keys".
Definition _nr_slab_ul : ident := $"nr_slab_ul".
Definition _nr_slab_um11 : ident := $"nr_slab_um11".
Definition _nr_slab_um12 : ident := $"nr_slab_um12".
Definition _nr_slab_um21 : ident := $"nr_slab_um21".
Definition _nr_slab_um22 : ident := $"nr_slab_um22".
Definition _nr_slots : ident := $"nr_slots".
Definition _nr_sorted : ident := $"nr_sorted".
Definition _nrs64 : ident := $"nrs64".
Definition _nskip : ident := $"nskip".
Definition _old : ident := $"old".
Definition _oldmax : ident := $"oldmax".
Definition _ones : ident := $"ones".
Definition _opaque : ident := $"opaque".
Definition _ordered : ident := $"ordered".
Definition _out : ident := $"out".
Definition _p1 : ident := $"p1".
Definition _p13 : ident := $"p13".
Definition _p2 : ident := $"p2".
Definition _padding0 : ident := $"padding0".
Definition _padding1 : ident := $"padding1".
Definition _padding2 : ident := $"padding2".
Definition _pages_alloc_best : ident := $"pages_alloc_best".
Definition _pages_unmap : ident := $"pages_unmap".
Definition _parent : ident := $"parent".
Definition _park : ident := $"park".
Definition _pbuf : ident := $"pbuf".
Definition _pfx : ident := $"pfx".
Definition _pkey : ident := $"pkey".
Definition _pkey0 : ident := $"pkey0".
Definition _plen : ident := $"plen".
Definition _pmap : ident := $"pmap".
Definition _pmap0 : ident := $"pmap0".
Definition _prev : ident := $"prev".
Definition _priv : ident := $"priv".
Definition _privhi : ident := $"privhi".
Definition _privlo : ident := $"privlo".
Definition _privptr : ident := $"privptr".
Definition _probe : ident := $"probe".
Definition _psize : ident := $"psize".
Definition _pslot : ident := $"pslot".
Definition _ptr : ident := $"ptr".
Definition _ptr_to_u64 : ident := $"ptr_to_u64".
Definition _put : ident := $"put".
Definition _qref : ident := $"qref".
Definition _qsbr : ident := $"qsbr".
Definition _qsbr_create : ident := $"qsbr_create".
Definition _qsbr_destroy : ident := $"qsbr_destroy".
Definition _qsbr_park : ident := $"qsbr_park".
Definition _qsbr_ref : ident := $"qsbr_ref".
Definition _qsbr_register : ident := $"qsbr_register".
Definition _qsbr_resume : ident := $"qsbr_resume".
Definition _qsbr_unregister : ident := $"qsbr_unregister".
Definition _qsbr_update : ident := $"qsbr_update".
Definition _qsbr_wait : ident := $"qsbr_wait".
Definition _qsort_r : ident := $"qsort_r".
Definition _r : ident := $"r".
Definition _r13 : ident := $"r13".
Definition _readonly : ident := $"readonly".
Definition _ref : ident := $"ref".
Definition _refcnt : ident := $"refcnt".
Definition _refpark : ident := $"refpark".
Definition _reserved : ident := $"reserved".
Definition _resume : ident := $"resume".
Definition _ret : ident := $"ret".
Definition _rsi : ident := $"rsi".
Definition _rsm : ident := $"rsm".
Definition _rwlock_init : ident := $"rwlock_init".
Definition _rwlock_lock_read : ident := $"rwlock_lock_read".
Definition _rwlock_lock_write : ident := $"rwlock_lock_write".
Definition _rwlock_trylock_read : ident := $"rwlock_trylock_read".
Definition _rwlock_trylock_read_nr : ident := $"rwlock_trylock_read_nr".
Definition _rwlock_trylock_write : ident := $"rwlock_trylock_write".
Definition _rwlock_trylock_write_nr : ident := $"rwlock_trylock_write_nr".
Definition _rwlock_unlock_read : ident := $"rwlock_unlock_read".
Definition _rwlock_unlock_write : ident := $"rwlock_unlock_write".
Definition _s : ident := $"s".
Definition _s0 : ident := $"s0".
Definition _si : ident := $"si".
Definition _si64 : ident := $"si64".
Definition _sj : ident := $"sj".
Definition _sk : ident := $"sk".
Definition _skey : ident := $"skey".
Definition _slab : ident := $"slab".
Definition _slab1 : ident := $"slab1".
Definition _slab2 : ident := $"slab2".
Definition _slab__1 : ident := $"slab__1".
Definition _slab_alloc_safe : ident := $"slab_alloc_safe".
Definition _slab_alloc_unsafe : ident := $"slab_alloc_unsafe".
Definition _slab_create : ident := $"slab_create".
Definition _slab_destroy : ident := $"slab_destroy".
Definition _slab_free_all : ident := $"slab_free_all".
Definition _slab_free_safe : ident := $"slab_free_safe".
Definition _slab_free_unsafe : ident := $"slab_free_unsafe".
Definition _slab_get_nalloc : ident := $"slab_get_nalloc".
Definition _slab_leaf : ident := $"slab_leaf".
Definition _slab_reserve_unsafe : ident := $"slab_reserve_unsafe".
Definition _sleep : ident := $"sleep".
Definition _slot : ident := $"slot".
Definition _sortlock : ident := $"sortlock".
Definition _spinlock_init : ident := $"spinlock_init".
Definition _spinlock_lock : ident := $"spinlock_lock".
Definition _spinlock_unlock : ident := $"spinlock_unlock".
Definition _sr : ident := $"sr".
Definition _ss : ident := $"ss".
Definition _start : ident := $"start".
Definition _stderr : ident := $"stderr".
Definition _sv : ident := $"sv".
Definition _sync : ident := $"sync".
Definition _t : ident := $"t".
Definition _target : ident := $"target".
Definition _threadsafe : ident := $"threadsafe".
Definition _time_stamp : ident := $"time_stamp".
Definition _tmp : ident := $"tmp".
Definition _tmp__1 : ident := $"tmp__1".
Definition _to : ident := $"to".
Definition _todo : ident := $"todo".
Definition _ts : ident := $"ts".
Definition _u64_to_ptr : ident := $"u64_to_ptr".
Definition _uf : ident := $"uf".
Definition _unique : ident := $"unique".
Definition _unlock_leaf1 : ident := $"unlock_leaf1".
Definition _unref : ident := $"unref".
Definition _v : ident := $"v".
Definition _v1 : ident := $"v1".
Definition _v64 : ident := $"v64".
Definition _vbuf : ident := $"vbuf".
Definition _vbuf_out : ident := $"vbuf_out".
Definition _vbuf_size : ident := $"vbuf_size".
Definition _victim : ident := $"victim".
Definition _vlen : ident := $"vlen".
Definition _vlen_out : ident := $"vlen_out".
Definition _vptr : ident := $"vptr".
Definition _wh : ident := $"wh".
Definition _wh_api : ident := $"wh_api".
Definition _wh_clean : ident := $"wh_clean".
Definition _wh_create : ident := $"wh_create".
Definition _wh_del : ident := $"wh_del".
Definition _wh_delr : ident := $"wh_delr".
Definition _wh_destroy : ident := $"wh_destroy".
Definition _wh_get : ident := $"wh_get".
Definition _wh_inp_copy_value : ident := $"wh_inp_copy_value".
Definition _wh_inp_info : ident := $"wh_inp_info".
Definition _wh_inpr : ident := $"wh_inpr".
Definition _wh_inpw : ident := $"wh_inpw".
Definition _wh_iter_create : ident := $"wh_iter_create".
Definition _wh_iter_destroy : ident := $"wh_iter_destroy".
Definition _wh_iter_inp : ident := $"wh_iter_inp".
Definition _wh_iter_inp_info : ident := $"wh_iter_inp_info".
Definition _wh_iter_park : ident := $"wh_iter_park".
Definition _wh_iter_peek : ident := $"wh_iter_peek".
Definition _wh_iter_seek : ident := $"wh_iter_seek".
Definition _wh_iter_skip : ident := $"wh_iter_skip".
Definition _wh_iter_skip1 : ident := $"wh_iter_skip1".
Definition _wh_iter_valid : ident := $"wh_iter_valid".
Definition _wh_merge : ident := $"wh_merge".
Definition _wh_park : ident := $"wh_park".
Definition _wh_probe : ident := $"wh_probe".
Definition _wh_put : ident := $"wh_put".
Definition _wh_ref : ident := $"wh_ref".
Definition _wh_resume : ident := $"wh_resume".
Definition _wh_unref : ident := $"wh_unref".
Definition _whsafe_del : ident := $"whsafe_del".
Definition _whsafe_delr : ident := $"whsafe_delr".
Definition _whsafe_get : ident := $"whsafe_get".
Definition _whsafe_inpr : ident := $"whsafe_inpr".
Definition _whsafe_inpw : ident := $"whsafe_inpw".
Definition _whsafe_iter_destroy : ident := $"whsafe_iter_destroy".
Definition _whsafe_iter_park : ident := $"whsafe_iter_park".
Definition _whsafe_iter_seek : ident := $"whsafe_iter_seek".
Definition _whsafe_merge : ident := $"whsafe_merge".
Definition _whsafe_probe : ident := $"whsafe_probe".
Definition _whsafe_put : ident := $"whsafe_put".
Definition _whsafe_ref : ident := $"whsafe_ref".
Definition _whunsafe_create : ident := $"whunsafe_create".
Definition _whunsafe_del : ident := $"whunsafe_del".
Definition _whunsafe_del_try_merge : ident := $"whunsafe_del_try_merge".
Definition _whunsafe_delr : ident := $"whunsafe_delr".
Definition _whunsafe_get : ident := $"whunsafe_get".
Definition _whunsafe_inp : ident := $"whunsafe_inp".
Definition _whunsafe_iter_create : ident := $"whunsafe_iter_create".
Definition _whunsafe_iter_destroy : ident := $"whunsafe_iter_destroy".
Definition _whunsafe_iter_fix : ident := $"whunsafe_iter_fix".
Definition _whunsafe_iter_next : ident := $"whunsafe_iter_next".
Definition _whunsafe_iter_seek : ident := $"whunsafe_iter_seek".
Definition _whunsafe_iter_skip : ident := $"whunsafe_iter_skip".
Definition _whunsafe_iter_skip1 : ident := $"whunsafe_iter_skip1".
Definition _whunsafe_merge : ident := $"whunsafe_merge".
Definition _whunsafe_meta_leaf_merge : ident := $"whunsafe_meta_leaf_merge".
Definition _whunsafe_probe : ident := $"whunsafe_probe".
Definition _whunsafe_put : ident := $"whunsafe_put".
Definition _whunsafe_split_insert : ident := $"whunsafe_split_insert".
Definition _whunsafe_split_meta : ident := $"whunsafe_split_meta".
Definition _wmap : ident := $"wmap".
Definition _wmap0 : ident := $"wmap0".
Definition _wormhmap : ident := $"wormhmap".
Definition _wormhmap_cuckoo : ident := $"wormhmap_cuckoo".
Definition _wormhmap_deinit : ident := $"wormhmap_deinit".
Definition _wormhmap_del : ident := $"wormhmap_del".
Definition _wormhmap_del_slot : ident := $"wormhmap_del_slot".
Definition _wormhmap_expand : ident := $"wormhmap_expand".
Definition _wormhmap_get : ident := $"wormhmap_get".
Definition _wormhmap_get_kref : ident := $"wormhmap_get_kref".
Definition _wormhmap_get_kref1 : ident := $"wormhmap_get_kref1".
Definition _wormhmap_get_kref1_slot : ident := $"wormhmap_get_kref1_slot".
Definition _wormhmap_get_kref_slot : ident := $"wormhmap_get_kref_slot".
Definition _wormhmap_get_meta : ident := $"wormhmap_get_meta".
Definition _wormhmap_get_slot : ident := $"wormhmap_get_slot".
Definition _wormhmap_init : ident := $"wormhmap_init".
Definition _wormhmap_load : ident := $"wormhmap_load".
Definition _wormhmap_lock : ident := $"wormhmap_lock".
Definition _wormhmap_m128_pkey : ident := $"wormhmap_m128_pkey".
Definition _wormhmap_match_any : ident := $"wormhmap_match_any".
Definition _wormhmap_match_mask : ident := $"wormhmap_match_mask".
Definition _wormhmap_peek : ident := $"wormhmap_peek".
Definition _wormhmap_prefetch_pmap : ident := $"wormhmap_prefetch_pmap".
Definition _wormhmap_replace : ident := $"wormhmap_replace".
Definition _wormhmap_replace_slot : ident := $"wormhmap_replace_slot".
Definition _wormhmap_set : ident := $"wormhmap_set".
Definition _wormhmap_slot_count : ident := $"wormhmap_slot_count".
Definition _wormhmap_squeeze : ident := $"wormhmap_squeeze".
Definition _wormhmap_store : ident := $"wormhmap_store".
Definition _wormhmap_switch : ident := $"wormhmap_switch".
Definition _wormhmap_unlock : ident := $"wormhmap_unlock".
Definition _wormhmap_version_load : ident := $"wormhmap_version_load".
Definition _wormhmap_version_store : ident := $"wormhmap_version_store".
Definition _wormhmap_zero : ident := $"wormhmap_zero".
Definition _wormhole : ident := $"wormhole".
Definition _wormhole_alloc_akey : ident := $"wormhole_alloc_akey".
Definition _wormhole_alloc_mkey : ident := $"wormhole_alloc_mkey".
Definition _wormhole_bswap : ident := $"wormhole_bswap".
Definition _wormhole_clean : ident := $"wormhole_clean".
Definition _wormhole_clean_helper : ident := $"wormhole_clean_helper".
Definition _wormhole_clean_hmap : ident := $"wormhole_clean_hmap".
Definition _wormhole_create : ident := $"wormhole_create".
Definition _wormhole_create_internal : ident := $"wormhole_create_internal".
Definition _wormhole_create_leaf0 : ident := $"wormhole_create_leaf0".
Definition _wormhole_del : ident := $"wormhole_del".
Definition _wormhole_del_try_merge : ident := $"wormhole_del_try_merge".
Definition _wormhole_delr : ident := $"wormhole_delr".
Definition _wormhole_destroy : ident := $"wormhole_destroy".
Definition _wormhole_fprint : ident := $"wormhole_fprint".
Definition _wormhole_free_akey : ident := $"wormhole_free_akey".
Definition _wormhole_free_leaf_keys : ident := $"wormhole_free_leaf_keys".
Definition _wormhole_free_mkey : ident := $"wormhole_free_mkey".
Definition _wormhole_get : ident := $"wormhole_get".
Definition _wormhole_inpr : ident := $"wormhole_inpr".
Definition _wormhole_inpw : ident := $"wormhole_inpw".
Definition _wormhole_iter : ident := $"wormhole_iter".
Definition _wormhole_iter_create : ident := $"wormhole_iter_create".
Definition _wormhole_iter_current : ident := $"wormhole_iter_current".
Definition _wormhole_iter_destroy : ident := $"wormhole_iter_destroy".
Definition _wormhole_iter_fix : ident := $"wormhole_iter_fix".
Definition _wormhole_iter_inp : ident := $"wormhole_iter_inp".
Definition _wormhole_iter_kref : ident := $"wormhole_iter_kref".
Definition _wormhole_iter_kvref : ident := $"wormhole_iter_kvref".
Definition _wormhole_iter_leaf_sync_sorted : ident := $"wormhole_iter_leaf_sync_sorted".
Definition _wormhole_iter_next : ident := $"wormhole_iter_next".
Definition _wormhole_iter_park : ident := $"wormhole_iter_park".
Definition _wormhole_iter_peek : ident := $"wormhole_iter_peek".
Definition _wormhole_iter_seek : ident := $"wormhole_iter_seek".
Definition _wormhole_iter_skip : ident := $"wormhole_iter_skip".
Definition _wormhole_iter_skip1 : ident := $"wormhole_iter_skip1".
Definition _wormhole_iter_valid : ident := $"wormhole_iter_valid".
Definition _wormhole_jump_leaf : ident := $"wormhole_jump_leaf".
Definition _wormhole_jump_leaf_read : ident := $"wormhole_jump_leaf_read".
Definition _wormhole_jump_leaf_write : ident := $"wormhole_jump_leaf_write".
Definition _wormhole_key_meta_match : ident := $"wormhole_key_meta_match".
Definition _wormhole_kref1_meta_match : ident := $"wormhole_kref1_meta_match".
Definition _wormhole_kref_inc : ident := $"wormhole_kref_inc".
Definition _wormhole_kref_inc_123 : ident := $"wormhole_kref_inc_123".
Definition _wormhole_kref_kv_match : ident := $"wormhole_kref_kv_match".
Definition _wormhole_kref_meta_match : ident := $"wormhole_kref_meta_match".
Definition _wormhole_merge : ident := $"wormhole_merge".
Definition _wormhole_meta_down : ident := $"wormhole_meta_down".
Definition _wormhole_meta_lcp : ident := $"wormhole_meta_lcp".
Definition _wormhole_meta_leaf_merge : ident := $"wormhole_meta_leaf_merge".
Definition _wormhole_meta_merge : ident := $"wormhole_meta_merge".
Definition _wormhole_park : ident := $"wormhole_park".
Definition _wormhole_pkey : ident := $"wormhole_pkey".
Definition _wormhole_prefix : ident := $"wormhole_prefix".
Definition _wormhole_prefix_inc1 : ident := $"wormhole_prefix_inc1".
Definition _wormhole_probe : ident := $"wormhole_probe".
Definition _wormhole_put : ident := $"wormhole_put".
Definition _wormhole_qsbr_update_pause : ident := $"wormhole_qsbr_update_pause".
Definition _wormhole_ref : ident := $"wormhole_ref".
Definition _wormhole_refresh_qstate : ident := $"wormhole_refresh_qstate".
Definition _wormhole_resume : ident := $"wormhole_resume".
Definition _wormhole_slab_reserve : ident := $"wormhole_slab_reserve".
Definition _wormhole_split_alloc_anchor : ident := $"wormhole_split_alloc_anchor".
Definition _wormhole_split_cut_alen_check : ident := $"wormhole_split_cut_alen_check".
Definition _wormhole_split_cut_search1 : ident := $"wormhole_split_cut_search1".
Definition _wormhole_split_insert : ident := $"wormhole_split_insert".
Definition _wormhole_split_leaf : ident := $"wormhole_split_leaf".
Definition _wormhole_split_leaf_move : ident := $"wormhole_split_leaf_move".
Definition _wormhole_split_meta : ident := $"wormhole_split_meta".
Definition _wormhole_unref : ident := $"wormhole_unref".
Definition _wormleaf : ident := $"wormleaf".
Definition _wormleaf_alloc : ident := $"wormleaf_alloc".
Definition _wormleaf_delete_range : ident := $"wormleaf_delete_range".
Definition _wormleaf_free : ident := $"wormleaf_free".
Definition _wormleaf_insert : ident := $"wormleaf_insert".
Definition _wormleaf_insert_e13 : ident := $"wormleaf_insert_e13".
Definition _wormleaf_insert_hs : ident := $"wormleaf_insert_hs".
Definition _wormleaf_kv_at_ih : ident := $"wormleaf_kv_at_ih".
Definition _wormleaf_kv_at_is : ident := $"wormleaf_kv_at_is".
Definition _wormleaf_kv_at_is1 : ident := $"wormleaf_kv_at_is1".
Definition _wormleaf_lock_read : ident := $"wormleaf_lock_read".
Definition _wormleaf_lock_write : ident := $"wormleaf_lock_write".
Definition _wormleaf_match_hs : ident := $"wormleaf_match_hs".
Definition _wormleaf_merge : ident := $"wormleaf_merge".
Definition _wormleaf_prefetch : ident := $"wormleaf_prefetch".
Definition _wormleaf_prefetch_ss : ident := $"wormleaf_prefetch_ss".
Definition _wormleaf_pull_ih : ident := $"wormleaf_pull_ih".
Definition _wormleaf_remove : ident := $"wormleaf_remove".
Definition _wormleaf_remove_ih : ident := $"wormleaf_remove_ih".
Definition _wormleaf_remove_is : ident := $"wormleaf_remove_is".
Definition _wormleaf_search_ih : ident := $"wormleaf_search_ih".
Definition _wormleaf_search_is : ident := $"wormleaf_search_is".
Definition _wormleaf_search_ss : ident := $"wormleaf_search_ss".
Definition _wormleaf_seek : ident := $"wormleaf_seek".
Definition _wormleaf_seek_end : ident := $"wormleaf_seek_end".
Definition _wormleaf_shift_dec : ident := $"wormleaf_shift_dec".
Definition _wormleaf_shift_inc : ident := $"wormleaf_shift_inc".
Definition _wormleaf_sort_m2 : ident := $"wormleaf_sort_m2".
Definition _wormleaf_sort_range : ident := $"wormleaf_sort_range".
Definition _wormleaf_split_undo : ident := $"wormleaf_split_undo".
Definition _wormleaf_ss_cmp : ident := $"wormleaf_ss_cmp".
Definition _wormleaf_sync_sorted : ident := $"wormleaf_sync_sorted".
Definition _wormleaf_unlock_read : ident := $"wormleaf_unlock_read".
Definition _wormleaf_unlock_write : ident := $"wormleaf_unlock_write".
Definition _wormleaf_update : ident := $"wormleaf_update".
Definition _wormleaf_version_load : ident := $"wormleaf_version_load".
Definition _wormleaf_version_store : ident := $"wormleaf_version_store".
Definition _wormmbkt : ident := $"wormmbkt".
Definition _wormmeta : ident := $"wormmeta".
Definition _wormmeta_alloc : ident := $"wormmeta_alloc".
Definition _wormmeta_bitmax_load : ident := $"wormmeta_bitmax_load".
Definition _wormmeta_bitmax_store : ident := $"wormmeta_bitmax_store".
Definition _wormmeta_bitmin_load : ident := $"wormmeta_bitmin_load".
Definition _wormmeta_bitmin_store : ident := $"wormmeta_bitmin_store".
Definition _wormmeta_bm_clear : ident := $"wormmeta_bm_clear".
Definition _wormmeta_bm_clear_helper : ident := $"wormmeta_bm_clear_helper".
Definition _wormmeta_bm_gt : ident := $"wormmeta_bm_gt".
Definition _wormmeta_bm_lt : ident := $"wormmeta_bm_lt".
Definition _wormmeta_bm_set : ident := $"wormmeta_bm_set".
Definition _wormmeta_bm_set_helper : ident := $"wormmeta_bm_set_helper".
Definition _wormmeta_bm_test : ident := $"wormmeta_bm_test".
Definition _wormmeta_expand : ident := $"wormmeta_expand".
Definition _wormmeta_free : ident := $"wormmeta_free".
Definition _wormmeta_hash32_load : ident := $"wormmeta_hash32_load".
Definition _wormmeta_init : ident := $"wormmeta_init".
Definition _wormmeta_keyref_load : ident := $"wormmeta_keyref_load".
Definition _wormmeta_keyref_release : ident := $"wormmeta_keyref_release".
Definition _wormmeta_klen_load : ident := $"wormmeta_klen_load".
Definition _wormmeta_lmost_load : ident := $"wormmeta_lmost_load".
Definition _wormmeta_lmost_store : ident := $"wormmeta_lmost_store".
Definition _wormmeta_lpath_load : ident := $"wormmeta_lpath_load".
Definition _wormmeta_lpath_store : ident := $"wormmeta_lpath_store".
Definition _wormmeta_lpath_update : ident := $"wormmeta_lpath_update".
Definition _wormmeta_merge : ident := $"wormmeta_merge".
Definition _wormmeta_rmost_load : ident := $"wormmeta_rmost_load".
Definition _wormmeta_rmost_store : ident := $"wormmeta_rmost_store".
Definition _wormmeta_shrink : ident := $"wormmeta_shrink".
Definition _wormmeta_split : ident := $"wormmeta_split".
Definition _wormmeta_split_touch : ident := $"wormmeta_split_touch".
Definition _wormref : ident := $"wormref".
Definition _wormslot : ident := $"wormslot".
Definition _wsize : ident := $"wsize".
Definition _x : ident := $"x".
Definition _yalloc : ident := $"yalloc".
Definition _z1 : ident := $"z1".
Definition _z1__1 : ident := $"z1__1".
Definition _z2 : ident := $"z2".
Definition _z2__1 : ident := $"z2__1".
Definition _zeros : ident := $"zeros".
Definition _t'1 : ident := 128%positive.
Definition _t'10 : ident := 137%positive.
Definition _t'11 : ident := 138%positive.
Definition _t'12 : ident := 139%positive.
Definition _t'13 : ident := 140%positive.
Definition _t'14 : ident := 141%positive.
Definition _t'15 : ident := 142%positive.
Definition _t'16 : ident := 143%positive.
Definition _t'17 : ident := 144%positive.
Definition _t'18 : ident := 145%positive.
Definition _t'19 : ident := 146%positive.
Definition _t'2 : ident := 129%positive.
Definition _t'20 : ident := 147%positive.
Definition _t'21 : ident := 148%positive.
Definition _t'22 : ident := 149%positive.
Definition _t'23 : ident := 150%positive.
Definition _t'24 : ident := 151%positive.
Definition _t'25 : ident := 152%positive.
Definition _t'26 : ident := 153%positive.
Definition _t'3 : ident := 130%positive.
Definition _t'4 : ident := 131%positive.
Definition _t'5 : ident := 132%positive.
Definition _t'6 : ident := 133%positive.
Definition _t'7 : ident := 134%positive.
Definition _t'8 : ident := 135%positive.
Definition _t'9 : ident := 136%positive.

Definition v___stringlit_2 := {|
  gvar_info := (tarray tschar 30);
  gvar_init := (Init_int8 (Int.repr 37) :: Init_int8 (Int.repr 115) ::
                Init_int8 (Int.repr 32) :: Init_int8 (Int.repr 37) ::
                Init_int8 (Int.repr 115) :: Init_int8 (Int.repr 32) ::
                Init_int8 (Int.repr 109) :: Init_int8 (Int.repr 101) ::
                Init_int8 (Int.repr 109) :: Init_int8 (Int.repr 111) ::
                Init_int8 (Int.repr 114) :: Init_int8 (Int.repr 121) ::
                Init_int8 (Int.repr 32) :: Init_int8 (Int.repr 97) ::
                Init_int8 (Int.repr 108) :: Init_int8 (Int.repr 108) ::
                Init_int8 (Int.repr 111) :: Init_int8 (Int.repr 99) ::
                Init_int8 (Int.repr 97) :: Init_int8 (Int.repr 116) ::
                Init_int8 (Int.repr 105) :: Init_int8 (Int.repr 111) ::
                Init_int8 (Int.repr 110) :: Init_int8 (Int.repr 32) ::
                Init_int8 (Int.repr 100) :: Init_int8 (Int.repr 111) ::
                Init_int8 (Int.repr 110) :: Init_int8 (Int.repr 101) ::
                Init_int8 (Int.repr 10) :: Init_int8 (Int.repr 0) :: nil);
  gvar_readonly := true;
  gvar_volatile := false
|}.

Definition v___stringlit_3 := {|
  gvar_info := (tarray tschar 46);
  gvar_init := (Init_int8 (Int.repr 37) :: Init_int8 (Int.repr 115) ::
                Init_int8 (Int.repr 32) :: Init_int8 (Int.repr 76) ::
                Init_int8 (Int.repr 45) :: Init_int8 (Int.repr 83) ::
                Init_int8 (Int.repr 76) :: Init_int8 (Int.repr 65) ::
                Init_int8 (Int.repr 66) :: Init_int8 (Int.repr 32) ::
                Init_int8 (Int.repr 37) :: Init_int8 (Int.repr 108) ::
                Init_int8 (Int.repr 117) :: Init_int8 (Int.repr 32) ::
                Init_int8 (Int.repr 77) :: Init_int8 (Int.repr 45) ::
                Init_int8 (Int.repr 83) :: Init_int8 (Int.repr 76) ::
                Init_int8 (Int.repr 65) :: Init_int8 (Int.repr 66) ::
                Init_int8 (Int.repr 32) :: Init_int8 (Int.repr 91) ::
                Init_int8 (Int.repr 48) :: Init_int8 (Int.repr 93) ::
                Init_int8 (Int.repr 32) :: Init_int8 (Int.repr 37) ::
                Init_int8 (Int.repr 108) :: Init_int8 (Int.repr 117) ::
                Init_int8 (Int.repr 43) :: Init_int8 (Int.repr 37) ::
                Init_int8 (Int.repr 108) :: Init_int8 (Int.repr 117) ::
                Init_int8 (Int.repr 32) :: Init_int8 (Int.repr 91) ::
                Init_int8 (Int.repr 49) :: Init_int8 (Int.repr 93) ::
                Init_int8 (Int.repr 32) :: Init_int8 (Int.repr 37) ::
                Init_int8 (Int.repr 108) :: Init_int8 (Int.repr 117) ::
                Init_int8 (Int.repr 43) :: Init_int8 (Int.repr 37) ::
                Init_int8 (Int.repr 108) :: Init_int8 (Int.repr 117) ::
                Init_int8 (Int.repr 10) :: Init_int8 (Int.repr 0) :: nil);
  gvar_readonly := true;
  gvar_volatile := false
|}.

Definition v___stringlit_1 := {|
  gvar_info := (tarray tschar 46);
  gvar_init := (Init_int8 (Int.repr 37) :: Init_int8 (Int.repr 115) ::
                Init_int8 (Int.repr 32) :: Init_int8 (Int.repr 37) ::
                Init_int8 (Int.repr 115) :: Init_int8 (Int.repr 32) ::
                Init_int8 (Int.repr 115) :: Init_int8 (Int.repr 108) ::
                Init_int8 (Int.repr 101) :: Init_int8 (Int.repr 101) ::
                Init_int8 (Int.repr 112) :: Init_int8 (Int.repr 45) ::
                Init_int8 (Int.repr 119) :: Init_int8 (Int.repr 97) ::
                Init_int8 (Int.repr 105) :: Init_int8 (Int.repr 116) ::
                Init_int8 (Int.repr 32) :: Init_int8 (Int.repr 102) ::
                Init_int8 (Int.repr 111) :: Init_int8 (Int.repr 114) ::
                Init_int8 (Int.repr 32) :: Init_int8 (Int.repr 109) ::
                Init_int8 (Int.repr 101) :: Init_int8 (Int.repr 109) ::
                Init_int8 (Int.repr 111) :: Init_int8 (Int.repr 114) ::
                Init_int8 (Int.repr 121) :: Init_int8 (Int.repr 32) ::
                Init_int8 (Int.repr 97) :: Init_int8 (Int.repr 108) ::
                Init_int8 (Int.repr 108) :: Init_int8 (Int.repr 111) ::
                Init_int8 (Int.repr 99) :: Init_int8 (Int.repr 97) ::
                Init_int8 (Int.repr 116) :: Init_int8 (Int.repr 105) ::
                Init_int8 (Int.repr 111) :: Init_int8 (Int.repr 110) ::
                Init_int8 (Int.repr 32) :: Init_int8 (Int.repr 37) ::
                Init_int8 (Int.repr 108) :: Init_int8 (Int.repr 117) ::
                Init_int8 (Int.repr 107) :: Init_int8 (Int.repr 66) ::
                Init_int8 (Int.repr 10) :: Init_int8 (Int.repr 0) :: nil);
  gvar_readonly := true;
  gvar_volatile := false
|}.

Definition v_stderr := {|
  gvar_info := (tptr (Tstruct __IO_FILE noattr));
  gvar_init := nil;
  gvar_readonly := false;
  gvar_volatile := false
|}.

Definition v_kvmap_mm_dup := {|
  gvar_info := (Tstruct _kvmap_mm noattr);
  gvar_init := nil;
  gvar_readonly := true;
  gvar_volatile := false
|}.

Definition v_kvmap_mm_ndf := {|
  gvar_info := (Tstruct _kvmap_mm noattr);
  gvar_init := nil;
  gvar_readonly := true;
  gvar_volatile := false
|}.

Definition f_wormmeta_keyref_load := {|
  fn_return := (tptr (Tstruct _kv noattr));
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr tvoid)) :: (_t'2, tulong) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'2
      (Efield
        (Efield
          (Efield
            (Efield
              (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
                (Tstruct _wormmeta noattr)) _k13
              (Tstruct _entry13__1 noattr)) 18727075383868559167%positive
            (Tunion __6498 noattr)) 18727075383868559167%positive
          (Tstruct __6499 noattr)) _e3 tulong))
    (Scall (Some _t'1)
      (Evar _u64_to_ptr (Tfunction (Tcons tulong Tnil) (tptr tvoid)
                          cc_default)) ((Etempvar _t'2 tulong) :: nil)))
  (Sreturn (Some (Etempvar _t'1 (tptr tvoid)))))
|}.

Definition f_wormmeta_klen_load := {|
  fn_return := tushort;
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tushort) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1
    (Efield
      (Efield
        (Efield
          (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
            (Tstruct _wormmeta noattr)) _k13 (Tstruct _entry13__1 noattr))
        18727075383868559167%positive (Tunion __6498 noattr)) _e1 tushort))
  (Sreturn (Some (Etempvar _t'1 tushort))))
|}.

Definition f_wormmeta_lmost_load := {|
  fn_return := (tptr (Tstruct _wormleaf noattr));
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr tvoid)) :: (_t'2, tulong) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'2
      (Efield
        (Efield
          (Efield
            (Efield
              (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
                (Tstruct _wormmeta noattr)) _l13
              (Tstruct _entry13__1 noattr)) 18727075383868559167%positive
            (Tunion __6498 noattr)) 18727075383868559167%positive
          (Tstruct __6499 noattr)) _e3 tulong))
    (Scall (Some _t'1)
      (Evar _u64_to_ptr (Tfunction (Tcons tulong Tnil) (tptr tvoid)
                          cc_default))
      ((Ebinop Oand (Etempvar _t'2 tulong)
         (Eunop Onotint (Econst_long (Int64.repr 63) tulong) tulong) tulong) ::
       nil)))
  (Sreturn (Some (Etempvar _t'1 (tptr tvoid)))))
|}.

Definition f_wormmeta_bitmin_load := {|
  fn_return := tuint;
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tulong) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1
    (Efield
      (Efield
        (Efield
          (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
            (Tstruct _wormmeta noattr)) _l13 (Tstruct _entry13__1 noattr))
        18727075383868559167%positive (Tunion __6498 noattr)) _v64 tulong))
  (Sreturn (Some (Ecast
                   (Ebinop Oand (Etempvar _t'1 tulong)
                     (Econst_long (Int64.repr 511) tulong) tulong) tuint))))
|}.

Definition f_wormmeta_bitmax_load := {|
  fn_return := tuint;
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tulong) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1
    (Efield
      (Efield
        (Efield
          (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
            (Tstruct _wormmeta noattr)) _l13 (Tstruct _entry13__1 noattr))
        18727075383868559167%positive (Tunion __6498 noattr)) _v64 tulong))
  (Sreturn (Some (Ecast
                   (Ebinop Oand
                     (Ebinop Oshr (Etempvar _t'1 tulong)
                       (Econst_int (Int.repr 9) tint) tulong)
                     (Econst_long (Int64.repr 511) tulong) tulong) tuint))))
|}.

Definition f_wormmeta_hash32_load := {|
  fn_return := tuint;
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'2, tushort) :: (_t'1, tushort) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1
    (Efield
      (Efield
        (Efield
          (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
            (Tstruct _wormmeta noattr)) _r13 (Tstruct _entry13__1 noattr))
        18727075383868559167%positive (Tunion __6498 noattr)) _e1 tushort))
  (Ssequence
    (Sset _t'2
      (Efield
        (Efield
          (Efield
            (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
              (Tstruct _wormmeta noattr)) _p13 (Tstruct _entry13__1 noattr))
          18727075383868559167%positive (Tunion __6498 noattr)) _e1 tushort))
    (Sreturn (Some (Ebinop Oor (Ecast (Etempvar _t'1 tushort) tuint)
                     (Ebinop Oshl (Ecast (Etempvar _t'2 tushort) tuint)
                       (Econst_int (Int.repr 16) tint) tuint) tuint)))))
|}.

Definition f_wormmeta_rmost_load := {|
  fn_return := (tptr (Tstruct _wormleaf noattr));
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr tvoid)) :: (_t'2, tulong) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'2
      (Efield
        (Efield
          (Efield
            (Efield
              (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
                (Tstruct _wormmeta noattr)) _r13
              (Tstruct _entry13__1 noattr)) 18727075383868559167%positive
            (Tunion __6498 noattr)) 18727075383868559167%positive
          (Tstruct __6499 noattr)) _e3 tulong))
    (Scall (Some _t'1)
      (Evar _u64_to_ptr (Tfunction (Tcons tulong Tnil) (tptr tvoid)
                          cc_default)) ((Etempvar _t'2 tulong) :: nil)))
  (Sreturn (Some (Etempvar _t'1 (tptr tvoid)))))
|}.

Definition f_wormmeta_lpath_load := {|
  fn_return := (tptr (Tstruct _wormleaf noattr));
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr tvoid)) :: (_t'2, tulong) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'2
      (Efield
        (Efield
          (Efield
            (Efield
              (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
                (Tstruct _wormmeta noattr)) _p13
              (Tstruct _entry13__1 noattr)) 18727075383868559167%positive
            (Tunion __6498 noattr)) 18727075383868559167%positive
          (Tstruct __6499 noattr)) _e3 tulong))
    (Scall (Some _t'1)
      (Evar _u64_to_ptr (Tfunction (Tcons tulong Tnil) (tptr tvoid)
                          cc_default)) ((Etempvar _t'2 tulong) :: nil)))
  (Sreturn (Some (Etempvar _t'1 (tptr tvoid)))))
|}.

Definition f_wormmeta_lpath_store := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) ::
                (_leaf, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tulong) :: nil);
  fn_body :=
(Ssequence
  (Scall (Some _t'1)
    (Evar _ptr_to_u64 (Tfunction (Tcons (tptr tvoid) Tnil) tulong cc_default))
    ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
  (Scall None
    (Evar _entry13_update_e3 (Tfunction
                               (Tcons (tptr (Tstruct _entry13__1 noattr))
                                 (Tcons tulong Tnil)) tvoid cc_default))
    ((Eaddrof
       (Efield
         (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
           (Tstruct _wormmeta noattr)) _p13 (Tstruct _entry13__1 noattr))
       (tptr (Tstruct _entry13__1 noattr))) :: (Etempvar _t'1 tulong) :: nil)))
|}.

Definition f_wormmeta_lmost_store := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) ::
                (_leaf, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_minmax, tulong) :: (_leaf_klen_eq, tbool) ::
               (_t'2, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'1, tushort) :: (_t'6, tulong) :: (_t'5, tuint) ::
               (_t'4, (tptr (Tstruct _kv noattr))) ::
               (_t'3, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'6
      (Efield
        (Efield
          (Efield
            (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
              (Tstruct _wormmeta noattr)) _l13 (Tstruct _entry13__1 noattr))
          18727075383868559167%positive (Tunion __6498 noattr)) _v64 tulong))
    (Sset _minmax
      (Ebinop Oand (Etempvar _t'6 tulong)
        (Econst_long (Int64.repr 262143) tulong) tulong)))
  (Ssequence
    (Sassign
      (Efield
        (Efield
          (Efield
            (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
              (Tstruct _wormmeta noattr)) _l13 (Tstruct _entry13__1 noattr))
          18727075383868559167%positive (Tunion __6498 noattr)) _v64 tulong)
      (Ebinop Oor
        (Ebinop Oshl
          (Ecast (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) tulong)
          (Econst_int (Int.repr 16) tint) tulong) (Etempvar _minmax tulong)
        tulong))
    (Ssequence
      (Ssequence
        (Scall (Some _t'1)
          (Evar _wormmeta_klen_load (Tfunction
                                      (Tcons
                                        (tptr (Tstruct _wormmeta noattr))
                                        Tnil) tushort cc_default))
          ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
        (Ssequence
          (Sset _t'4
            (Efield
              (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                (Tstruct _wormleaf noattr)) _anchor
              (tptr (Tstruct _kv noattr))))
          (Ssequence
            (Sset _t'5
              (Efield
                (Efield
                  (Efield
                    (Ederef (Etempvar _t'4 (tptr (Tstruct _kv noattr)))
                      (Tstruct _kv noattr)) 18727075383868559167%positive
                    (Tunion __6646 noattr)) 18727075383868559167%positive
                  (Tstruct __6647 noattr)) _klen tuint))
            (Sset _leaf_klen_eq
              (Ecast
                (Ebinop Oeq (Etempvar _t'5 tuint) (Etempvar _t'1 tushort)
                  tint) tbool)))))
      (Ssequence
        (Sifthenelse (Etempvar _leaf_klen_eq tbool)
          (Sset _t'2
            (Ecast (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
              (tptr (Tstruct _wormleaf noattr))))
          (Ssequence
            (Sset _t'3
              (Efield
                (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _prev
                (tptr (Tstruct _wormleaf noattr))))
            (Sset _t'2
              (Ecast (Etempvar _t'3 (tptr (Tstruct _wormleaf noattr)))
                (tptr (Tstruct _wormleaf noattr))))))
        (Scall None
          (Evar _wormmeta_lpath_store (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormmeta noattr))
                                          (Tcons
                                            (tptr (Tstruct _wormleaf noattr))
                                            Tnil)) tvoid cc_default))
          ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
           (Etempvar _t'2 (tptr (Tstruct _wormleaf noattr))) :: nil))))))
|}.

Definition f_wormmeta_bitmin_store := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) ::
                (_bitmin, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tulong) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1
    (Efield
      (Efield
        (Efield
          (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
            (Tstruct _wormmeta noattr)) _l13 (Tstruct _entry13__1 noattr))
        18727075383868559167%positive (Tunion __6498 noattr)) _v64 tulong))
  (Sassign
    (Efield
      (Efield
        (Efield
          (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
            (Tstruct _wormmeta noattr)) _l13 (Tstruct _entry13__1 noattr))
        18727075383868559167%positive (Tunion __6498 noattr)) _v64 tulong)
    (Ebinop Oor
      (Ebinop Oand (Etempvar _t'1 tulong)
        (Eunop Onotint (Econst_long (Int64.repr 511) tulong) tulong) tulong)
      (Etempvar _bitmin tuint) tulong)))
|}.

Definition f_wormmeta_bitmax_store := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) ::
                (_bitmax, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tulong) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1
    (Efield
      (Efield
        (Efield
          (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
            (Tstruct _wormmeta noattr)) _l13 (Tstruct _entry13__1 noattr))
        18727075383868559167%positive (Tunion __6498 noattr)) _v64 tulong))
  (Sassign
    (Efield
      (Efield
        (Efield
          (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
            (Tstruct _wormmeta noattr)) _l13 (Tstruct _entry13__1 noattr))
        18727075383868559167%positive (Tunion __6498 noattr)) _v64 tulong)
    (Ebinop Oor
      (Ebinop Oand (Etempvar _t'1 tulong)
        (Eunop Onotint (Econst_long (Int64.repr 261632) tulong) tulong)
        tulong)
      (Ebinop Oshl (Etempvar _bitmax tuint) (Econst_int (Int.repr 9) tint)
        tuint) tulong)))
|}.

Definition f_wormmeta_rmost_store := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) ::
                (_leaf, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tulong) :: nil);
  fn_body :=
(Ssequence
  (Scall (Some _t'1)
    (Evar _ptr_to_u64 (Tfunction (Tcons (tptr tvoid) Tnil) tulong cc_default))
    ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
  (Scall None
    (Evar _entry13_update_e3 (Tfunction
                               (Tcons (tptr (Tstruct _entry13__1 noattr))
                                 (Tcons tulong Tnil)) tvoid cc_default))
    ((Eaddrof
       (Efield
         (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
           (Tstruct _wormmeta noattr)) _r13 (Tstruct _entry13__1 noattr))
       (tptr (Tstruct _entry13__1 noattr))) :: (Etempvar _t'1 tulong) :: nil)))
|}.

Definition f_wormmeta_init := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) ::
                (_lrmost, (tptr (Tstruct _wormleaf noattr))) ::
                (_keyref, (tptr (Tstruct _kv noattr))) :: (_alen, tuint) ::
                (_bit, tuint) :: nil);
  fn_vars := ((__res, (Tstruct _entry13__1 noattr)) ::
              (__res__1, (Tstruct _entry13__1 noattr)) ::
              (__res__2, (Tstruct _entry13__1 noattr)) :: nil);
  fn_temps := ((_plen, tuint) :: (_hash32, tuint) ::
               (_leaf_klen_eq, tbool) :: (_t'5, tulong) ::
               (_t'4, (tptr (Tstruct _wormleaf noattr))) :: (_t'3, tulong) ::
               (_t'2, tulong) :: (_t'1, tulong) :: (_t'7, tuint) ::
               (_t'6, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'7
      (Efield
        (Efield
          (Efield
            (Efield
              (Ederef (Etempvar _keyref (tptr (Tstruct _kv noattr)))
                (Tstruct _kv noattr)) 18727075383868559167%positive
              (Tunion __6646 noattr)) 18727075383868559167%positive
            (Tstruct __6647 noattr)) 18727075383868559167%positive
          (Tunion __6648 noattr)) _refcnt tuint))
    (Sassign
      (Efield
        (Efield
          (Efield
            (Efield
              (Ederef (Etempvar _keyref (tptr (Tstruct _kv noattr)))
                (Tstruct _kv noattr)) 18727075383868559167%positive
              (Tunion __6646 noattr)) 18727075383868559167%positive
            (Tstruct __6647 noattr)) 18727075383868559167%positive
          (Tunion __6648 noattr)) _refcnt tuint)
      (Ebinop Oadd (Etempvar _t'7 tuint) (Econst_int (Int.repr 1) tint)
        tuint)))
  (Ssequence
    (Sset _plen
      (Efield
        (Efield
          (Efield
            (Ederef (Etempvar _keyref (tptr (Tstruct _kv noattr)))
              (Tstruct _kv noattr)) 18727075383868559167%positive
            (Tunion __6646 noattr)) 18727075383868559167%positive
          (Tstruct __6647 noattr)) _klen tuint))
    (Ssequence
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Ebinop Ole (Etempvar _plen tuint)
           (Econst_int (Int.repr 65535) tint) tint) :: nil))
      (Ssequence
        (Ssequence
          (Ssequence
            (Scall (Some _t'1)
              (Evar _ptr_to_u64 (Tfunction (Tcons (tptr tvoid) Tnil) tulong
                                  cc_default))
              ((Etempvar _keyref (tptr (Tstruct _kv noattr))) :: nil))
            (Scall None
              (Evar _entry13 (Tfunction
                               (Tcons (tptr (Tstruct _entry13__1 noattr))
                                 (Tcons tushort (Tcons tulong Tnil))) tvoid
                               {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
              ((Eaddrof (Evar __res__2 (Tstruct _entry13__1 noattr))
                 (tptr (Tstruct _entry13__1 noattr))) ::
               (Ecast (Etempvar _plen tuint) tushort) ::
               (Etempvar _t'1 tulong) :: nil)))
          (Sassign
            (Efield
              (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
                (Tstruct _wormmeta noattr)) _k13
              (Tstruct _entry13__1 noattr))
            (Evar __res__2 (Tstruct _entry13__1 noattr))))
        (Ssequence
          (Ssequence
            (Scall (Some _t'2)
              (Evar _ptr_to_u64 (Tfunction (Tcons (tptr tvoid) Tnil) tulong
                                  cc_default))
              ((Etempvar _lrmost (tptr (Tstruct _wormleaf noattr))) :: nil))
            (Sassign
              (Efield
                (Efield
                  (Efield
                    (Ederef
                      (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
                      (Tstruct _wormmeta noattr)) _l13
                    (Tstruct _entry13__1 noattr))
                  18727075383868559167%positive (Tunion __6498 noattr)) _v64
                tulong)
              (Ebinop Oor
                (Ebinop Oor
                  (Ebinop Oshl (Etempvar _t'2 tulong)
                    (Econst_int (Int.repr 16) tint) tulong)
                  (Ebinop Oshl (Etempvar _bit tuint)
                    (Econst_int (Int.repr 9) tint) tuint) tulong)
                (Etempvar _bit tuint) tulong)))
          (Ssequence
            (Sset _hash32
              (Efield
                (Efield
                  (Efield
                    (Ederef (Etempvar _keyref (tptr (Tstruct _kv noattr)))
                      (Tstruct _kv noattr)) 19015305760020270911%positive
                    (Tunion __6649 noattr)) 18727075383868559167%positive
                  (Tstruct __6650 noattr)) _hashlo tuint))
            (Ssequence
              (Ssequence
                (Ssequence
                  (Scall (Some _t'3)
                    (Evar _ptr_to_u64 (Tfunction (Tcons (tptr tvoid) Tnil)
                                        tulong cc_default))
                    ((Etempvar _lrmost (tptr (Tstruct _wormleaf noattr))) ::
                     nil))
                  (Scall None
                    (Evar _entry13 (Tfunction
                                     (Tcons
                                       (tptr (Tstruct _entry13__1 noattr))
                                       (Tcons tushort (Tcons tulong Tnil)))
                                     tvoid
                                     {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
                    ((Eaddrof (Evar __res__1 (Tstruct _entry13__1 noattr))
                       (tptr (Tstruct _entry13__1 noattr))) ::
                     (Ecast (Etempvar _hash32 tuint) tushort) ::
                     (Etempvar _t'3 tulong) :: nil)))
                (Sassign
                  (Efield
                    (Ederef
                      (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
                      (Tstruct _wormmeta noattr)) _r13
                    (Tstruct _entry13__1 noattr))
                  (Evar __res__1 (Tstruct _entry13__1 noattr))))
              (Ssequence
                (Sset _leaf_klen_eq
                  (Ecast
                    (Ebinop Oeq (Etempvar _alen tuint) (Etempvar _plen tuint)
                      tint) tbool))
                (Ssequence
                  (Ssequence
                    (Ssequence
                      (Sifthenelse (Etempvar _leaf_klen_eq tbool)
                        (Sset _t'4
                          (Ecast
                            (Etempvar _lrmost (tptr (Tstruct _wormleaf noattr)))
                            (tptr (Tstruct _wormleaf noattr))))
                        (Ssequence
                          (Sset _t'6
                            (Efield
                              (Ederef
                                (Etempvar _lrmost (tptr (Tstruct _wormleaf noattr)))
                                (Tstruct _wormleaf noattr)) _prev
                              (tptr (Tstruct _wormleaf noattr))))
                          (Sset _t'4
                            (Ecast
                              (Etempvar _t'6 (tptr (Tstruct _wormleaf noattr)))
                              (tptr (Tstruct _wormleaf noattr))))))
                      (Scall (Some _t'5)
                        (Evar _ptr_to_u64 (Tfunction
                                            (Tcons (tptr tvoid) Tnil) tulong
                                            cc_default))
                        ((Etempvar _t'4 (tptr (Tstruct _wormleaf noattr))) ::
                         nil)))
                    (Scall None
                      (Evar _entry13 (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _entry13__1 noattr))
                                         (Tcons tushort (Tcons tulong Tnil)))
                                       tvoid
                                       {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
                      ((Eaddrof (Evar __res (Tstruct _entry13__1 noattr))
                         (tptr (Tstruct _entry13__1 noattr))) ::
                       (Ecast
                         (Ebinop Oshr (Etempvar _hash32 tuint)
                           (Econst_int (Int.repr 16) tint) tuint) tushort) ::
                       (Etempvar _t'5 tulong) :: nil)))
                  (Sassign
                    (Efield
                      (Ederef
                        (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
                        (Tstruct _wormmeta noattr)) _p13
                      (Tstruct _entry13__1 noattr))
                    (Evar __res (Tstruct _entry13__1 noattr))))))))))))
|}.

Definition f_wormmeta_bm_test := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) :: (_id, tuint) ::
                nil);
  fn_vars := nil;
  fn_temps := ((_bitmin, tuint) :: (_bitmax, tuint) :: (_t'2, tuint) ::
               (_t'1, tuint) :: (_t'3, tulong) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
    ((Ebinop Olt (Etempvar _id tuint) (Econst_int (Int.repr 256) tuint) tint) ::
     nil))
  (Ssequence
    (Ssequence
      (Scall (Some _t'1)
        (Evar _wormmeta_bitmin_load (Tfunction
                                      (Tcons
                                        (tptr (Tstruct _wormmeta noattr))
                                        Tnil) tuint cc_default))
        ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
      (Sset _bitmin (Etempvar _t'1 tuint)))
    (Ssequence
      (Ssequence
        (Scall (Some _t'2)
          (Evar _wormmeta_bitmax_load (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormmeta noattr))
                                          Tnil) tuint cc_default))
          ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
        (Sset _bitmax (Etempvar _t'2 tuint)))
      (Sifthenelse (Ebinop Oeq (Etempvar _bitmin tuint)
                     (Etempvar _bitmax tuint) tint)
        (Sreturn (Some (Ebinop Oeq (Etempvar _bitmin tuint)
                         (Etempvar _id tuint) tint)))
        (Ssequence
          (Sset _t'3
            (Ederef
              (Ebinop Oadd
                (Efield
                  (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
                    (Tstruct _wormmeta noattr)) _bitmap (tarray tulong 0))
                (Ebinop Oshr (Etempvar _id tuint)
                  (Econst_int (Int.repr 6) tuint) tuint) (tptr tulong))
              tulong))
          (Sreturn (Some (Ecast
                           (Ebinop Oand
                             (Ebinop Oshr (Etempvar _t'3 tulong)
                               (Ebinop Oand (Etempvar _id tuint)
                                 (Econst_int (Int.repr 63) tuint) tuint)
                               tulong) (Econst_long (Int64.repr 1) tulong)
                             tulong) tbool))))))))
|}.

Definition f_wormmeta_bm_set := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) :: (_id, tuint) ::
                nil);
  fn_vars := nil;
  fn_temps := ((_ptr, (tptr tulong)) :: (_bit, tulong) :: (_oldmax, tuint) ::
               (_t'3, tint) :: (_t'2, tuint) :: (_t'1, tuint) ::
               (_t'5, tulong) :: (_t'4, tulong) :: nil);
  fn_body :=
(Ssequence
  (Sset _ptr
    (Ebinop Oadd
      (Efield
        (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
          (Tstruct _wormmeta noattr)) _bitmap (tarray tulong 0))
      (Ebinop Oshr (Etempvar _id tuint) (Econst_int (Int.repr 6) tuint)
        tuint) (tptr tulong)))
  (Ssequence
    (Sset _bit
      (Ebinop Oshl (Econst_long (Int64.repr 1) tulong)
        (Ebinop Oand (Etempvar _id tuint) (Econst_int (Int.repr 63) tuint)
          tuint) tulong))
    (Ssequence
      (Ssequence
        (Sset _t'5 (Ederef (Etempvar _ptr (tptr tulong)) tulong))
        (Sifthenelse (Ebinop Oand (Etempvar _t'5 tulong)
                       (Etempvar _bit tulong) tulong)
          (Sreturn None)
          Sskip))
      (Ssequence
        (Ssequence
          (Sset _t'4 (Ederef (Etempvar _ptr (tptr tulong)) tulong))
          (Sassign (Ederef (Etempvar _ptr (tptr tulong)) tulong)
            (Ebinop Oor (Etempvar _t'4 tulong) (Etempvar _bit tulong) tulong)))
        (Ssequence
          (Ssequence
            (Scall (Some _t'1)
              (Evar _wormmeta_bitmin_load (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormmeta noattr))
                                              Tnil) tuint cc_default))
              ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
            (Sifthenelse (Ebinop Olt (Etempvar _id tuint)
                           (Etempvar _t'1 tuint) tint)
              (Scall None
                (Evar _wormmeta_bitmin_store (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _wormmeta noattr))
                                                 (Tcons tuint Tnil)) tvoid
                                               cc_default))
                ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                 (Etempvar _id tuint) :: nil))
              Sskip))
          (Ssequence
            (Ssequence
              (Scall (Some _t'2)
                (Evar _wormmeta_bitmax_load (Tfunction
                                              (Tcons
                                                (tptr (Tstruct _wormmeta noattr))
                                                Tnil) tuint cc_default))
                ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
              (Sset _oldmax (Etempvar _t'2 tuint)))
            (Ssequence
              (Sifthenelse (Ebinop Oeq (Etempvar _oldmax tuint)
                             (Econst_int (Int.repr 256) tuint) tint)
                (Sset _t'3 (Econst_int (Int.repr 1) tint))
                (Sset _t'3
                  (Ecast
                    (Ebinop Ogt (Etempvar _id tuint) (Etempvar _oldmax tuint)
                      tint) tbool)))
              (Sifthenelse (Etempvar _t'3 tint)
                (Scall None
                  (Evar _wormmeta_bitmax_store (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _wormmeta noattr))
                                                   (Tcons tuint Tnil)) tvoid
                                                 cc_default))
                  ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                   (Etempvar _id tuint) :: nil))
                Sskip))))))))
|}.

Definition f_wormmeta_bm_gt := {|
  fn_return := tuint;
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) ::
                (_id0, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_ix, tuint) :: (_bits, tulong) :: (_t'3, tint) ::
               (_t'2, tuint) :: (_t'1, tint) :: (_t'4, tulong) :: nil);
  fn_body :=
(Ssequence
  (Sset _ix
    (Ebinop Oshr (Etempvar _id0 tuint) (Econst_int (Int.repr 6) tint) tuint))
  (Ssequence
    (Ssequence
      (Sset _t'4
        (Ederef
          (Ebinop Oadd
            (Efield
              (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
                (Tstruct _wormmeta noattr)) _bitmap (tarray tulong 0))
            (Etempvar _ix tuint) (tptr tulong)) tulong))
      (Sset _bits
        (Ebinop Oand (Etempvar _t'4 tulong)
          (Eunop Onotint
            (Ebinop Osub
              (Ebinop Oshl (Econst_long (Int64.repr 1) tulong)
                (Ebinop Oand (Etempvar _id0 tuint)
                  (Econst_int (Int.repr 63) tuint) tuint) tulong)
              (Econst_long (Int64.repr 1) tulong) tulong) tulong) tulong)))
    (Ssequence
      (Sifthenelse (Etempvar _bits tulong)
        (Ssequence
          (Scall (Some _t'1)
            (Evar ___builtin_ctzl (Tfunction (Tcons tulong Tnil) tint
                                    cc_default))
            ((Etempvar _bits tulong) :: nil))
          (Sreturn (Some (Ebinop Oadd
                           (Ebinop Oshl (Etempvar _ix tuint)
                             (Econst_int (Int.repr 6) tint) tuint)
                           (Ecast (Etempvar _t'1 tint) tuint) tuint))))
        Sskip)
      (Ssequence
        (Sloop
          (Ssequence
            (Ssequence
              (Ssequence
                (Sset _t'2
                  (Ecast
                    (Ebinop Oadd (Etempvar _ix tuint)
                      (Econst_int (Int.repr 1) tint) tuint) tuint))
                (Sset _ix (Etempvar _t'2 tuint)))
              (Sifthenelse (Ebinop Olt (Etempvar _t'2 tuint)
                             (Ebinop Oshr (Econst_int (Int.repr 256) tuint)
                               (Econst_int (Int.repr 6) tint) tuint) tint)
                Sskip
                Sbreak))
            (Ssequence
              (Sset _bits
                (Ederef
                  (Ebinop Oadd
                    (Efield
                      (Ederef
                        (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
                        (Tstruct _wormmeta noattr)) _bitmap
                      (tarray tulong 0)) (Etempvar _ix tuint) (tptr tulong))
                  tulong))
              (Sifthenelse (Etempvar _bits tulong)
                (Ssequence
                  (Scall (Some _t'3)
                    (Evar ___builtin_ctzl (Tfunction (Tcons tulong Tnil) tint
                                            cc_default))
                    ((Etempvar _bits tulong) :: nil))
                  (Sreturn (Some (Ebinop Oadd
                                   (Ebinop Oshl (Etempvar _ix tuint)
                                     (Econst_int (Int.repr 6) tint) tuint)
                                   (Ecast (Etempvar _t'3 tint) tuint) tuint))))
                Sskip)))
          Sskip)
        (Sreturn (Some (Econst_int (Int.repr 256) tuint)))))))
|}.

Definition f_wormmeta_bm_lt := {|
  fn_return := tuint;
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) ::
                (_id0, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_ix, tuint) :: (_bits, tulong) :: (_t'3, tint) ::
               (_t'2, tuint) :: (_t'1, tint) :: (_t'4, tulong) :: nil);
  fn_body :=
(Ssequence
  (Sset _ix
    (Ebinop Oshr (Etempvar _id0 tuint) (Econst_int (Int.repr 6) tint) tuint))
  (Ssequence
    (Ssequence
      (Sset _t'4
        (Ederef
          (Ebinop Oadd
            (Efield
              (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
                (Tstruct _wormmeta noattr)) _bitmap (tarray tulong 0))
            (Etempvar _ix tuint) (tptr tulong)) tulong))
      (Sset _bits
        (Ebinop Oand (Etempvar _t'4 tulong)
          (Ebinop Osub
            (Ebinop Oshl (Econst_long (Int64.repr 1) tulong)
              (Ebinop Oand (Etempvar _id0 tuint)
                (Econst_int (Int.repr 63) tuint) tuint) tulong)
            (Econst_long (Int64.repr 1) tulong) tulong) tulong)))
    (Ssequence
      (Sifthenelse (Etempvar _bits tulong)
        (Ssequence
          (Scall (Some _t'1)
            (Evar ___builtin_clzl (Tfunction (Tcons tulong Tnil) tint
                                    cc_default))
            ((Etempvar _bits tulong) :: nil))
          (Sreturn (Some (Ebinop Osub
                           (Ebinop Oadd
                             (Ebinop Oshl (Etempvar _ix tuint)
                               (Econst_int (Int.repr 6) tint) tuint)
                             (Econst_int (Int.repr 63) tuint) tuint)
                           (Ecast (Etempvar _t'1 tint) tuint) tuint))))
        Sskip)
      (Ssequence
        (Sloop
          (Ssequence
            (Ssequence
              (Ssequence
                (Sset _t'2 (Etempvar _ix tuint))
                (Sset _ix
                  (Ebinop Osub (Etempvar _t'2 tuint)
                    (Econst_int (Int.repr 1) tint) tuint)))
              (Sifthenelse (Etempvar _t'2 tuint) Sskip Sbreak))
            (Ssequence
              (Sset _bits
                (Ederef
                  (Ebinop Oadd
                    (Efield
                      (Ederef
                        (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
                        (Tstruct _wormmeta noattr)) _bitmap
                      (tarray tulong 0)) (Etempvar _ix tuint) (tptr tulong))
                  tulong))
              (Sifthenelse (Etempvar _bits tulong)
                (Ssequence
                  (Scall (Some _t'3)
                    (Evar ___builtin_clzl (Tfunction (Tcons tulong Tnil) tint
                                            cc_default))
                    ((Etempvar _bits tulong) :: nil))
                  (Sreturn (Some (Ebinop Osub
                                   (Ebinop Oadd
                                     (Ebinop Oshl (Etempvar _ix tuint)
                                       (Econst_int (Int.repr 6) tint) tuint)
                                     (Econst_int (Int.repr 63) tuint) tuint)
                                   (Ecast (Etempvar _t'3 tint) tuint) tuint))))
                Sskip)))
          Sskip)
        (Sreturn (Some (Econst_int (Int.repr 256) tuint)))))))
|}.

Definition f_wormmeta_bm_clear := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) :: (_id, tuint) ::
                nil);
  fn_vars := nil;
  fn_temps := ((_t'6, tuint) :: (_t'5, tuint) :: (_t'4, tuint) ::
               (_t'3, tuint) :: (_t'2, tuint) :: (_t'1, tuint) ::
               (_t'7, tulong) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Scall (Some _t'1)
        (Evar _wormmeta_bitmin_load (Tfunction
                                      (Tcons
                                        (tptr (Tstruct _wormmeta noattr))
                                        Tnil) tuint cc_default))
        ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
      (Scall (Some _t'2)
        (Evar _wormmeta_bitmax_load (Tfunction
                                      (Tcons
                                        (tptr (Tstruct _wormmeta noattr))
                                        Tnil) tuint cc_default))
        ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil)))
    (Scall None
      (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
      ((Ebinop Olt (Etempvar _t'1 tuint) (Etempvar _t'2 tuint) tint) :: nil)))
  (Ssequence
    (Ssequence
      (Sset _t'7
        (Ederef
          (Ebinop Oadd
            (Efield
              (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
                (Tstruct _wormmeta noattr)) _bitmap (tarray tulong 0))
            (Ebinop Oshr (Etempvar _id tuint) (Econst_int (Int.repr 6) tuint)
              tuint) (tptr tulong)) tulong))
      (Sassign
        (Ederef
          (Ebinop Oadd
            (Efield
              (Ederef (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
                (Tstruct _wormmeta noattr)) _bitmap (tarray tulong 0))
            (Ebinop Oshr (Etempvar _id tuint) (Econst_int (Int.repr 6) tuint)
              tuint) (tptr tulong)) tulong)
        (Ebinop Oand (Etempvar _t'7 tulong)
          (Eunop Onotint
            (Ebinop Oshl (Econst_long (Int64.repr 1) tulong)
              (Ebinop Oand (Etempvar _id tuint)
                (Econst_int (Int.repr 63) tuint) tuint) tulong) tulong)
          tulong)))
    (Ssequence
      (Ssequence
        (Scall (Some _t'4)
          (Evar _wormmeta_bitmin_load (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormmeta noattr))
                                          Tnil) tuint cc_default))
          ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
        (Sifthenelse (Ebinop Oeq (Etempvar _id tuint) (Etempvar _t'4 tuint)
                       tint)
          (Ssequence
            (Scall (Some _t'3)
              (Evar _wormmeta_bm_gt (Tfunction
                                      (Tcons
                                        (tptr (Tstruct _wormmeta noattr))
                                        (Tcons tuint Tnil)) tuint cc_default))
              ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
               (Etempvar _id tuint) :: nil))
            (Scall None
              (Evar _wormmeta_bitmin_store (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _wormmeta noattr))
                                               (Tcons tuint Tnil)) tvoid
                                             cc_default))
              ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
               (Etempvar _t'3 tuint) :: nil)))
          Sskip))
      (Ssequence
        (Scall (Some _t'6)
          (Evar _wormmeta_bitmax_load (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormmeta noattr))
                                          Tnil) tuint cc_default))
          ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
        (Sifthenelse (Ebinop Oeq (Etempvar _id tuint) (Etempvar _t'6 tuint)
                       tint)
          (Ssequence
            (Scall (Some _t'5)
              (Evar _wormmeta_bm_lt (Tfunction
                                      (Tcons
                                        (tptr (Tstruct _wormmeta noattr))
                                        (Tcons tuint Tnil)) tuint cc_default))
              ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
               (Etempvar _id tuint) :: nil))
            (Scall None
              (Evar _wormmeta_bitmax_store (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _wormmeta noattr))
                                               (Tcons tuint Tnil)) tvoid
                                             cc_default))
              ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
               (Etempvar _t'5 tuint) :: nil)))
          Sskip)))))
|}.

Definition f_wormhole_pkey := {|
  fn_return := tushort;
  fn_callconv := cc_default;
  fn_params := ((_hash32, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_pkey0, tushort) :: (_t'1, tint) :: nil);
  fn_body :=
(Ssequence
  (Sset _pkey0
    (Ecast
      (Ebinop Oxor (Ecast (Etempvar _hash32 tuint) tushort)
        (Ecast
          (Ebinop Oshr (Etempvar _hash32 tuint)
            (Econst_int (Int.repr 16) tint) tuint) tushort) tint) tushort))
  (Ssequence
    (Sifthenelse (Etempvar _pkey0 tushort)
      (Sset _t'1 (Ecast (Etempvar _pkey0 tushort) tint))
      (Sset _t'1 (Ecast (Econst_int (Int.repr 1) tint) tint)))
    (Sreturn (Some (Etempvar _t'1 tint)))))
|}.

Definition f_wormhole_bswap := {|
  fn_return := tuint;
  fn_callconv := cc_default;
  fn_params := ((_hashlo, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tuint) :: nil);
  fn_body :=
(Ssequence
  (Scall (Some _t'1)
    (Evar ___builtin_bswap32 (Tfunction (Tcons tuint Tnil) tuint cc_default))
    ((Etempvar _hashlo tuint) :: nil))
  (Sreturn (Some (Etempvar _t'1 tuint))))
|}.

Definition f_wormhole_key_meta_match := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_key, (tptr (Tstruct _kv noattr))) ::
                (_meta, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'4, tint) :: (_t'3, (tptr (Tstruct _kv noattr))) ::
               (_t'2, tint) :: (_t'1, tushort) :: (_t'6, tuint) ::
               (_t'5, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormmeta_klen_load (Tfunction
                                  (Tcons (tptr (Tstruct _wormmeta noattr))
                                    Tnil) tushort cc_default))
      ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
    (Ssequence
      (Sset _t'5
        (Efield
          (Efield
            (Efield
              (Ederef (Etempvar _key (tptr (Tstruct _kv noattr)))
                (Tstruct _kv noattr)) 18727075383868559167%positive
              (Tunion __6646 noattr)) 18727075383868559167%positive
            (Tstruct __6647 noattr)) _klen tuint))
      (Sifthenelse (Ebinop Oeq (Etempvar _t'5 tuint) (Etempvar _t'1 tushort)
                     tint)
        (Ssequence
          (Ssequence
            (Scall (Some _t'3)
              (Evar _wormmeta_keyref_load (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormmeta noattr))
                                              Tnil)
                                            (tptr (Tstruct _kv noattr))
                                            cc_default))
              ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
            (Ssequence
              (Sset _t'6
                (Efield
                  (Efield
                    (Efield
                      (Ederef (Etempvar _key (tptr (Tstruct _kv noattr)))
                        (Tstruct _kv noattr)) 18727075383868559167%positive
                      (Tunion __6646 noattr)) 18727075383868559167%positive
                    (Tstruct __6647 noattr)) _klen tuint))
              (Scall (Some _t'4)
                (Evar _memcmp (Tfunction
                                (Tcons (tptr tvoid)
                                  (Tcons (tptr tvoid) (Tcons tulong Tnil)))
                                tint cc_default))
                ((Efield
                   (Ederef (Etempvar _key (tptr (Tstruct _kv noattr)))
                     (Tstruct _kv noattr)) _kv (tarray tuchar 0)) ::
                 (Efield
                   (Ederef (Etempvar _t'3 (tptr (Tstruct _kv noattr)))
                     (Tstruct _kv noattr)) _kv (tarray tuchar 0)) ::
                 (Etempvar _t'6 tuint) :: nil))))
          (Sset _t'2
            (Ecast (Eunop Onotbool (Etempvar _t'4 tint) tint) tbool)))
        (Sset _t'2 (Econst_int (Int.repr 0) tint)))))
  (Sreturn (Some (Etempvar _t'2 tint))))
|}.

Definition f_wormhole_kref_meta_match := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_kref__1, (tptr (Tstruct _kref noattr))) ::
                (_meta, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'4, tint) :: (_t'3, (tptr (Tstruct _kv noattr))) ::
               (_t'2, tint) :: (_t'1, tushort) :: (_t'7, tuint) ::
               (_t'6, (tptr tuchar)) :: (_t'5, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormmeta_klen_load (Tfunction
                                  (Tcons (tptr (Tstruct _wormmeta noattr))
                                    Tnil) tushort cc_default))
      ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
    (Ssequence
      (Sset _t'5
        (Efield
          (Ederef (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
            (Tstruct _kref noattr)) _len tuint))
      (Sifthenelse (Ebinop Oeq (Etempvar _t'5 tuint) (Etempvar _t'1 tushort)
                     tint)
        (Ssequence
          (Ssequence
            (Scall (Some _t'3)
              (Evar _wormmeta_keyref_load (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormmeta noattr))
                                              Tnil)
                                            (tptr (Tstruct _kv noattr))
                                            cc_default))
              ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
            (Ssequence
              (Sset _t'6
                (Efield
                  (Ederef (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
                    (Tstruct _kref noattr)) _ptr (tptr tuchar)))
              (Ssequence
                (Sset _t'7
                  (Efield
                    (Ederef (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
                      (Tstruct _kref noattr)) _len tuint))
                (Scall (Some _t'4)
                  (Evar _memcmp (Tfunction
                                  (Tcons (tptr tvoid)
                                    (Tcons (tptr tvoid) (Tcons tulong Tnil)))
                                  tint cc_default))
                  ((Etempvar _t'6 (tptr tuchar)) ::
                   (Efield
                     (Ederef (Etempvar _t'3 (tptr (Tstruct _kv noattr)))
                       (Tstruct _kv noattr)) _kv (tarray tuchar 0)) ::
                   (Etempvar _t'7 tuint) :: nil)))))
          (Sset _t'2
            (Ecast (Eunop Onotbool (Etempvar _t'4 tint) tint) tbool)))
        (Sset _t'2 (Econst_int (Int.repr 0) tint)))))
  (Sreturn (Some (Etempvar _t'2 tint))))
|}.

Definition f_wormhole_kref1_meta_match := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_kref__1, (tptr (Tstruct _kref noattr))) ::
                (_meta, (tptr (Tstruct _wormmeta noattr))) ::
                (_cid, tuchar) :: nil);
  fn_vars := nil;
  fn_temps := ((_keybuf, (tptr tuchar)) :: (_plen, tuint) :: (_t'5, tint) ::
               (_t'4, tint) :: (_t'3, tint) :: (_t'2, tushort) ::
               (_t'1, (tptr (Tstruct _kv noattr))) ::
               (_t'7, (tptr tuchar)) :: (_t'6, tuchar) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormmeta_keyref_load (Tfunction
                                    (Tcons (tptr (Tstruct _wormmeta noattr))
                                      Tnil) (tptr (Tstruct _kv noattr))
                                    cc_default))
      ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
    (Sset _keybuf
      (Efield
        (Ederef (Etempvar _t'1 (tptr (Tstruct _kv noattr)))
          (Tstruct _kv noattr)) _kv (tarray tuchar 0))))
  (Ssequence
    (Sset _plen
      (Efield
        (Ederef (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
          (Tstruct _kref noattr)) _len tuint))
    (Ssequence
      (Ssequence
        (Ssequence
          (Scall (Some _t'2)
            (Evar _wormmeta_klen_load (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormmeta noattr))
                                          Tnil) tushort cc_default))
            ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
          (Sifthenelse (Ebinop Oeq
                         (Ebinop Oadd (Etempvar _plen tuint)
                           (Econst_int (Int.repr 1) tint) tuint)
                         (Etempvar _t'2 tushort) tint)
            (Ssequence
              (Ssequence
                (Sset _t'7
                  (Efield
                    (Ederef (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
                      (Tstruct _kref noattr)) _ptr (tptr tuchar)))
                (Scall (Some _t'4)
                  (Evar _memcmp (Tfunction
                                  (Tcons (tptr tvoid)
                                    (Tcons (tptr tvoid) (Tcons tulong Tnil)))
                                  tint cc_default))
                  ((Etempvar _t'7 (tptr tuchar)) ::
                   (Etempvar _keybuf (tptr tuchar)) ::
                   (Etempvar _plen tuint) :: nil)))
              (Sset _t'3
                (Ecast (Eunop Onotbool (Etempvar _t'4 tint) tint) tbool)))
            (Sset _t'3 (Econst_int (Int.repr 0) tint))))
        (Sifthenelse (Etempvar _t'3 tint)
          (Ssequence
            (Sset _t'6
              (Ederef
                (Ebinop Oadd (Etempvar _keybuf (tptr tuchar))
                  (Etempvar _plen tuint) (tptr tuchar)) tuchar))
            (Sset _t'5
              (Ecast
                (Ebinop Oeq (Etempvar _t'6 tuchar) (Etempvar _cid tuchar)
                  tint) tbool)))
          (Sset _t'5 (Econst_int (Int.repr 0) tint))))
      (Sreturn (Some (Etempvar _t'5 tint))))))
|}.

Definition f_wormhole_prefix := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_pfx, (tptr (Tstruct _kv noattr))) :: (_klen, tuint) :: nil);
  fn_vars := nil;
  fn_temps := nil;
  fn_body :=
(Ssequence
  (Sassign
    (Efield
      (Efield
        (Efield
          (Ederef (Etempvar _pfx (tptr (Tstruct _kv noattr)))
            (Tstruct _kv noattr)) 18727075383868559167%positive
          (Tunion __6646 noattr)) 18727075383868559167%positive
        (Tstruct __6647 noattr)) _klen tuint) (Etempvar _klen tuint))
  (Scall None
    (Evar _kv_update_hash (Tfunction (Tcons (tptr (Tstruct _kv noattr)) Tnil)
                            tvoid cc_default))
    ((Etempvar _pfx (tptr (Tstruct _kv noattr))) :: nil)))
|}.

Definition f_wormhole_prefix_inc1 := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_pfx, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tuint) :: (_t'5, tuchar) :: (_t'4, tuint) ::
               (_t'3, tuint) :: (_t'2, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'3
        (Efield
          (Efield
            (Efield
              (Ederef (Etempvar _pfx (tptr (Tstruct _kv noattr)))
                (Tstruct _kv noattr)) 19015305760020270911%positive
              (Tunion __6649 noattr)) 18727075383868559167%positive
            (Tstruct __6650 noattr)) _hashlo tuint))
      (Ssequence
        (Sset _t'4
          (Efield
            (Efield
              (Efield
                (Ederef (Etempvar _pfx (tptr (Tstruct _kv noattr)))
                  (Tstruct _kv noattr)) 18727075383868559167%positive
                (Tunion __6646 noattr)) 18727075383868559167%positive
              (Tstruct __6647 noattr)) _klen tuint))
        (Ssequence
          (Sset _t'5
            (Ederef
              (Ebinop Oadd
                (Efield
                  (Ederef (Etempvar _pfx (tptr (Tstruct _kv noattr)))
                    (Tstruct _kv noattr)) _kv (tarray tuchar 0))
                (Etempvar _t'4 tuint) (tptr tuchar)) tuchar))
          (Scall (Some _t'1)
            (Evar _crc32c_u8 (Tfunction (Tcons tuint (Tcons tuchar Tnil))
                               tuint cc_default))
            ((Etempvar _t'3 tuint) :: (Etempvar _t'5 tuchar) :: nil)))))
    (Sassign
      (Efield
        (Efield
          (Efield
            (Ederef (Etempvar _pfx (tptr (Tstruct _kv noattr)))
              (Tstruct _kv noattr)) 19015305760020270911%positive
            (Tunion __6649 noattr)) 18727075383868559167%positive
          (Tstruct __6650 noattr)) _hashlo tuint) (Etempvar _t'1 tuint)))
  (Ssequence
    (Sset _t'2
      (Efield
        (Efield
          (Efield
            (Ederef (Etempvar _pfx (tptr (Tstruct _kv noattr)))
              (Tstruct _kv noattr)) 18727075383868559167%positive
            (Tunion __6646 noattr)) 18727075383868559167%positive
          (Tstruct __6647 noattr)) _klen tuint))
    (Sassign
      (Efield
        (Efield
          (Efield
            (Ederef (Etempvar _pfx (tptr (Tstruct _kv noattr)))
              (Tstruct _kv noattr)) 18727075383868559167%positive
            (Tunion __6646 noattr)) 18727075383868559167%positive
          (Tstruct __6647 noattr)) _klen tuint)
      (Ebinop Oadd (Etempvar _t'2 tuint) (Econst_int (Int.repr 1) tint)
        tuint))))
|}.

Definition f_wormhole_kref_inc := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_kref__1, (tptr (Tstruct _kref noattr))) ::
                (_len0, tuint) :: (_crc, tuint) :: (_inc, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tuint) :: (_t'2, (tptr tuchar)) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'2
        (Efield
          (Ederef (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
            (Tstruct _kref noattr)) _ptr (tptr tuchar)))
      (Scall (Some _t'1)
        (Evar _crc32c_inc (Tfunction
                            (Tcons (tptr tuchar)
                              (Tcons tuint (Tcons tuint Tnil))) tuint
                            cc_default))
        ((Ebinop Oadd (Etempvar _t'2 (tptr tuchar)) (Etempvar _len0 tuint)
           (tptr tuchar)) :: (Etempvar _inc tuint) ::
         (Etempvar _crc tuint) :: nil)))
    (Sassign
      (Efield
        (Efield
          (Ederef (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
            (Tstruct _kref noattr)) 18727075383868559167%positive
          (Tunion __6653 noattr)) _hash32 tuint) (Etempvar _t'1 tuint)))
  (Sassign
    (Efield
      (Ederef (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
        (Tstruct _kref noattr)) _len tuint)
    (Ebinop Oadd (Etempvar _len0 tuint) (Etempvar _inc tuint) tuint)))
|}.

Definition f_wormhole_kref_inc_123 := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_kref__1, (tptr (Tstruct _kref noattr))) ::
                (_len0, tuint) :: (_crc, tuint) :: (_inc, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tuint) :: (_t'2, (tptr tuchar)) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'2
        (Efield
          (Ederef (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
            (Tstruct _kref noattr)) _ptr (tptr tuchar)))
      (Scall (Some _t'1)
        (Evar _crc32c_inc_123 (Tfunction
                                (Tcons (tptr tuchar)
                                  (Tcons tuint (Tcons tuint Tnil))) tuint
                                cc_default))
        ((Ebinop Oadd (Etempvar _t'2 (tptr tuchar)) (Etempvar _len0 tuint)
           (tptr tuchar)) :: (Etempvar _inc tuint) ::
         (Etempvar _crc tuint) :: nil)))
    (Sassign
      (Efield
        (Efield
          (Ederef (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
            (Tstruct _kref noattr)) 18727075383868559167%positive
          (Tunion __6653 noattr)) _hash32 tuint) (Etempvar _t'1 tuint)))
  (Sassign
    (Efield
      (Ederef (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
        (Tstruct _kref noattr)) _len tuint)
    (Ebinop Oadd (Etempvar _len0 tuint) (Etempvar _inc tuint) tuint)))
|}.

Definition f_wormhole_alloc_akey := {|
  fn_return := (tptr (Tstruct _kv noattr));
  fn_callconv := cc_default;
  fn_params := ((_klen, tulong) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr tvoid)) :: nil);
  fn_body :=
(Ssequence
  (Scall (Some _t'1)
    (Evar _malloc (Tfunction (Tcons tulong Tnil) (tptr tvoid) cc_default))
    ((Ebinop Oadd (Esizeof (Tstruct _kv noattr) tulong)
       (Etempvar _klen tulong) tulong) :: nil))
  (Sreturn (Some (Etempvar _t'1 (tptr tvoid)))))
|}.

Definition f_wormhole_free_akey := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_akey, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := nil;
  fn_body :=
(Scall None
  (Evar _free (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))
  ((Etempvar _akey (tptr (Tstruct _kv noattr))) :: nil))
|}.

Definition f_wormhole_alloc_mkey := {|
  fn_return := (tptr (Tstruct _kv noattr));
  fn_callconv := cc_default;
  fn_params := ((_klen, tulong) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr tvoid)) :: nil);
  fn_body :=
(Ssequence
  (Scall (Some _t'1)
    (Evar _malloc (Tfunction (Tcons tulong Tnil) (tptr tvoid) cc_default))
    ((Ebinop Oadd (Esizeof (Tstruct _kv noattr) tulong)
       (Etempvar _klen tulong) tulong) :: nil))
  (Sreturn (Some (Etempvar _t'1 (tptr tvoid)))))
|}.

Definition f_wormhole_free_mkey := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_mkey, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := nil;
  fn_body :=
(Scall None
  (Evar _free (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))
  ((Etempvar _mkey (tptr (Tstruct _kv noattr))) :: nil))
|}.

Definition f_wormleaf_alloc := {|
  fn_return := (tptr (Tstruct _wormleaf noattr));
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_prev, (tptr (Tstruct _wormleaf noattr))) ::
                (_next, (tptr (Tstruct _wormleaf noattr))) ::
                (_anchor, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_leaf, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'1, (tptr tvoid)) ::
               (_t'2, (tptr (Tstruct _slab noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'2
        (Efield
          (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
            (Tstruct _wormhole noattr)) _slab_leaf
          (tptr (Tstruct _slab noattr))))
      (Scall (Some _t'1)
        (Evar _slab_alloc_safe (Tfunction
                                 (Tcons (tptr (Tstruct _slab noattr)) Tnil)
                                 (tptr tvoid) cc_default))
        ((Etempvar _t'2 (tptr (Tstruct _slab noattr))) :: nil)))
    (Sset _leaf (Etempvar _t'1 (tptr tvoid))))
  (Ssequence
    (Sifthenelse (Ebinop Oeq
                   (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                   (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) tint)
      (Sreturn (Some (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))))
      Sskip)
    (Ssequence
      (Scall None
        (Evar _rwlock_init (Tfunction
                             (Tcons (tptr (Tunion __6333 noattr)) Tnil) tvoid
                             cc_default))
        ((Eaddrof
           (Efield
             (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
               (Tstruct _wormleaf noattr)) _leaflock (Tunion __6333 noattr))
           (tptr (Tunion __6333 noattr))) :: nil))
      (Ssequence
        (Scall None
          (Evar _spinlock_init (Tfunction
                                 (Tcons (tptr (Tunion __6323 noattr)) Tnil)
                                 tvoid cc_default))
          ((Eaddrof
             (Efield
               (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                 (Tstruct _wormleaf noattr)) _sortlock
               (Tunion __6323 noattr)) (tptr (Tunion __6323 noattr))) :: nil))
        (Ssequence
          (Sassign
            (Efield
              (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                (Tstruct _wormleaf noattr)) _prev
              (tptr (Tstruct _wormleaf noattr)))
            (Etempvar _prev (tptr (Tstruct _wormleaf noattr))))
          (Ssequence
            (Sassign
              (Efield
                (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _next
                (tptr (Tstruct _wormleaf noattr)))
              (Etempvar _next (tptr (Tstruct _wormleaf noattr))))
            (Ssequence
              (Sassign
                (Efield
                  (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                    (Tstruct _wormleaf noattr)) _anchor
                  (tptr (Tstruct _kv noattr)))
                (Etempvar _anchor (tptr (Tstruct _kv noattr))))
              (Ssequence
                (Sassign
                  (Efield
                    (Ederef
                      (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                      (Tstruct _wormleaf noattr)) _nr_keys tuint)
                  (Econst_int (Int.repr 0) tint))
                (Ssequence
                  (Sassign
                    (Efield
                      (Ederef
                        (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                        (Tstruct _wormleaf noattr)) _nr_sorted tuint)
                    (Econst_int (Int.repr 0) tint))
                  (Ssequence
                    (Scall None
                      (Evar _memset (Tfunction
                                      (Tcons (tptr tvoid)
                                        (Tcons tint (Tcons tulong Tnil)))
                                      (tptr tvoid) cc_default))
                      ((Efield
                         (Ederef
                           (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                           (Tstruct _wormleaf noattr)) _hs
                         (tarray (Tstruct _entry13__1 noattr) 128)) ::
                       (Econst_int (Int.repr 0) tint) ::
                       (Ebinop Omul
                         (Esizeof (Tstruct _entry13__1 noattr) tulong)
                         (Econst_int (Int.repr 128) tuint) tulong) :: nil))
                    (Sreturn (Some (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))))))))))))))
|}.

Definition f_wormleaf_free := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_slab__1, (tptr (Tstruct _slab noattr))) ::
                (_leaf, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'2, tuint) :: (_t'1, (tptr (Tstruct _kv noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'2
      (Efield
        (Efield
          (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _leaflock (Tunion __6333 noattr))
        _opaque tuint))
    (Scall None
      (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
      ((Ebinop Oeq (Etempvar _t'2 tuint) (Econst_int (Int.repr 0) tint) tint) ::
       nil)))
  (Ssequence
    (Ssequence
      (Sset _t'1
        (Efield
          (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _anchor (tptr (Tstruct _kv noattr))))
      (Scall None
        (Evar _wormhole_free_akey (Tfunction
                                    (Tcons (tptr (Tstruct _kv noattr)) Tnil)
                                    tvoid cc_default))
        ((Etempvar _t'1 (tptr (Tstruct _kv noattr))) :: nil)))
    (Scall None
      (Evar _slab_free_safe (Tfunction
                              (Tcons (tptr (Tstruct _slab noattr))
                                (Tcons (tptr tvoid) Tnil)) tvoid cc_default))
      ((Etempvar _slab__1 (tptr (Tstruct _slab noattr))) ::
       (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))))
|}.

Definition f_wormmeta_alloc := {|
  fn_return := (tptr (Tstruct _wormmeta noattr));
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_lrmost, (tptr (Tstruct _wormleaf noattr))) ::
                (_keyref, (tptr (Tstruct _kv noattr))) :: (_alen, tuint) ::
                (_bit, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_meta, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'2, (tptr tvoid)) :: (_t'1, tint) ::
               (_t'3, (tptr (Tstruct _slab noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
    ((Ebinop Ole (Etempvar _alen tuint) (Econst_int (Int.repr 65535) tint)
       tint) :: nil))
  (Ssequence
    (Ssequence
      (Sifthenelse (Etempvar _lrmost (tptr (Tstruct _wormleaf noattr)))
        (Sset _t'1
          (Ecast (Etempvar _keyref (tptr (Tstruct _kv noattr))) tbool))
        (Sset _t'1 (Econst_int (Int.repr 0) tint)))
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Etempvar _t'1 tint) :: nil)))
    (Ssequence
      (Ssequence
        (Ssequence
          (Sset _t'3
            (Efield
              (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                (Tstruct _wormhmap noattr)) _slab1
              (tptr (Tstruct _slab noattr))))
          (Scall (Some _t'2)
            (Evar _slab_alloc_unsafe (Tfunction
                                       (Tcons (tptr (Tstruct _slab noattr))
                                         Tnil) (tptr tvoid) cc_default))
            ((Etempvar _t'3 (tptr (Tstruct _slab noattr))) :: nil)))
        (Sset _meta (Etempvar _t'2 (tptr tvoid))))
      (Ssequence
        (Sifthenelse (Ebinop Oeq
                       (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
                       (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))
                       tint)
          (Sreturn (Some (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))))
          Sskip)
        (Ssequence
          (Scall None
            (Evar _wormmeta_init (Tfunction
                                   (Tcons (tptr (Tstruct _wormmeta noattr))
                                     (Tcons (tptr (Tstruct _wormleaf noattr))
                                       (Tcons (tptr (Tstruct _kv noattr))
                                         (Tcons tuint (Tcons tuint Tnil)))))
                                   tvoid cc_default))
            ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
             (Etempvar _lrmost (tptr (Tstruct _wormleaf noattr))) ::
             (Etempvar _keyref (tptr (Tstruct _kv noattr))) ::
             (Etempvar _alen tuint) :: (Etempvar _bit tuint) :: nil))
          (Sreturn (Some (Etempvar _meta (tptr (Tstruct _wormmeta noattr))))))))))
|}.

Definition f_wormhole_slab_reserve := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) :: (_nr, tuint) ::
                nil);
  fn_vars := nil;
  fn_temps := ((_i, tuint) :: (_t'3, tbool) :: (_t'2, tbool) ::
               (_t'1, tint) :: (_t'7, (tptr (Tstruct _slab noattr))) ::
               (_t'6, (tptr (Tstruct _slab noattr))) ::
               (_t'5, (tptr (Tstruct _slab noattr))) ::
               (_t'4, (tptr (Tstruct _slab noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _i (Econst_int (Int.repr 0) tint))
    (Sloop
      (Ssequence
        (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                       (Econst_int (Int.repr 2) tint) tint)
          Sskip
          Sbreak)
        (Ssequence
          (Ssequence
            (Ssequence
              (Sset _t'6
                (Efield
                  (Ederef
                    (Ebinop Oadd
                      (Efield
                        (Ederef
                          (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                          (Tstruct _wormhole noattr)) _hmap2
                        (tarray (Tstruct _wormhmap noattr) 2))
                      (Etempvar _i tuint) (tptr (Tstruct _wormhmap noattr)))
                    (Tstruct _wormhmap noattr)) _slab1
                  (tptr (Tstruct _slab noattr))))
              (Sifthenelse (Etempvar _t'6 (tptr (Tstruct _slab noattr)))
                (Ssequence
                  (Sset _t'7
                    (Efield
                      (Ederef
                        (Ebinop Oadd
                          (Efield
                            (Ederef
                              (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                              (Tstruct _wormhole noattr)) _hmap2
                            (tarray (Tstruct _wormhmap noattr) 2))
                          (Etempvar _i tuint)
                          (tptr (Tstruct _wormhmap noattr)))
                        (Tstruct _wormhmap noattr)) _slab2
                      (tptr (Tstruct _slab noattr))))
                  (Sset _t'1
                    (Ecast (Etempvar _t'7 (tptr (Tstruct _slab noattr)))
                      tbool)))
                (Sset _t'1 (Econst_int (Int.repr 0) tint))))
            (Sifthenelse (Eunop Onotbool (Etempvar _t'1 tint) tint)
              Scontinue
              Sskip))
          (Ssequence
            (Ssequence
              (Ssequence
                (Sset _t'5
                  (Efield
                    (Ederef
                      (Ebinop Oadd
                        (Efield
                          (Ederef
                            (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                            (Tstruct _wormhole noattr)) _hmap2
                          (tarray (Tstruct _wormhmap noattr) 2))
                        (Etempvar _i tuint)
                        (tptr (Tstruct _wormhmap noattr)))
                      (Tstruct _wormhmap noattr)) _slab1
                    (tptr (Tstruct _slab noattr))))
                (Scall (Some _t'2)
                  (Evar _slab_reserve_unsafe (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _slab noattr))
                                                 (Tcons tulong Tnil)) tbool
                                               cc_default))
                  ((Etempvar _t'5 (tptr (Tstruct _slab noattr))) ::
                   (Etempvar _nr tuint) :: nil)))
              (Sifthenelse (Eunop Onotbool (Etempvar _t'2 tbool) tint)
                (Sreturn (Some (Econst_int (Int.repr 0) tint)))
                Sskip))
            (Ssequence
              (Ssequence
                (Sset _t'4
                  (Efield
                    (Ederef
                      (Ebinop Oadd
                        (Efield
                          (Ederef
                            (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                            (Tstruct _wormhole noattr)) _hmap2
                          (tarray (Tstruct _wormhmap noattr) 2))
                        (Etempvar _i tuint)
                        (tptr (Tstruct _wormhmap noattr)))
                      (Tstruct _wormhmap noattr)) _slab2
                    (tptr (Tstruct _slab noattr))))
                (Scall (Some _t'3)
                  (Evar _slab_reserve_unsafe (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _slab noattr))
                                                 (Tcons tulong Tnil)) tbool
                                               cc_default))
                  ((Etempvar _t'4 (tptr (Tstruct _slab noattr))) ::
                   (Etempvar _nr tuint) :: nil)))
              (Sifthenelse (Eunop Onotbool (Etempvar _t'3 tbool) tint)
                (Sreturn (Some (Econst_int (Int.repr 0) tint)))
                Sskip)))))
      (Sset _i
        (Ebinop Oadd (Etempvar _i tuint) (Econst_int (Int.repr 1) tint)
          tuint))))
  (Sreturn (Some (Econst_int (Int.repr 1) tint))))
|}.

Definition f_wormmeta_keyref_release := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_meta, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_keyref, (tptr (Tstruct _kv noattr))) ::
               (_t'1, (tptr (Tstruct _kv noattr))) :: (_t'4, tuint) ::
               (_t'3, tuint) :: (_t'2, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormmeta_keyref_load (Tfunction
                                    (Tcons (tptr (Tstruct _wormmeta noattr))
                                      Tnil) (tptr (Tstruct _kv noattr))
                                    cc_default))
      ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
    (Sset _keyref (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
  (Ssequence
    (Ssequence
      (Sset _t'4
        (Efield
          (Efield
            (Efield
              (Efield
                (Ederef (Etempvar _keyref (tptr (Tstruct _kv noattr)))
                  (Tstruct _kv noattr)) 18727075383868559167%positive
                (Tunion __6646 noattr)) 18727075383868559167%positive
              (Tstruct __6647 noattr)) 18727075383868559167%positive
            (Tunion __6648 noattr)) _refcnt tuint))
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Etempvar _t'4 tuint) :: nil)))
    (Ssequence
      (Ssequence
        (Sset _t'3
          (Efield
            (Efield
              (Efield
                (Efield
                  (Ederef (Etempvar _keyref (tptr (Tstruct _kv noattr)))
                    (Tstruct _kv noattr)) 18727075383868559167%positive
                  (Tunion __6646 noattr)) 18727075383868559167%positive
                (Tstruct __6647 noattr)) 18727075383868559167%positive
              (Tunion __6648 noattr)) _refcnt tuint))
        (Sassign
          (Efield
            (Efield
              (Efield
                (Efield
                  (Ederef (Etempvar _keyref (tptr (Tstruct _kv noattr)))
                    (Tstruct _kv noattr)) 18727075383868559167%positive
                  (Tunion __6646 noattr)) 18727075383868559167%positive
                (Tstruct __6647 noattr)) 18727075383868559167%positive
              (Tunion __6648 noattr)) _refcnt tuint)
          (Ebinop Osub (Etempvar _t'3 tuint) (Econst_int (Int.repr 1) tint)
            tuint)))
      (Ssequence
        (Sset _t'2
          (Efield
            (Efield
              (Efield
                (Efield
                  (Ederef (Etempvar _keyref (tptr (Tstruct _kv noattr)))
                    (Tstruct _kv noattr)) 18727075383868559167%positive
                  (Tunion __6646 noattr)) 18727075383868559167%positive
                (Tstruct __6647 noattr)) 18727075383868559167%positive
              (Tunion __6648 noattr)) _refcnt tuint))
        (Sifthenelse (Ebinop Oeq (Etempvar _t'2 tuint)
                       (Econst_int (Int.repr 0) tint) tint)
          (Scall None
            (Evar _wormhole_free_mkey (Tfunction
                                        (Tcons (tptr (Tstruct _kv noattr))
                                          Tnil) tvoid cc_default))
            ((Etempvar _keyref (tptr (Tstruct _kv noattr))) :: nil))
          Sskip)))))
|}.

Definition f_wormmeta_free := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_meta, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr (Tstruct _slab noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _wormmeta_keyref_release (Tfunction
                                     (Tcons (tptr (Tstruct _wormmeta noattr))
                                       Tnil) tvoid cc_default))
    ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
  (Ssequence
    (Sset _t'1
      (Efield
        (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
          (Tstruct _wormhmap noattr)) _slab1 (tptr (Tstruct _slab noattr))))
    (Scall None
      (Evar _slab_free_unsafe (Tfunction
                                (Tcons (tptr (Tstruct _slab noattr))
                                  (Tcons (tptr tvoid) Tnil)) tvoid
                                cc_default))
      ((Etempvar _t'1 (tptr (Tstruct _slab noattr))) ::
       (Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))))
|}.

Definition f_wormleaf_lock_write := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) ::
                (_ref, (tptr (Tstruct _wormref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tbool) :: nil);
  fn_body :=
(Ssequence
  (Scall (Some _t'1)
    (Evar _rwlock_trylock_write (Tfunction
                                  (Tcons (tptr (Tunion __6333 noattr)) Tnil)
                                  tbool cc_default))
    ((Eaddrof
       (Efield
         (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
           (Tstruct _wormleaf noattr)) _leaflock (Tunion __6333 noattr))
       (tptr (Tunion __6333 noattr))) :: nil))
  (Sifthenelse (Eunop Onotbool (Etempvar _t'1 tbool) tint)
    (Ssequence
      (Scall None
        (Evar _wormhole_park (Tfunction
                               (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                               tvoid cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
      (Ssequence
        (Scall None
          (Evar _rwlock_lock_write (Tfunction
                                     (Tcons (tptr (Tunion __6333 noattr))
                                       Tnil) tvoid cc_default))
          ((Eaddrof
             (Efield
               (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                 (Tstruct _wormleaf noattr)) _leaflock
               (Tunion __6333 noattr)) (tptr (Tunion __6333 noattr))) :: nil))
        (Scall None
          (Evar _wormhole_resume (Tfunction
                                   (Tcons (tptr (Tstruct _wormref noattr))
                                     Tnil) tvoid cc_default))
          ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))))
    Sskip))
|}.

Definition f_wormleaf_lock_read := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) ::
                (_ref, (tptr (Tstruct _wormref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tbool) :: nil);
  fn_body :=
(Ssequence
  (Scall (Some _t'1)
    (Evar _rwlock_trylock_read (Tfunction
                                 (Tcons (tptr (Tunion __6333 noattr)) Tnil)
                                 tbool cc_default))
    ((Eaddrof
       (Efield
         (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
           (Tstruct _wormleaf noattr)) _leaflock (Tunion __6333 noattr))
       (tptr (Tunion __6333 noattr))) :: nil))
  (Sifthenelse (Eunop Onotbool (Etempvar _t'1 tbool) tint)
    (Ssequence
      (Scall None
        (Evar _wormhole_park (Tfunction
                               (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                               tvoid cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
      (Ssequence
        (Scall None
          (Evar _rwlock_lock_read (Tfunction
                                    (Tcons (tptr (Tunion __6333 noattr))
                                      Tnil) tvoid cc_default))
          ((Eaddrof
             (Efield
               (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                 (Tstruct _wormleaf noattr)) _leaflock
               (Tunion __6333 noattr)) (tptr (Tunion __6333 noattr))) :: nil))
        (Scall None
          (Evar _wormhole_resume (Tfunction
                                   (Tcons (tptr (Tstruct _wormref noattr))
                                     Tnil) tvoid cc_default))
          ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))))
    Sskip))
|}.

Definition f_wormleaf_unlock_write := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := nil;
  fn_body :=
(Scall None
  (Evar _rwlock_unlock_write (Tfunction
                               (Tcons (tptr (Tunion __6333 noattr)) Tnil)
                               tvoid cc_default))
  ((Eaddrof
     (Efield
       (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
         (Tstruct _wormleaf noattr)) _leaflock (Tunion __6333 noattr))
     (tptr (Tunion __6333 noattr))) :: nil))
|}.

Definition f_wormleaf_unlock_read := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := nil;
  fn_body :=
(Scall None
  (Evar _rwlock_unlock_read (Tfunction
                              (Tcons (tptr (Tunion __6333 noattr)) Tnil)
                              tvoid cc_default))
  ((Eaddrof
     (Efield
       (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
         (Tstruct _wormleaf noattr)) _leaflock (Tunion __6333 noattr))
     (tptr (Tunion __6333 noattr))) :: nil))
|}.

Definition f_wormhmap_lock := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_ref, (tptr (Tstruct _wormref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tbool) :: nil);
  fn_body :=
(Ssequence
  (Scall (Some _t'1)
    (Evar _rwlock_trylock_write (Tfunction
                                  (Tcons (tptr (Tunion __6333 noattr)) Tnil)
                                  tbool cc_default))
    ((Eaddrof
       (Efield
         (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
           (Tstruct _wormhole noattr)) _metalock (Tunion __6333 noattr))
       (tptr (Tunion __6333 noattr))) :: nil))
  (Sifthenelse (Eunop Onotbool (Etempvar _t'1 tbool) tint)
    (Ssequence
      (Scall None
        (Evar _wormhole_park (Tfunction
                               (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                               tvoid cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
      (Ssequence
        (Scall None
          (Evar _rwlock_lock_write (Tfunction
                                     (Tcons (tptr (Tunion __6333 noattr))
                                       Tnil) tvoid cc_default))
          ((Eaddrof
             (Efield
               (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                 (Tstruct _wormhole noattr)) _metalock
               (Tunion __6333 noattr)) (tptr (Tunion __6333 noattr))) :: nil))
        (Scall None
          (Evar _wormhole_resume (Tfunction
                                   (Tcons (tptr (Tstruct _wormref noattr))
                                     Tnil) tvoid cc_default))
          ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))))
    Sskip))
|}.

Definition f_wormhmap_unlock := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_vars := nil;
  fn_temps := nil;
  fn_body :=
(Scall None
  (Evar _rwlock_unlock_write (Tfunction
                               (Tcons (tptr (Tunion __6333 noattr)) Tnil)
                               tvoid cc_default))
  ((Eaddrof
     (Efield
       (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
         (Tstruct _wormhole noattr)) _metalock (Tunion __6333 noattr))
     (tptr (Tunion __6333 noattr))) :: nil))
|}.

Definition f_wormhmap_switch := {|
  fn_return := (tptr (Tstruct _wormhmap noattr));
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_hmap, (tptr (Tstruct _wormhmap noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr (Tstruct _wormhmap noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sifthenelse (Ebinop Oeq (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                 (Efield
                   (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                     (Tstruct _wormhole noattr)) _hmap2
                   (tarray (Tstruct _wormhmap noattr) 2)) tint)
    (Sset _t'1
      (Ecast
        (Ebinop Oadd (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
          (Econst_int (Int.repr 1) tint) (tptr (Tstruct _wormhmap noattr)))
        (tptr (Tstruct _wormhmap noattr))))
    (Sset _t'1
      (Ecast
        (Ebinop Osub (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
          (Econst_int (Int.repr 1) tint) (tptr (Tstruct _wormhmap noattr)))
        (tptr (Tstruct _wormhmap noattr)))))
  (Sreturn (Some (Etempvar _t'1 (tptr (Tstruct _wormhmap noattr))))))
|}.

Definition f_wormhmap_load := {|
  fn_return := (tptr (Tstruct _wormhmap noattr));
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tint) :: nil);
  fn_body :=
(Ssequence
  (Scall (Some _t'1)
    (Evar _atomic_load_explicit (Tfunction Tnil tint
                                  {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
    ((Eaddrof
       (Efield
         (Efield
           (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
             (Tstruct _wormhole noattr)) 18727075383868559167%positive
           (Tunion __7371 noattr)) _hmap_ptr (tvolatile tlong))
       (tptr (tvolatile tlong))) :: (Econst_int (Int.repr 2) tint) :: nil))
  (Sreturn (Some (Ecast (Etempvar _t'1 tint)
                   (tptr (Tstruct _wormhmap noattr))))))
|}.

Definition f_wormhmap_store := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_hmap, (tptr (Tstruct _wormhmap noattr))) :: nil);
  fn_vars := nil;
  fn_temps := nil;
  fn_body :=
(Scall None
  (Evar _atomic_store_explicit (Tfunction Tnil tint
                                 {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
  ((Eaddrof
     (Efield
       (Efield
         (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
           (Tstruct _wormhole noattr)) 18727075383868559167%positive
         (Tunion __7371 noattr)) _hmap_ptr (tvolatile tlong))
     (tptr (tvolatile tlong))) ::
   (Ecast (Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) tulong) ::
   (Econst_int (Int.repr 3) tint) :: nil))
|}.

Definition f_wormhmap_version_load := {|
  fn_return := tulong;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tint) :: nil);
  fn_body :=
(Ssequence
  (Scall (Some _t'1)
    (Evar _atomic_load_explicit (Tfunction Tnil tint
                                  {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
    ((Eaddrof
       (Efield
         (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
           (Tstruct _wormhmap noattr)) _hv tlong) (tptr tlong)) ::
     (Econst_int (Int.repr 2) tint) :: nil))
  (Sreturn (Some (Etempvar _t'1 tint))))
|}.

Definition f_wormhmap_version_store := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) :: (_v, tulong) ::
                nil);
  fn_vars := nil;
  fn_temps := nil;
  fn_body :=
(Scall None
  (Evar _atomic_store_explicit (Tfunction Tnil tint
                                 {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
  ((Eaddrof
     (Efield
       (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
         (Tstruct _wormhmap noattr)) _hv tlong) (tptr tlong)) ::
   (Etempvar _v tulong) :: (Econst_int (Int.repr 3) tint) :: nil))
|}.

Definition f_wormleaf_version_load := {|
  fn_return := tulong;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tint) :: nil);
  fn_body :=
(Ssequence
  (Scall (Some _t'1)
    (Evar _atomic_load_explicit (Tfunction Tnil tint
                                  {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
    ((Eaddrof
       (Efield
         (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
           (Tstruct _wormleaf noattr)) _lv tlong) (tptr tlong)) ::
     (Econst_int (Int.repr 1) tint) :: nil))
  (Sreturn (Some (Etempvar _t'1 tint))))
|}.

Definition f_wormleaf_version_store := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_v, tulong) ::
                nil);
  fn_vars := nil;
  fn_temps := nil;
  fn_body :=
(Scall None
  (Evar _atomic_store_explicit (Tfunction Tnil tint
                                 {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
  ((Eaddrof
     (Efield
       (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
         (Tstruct _wormleaf noattr)) _lv tlong) (tptr tlong)) ::
   (Etempvar _v tulong) :: (Econst_int (Int.repr 3) tint) :: nil))
|}.

Definition f_wormhmap_prefetch_pmap := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_idx, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr (Tstruct _wormmbkt noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1
    (Efield
      (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
        (Tstruct _wormhmap noattr)) _pmap (tptr (Tstruct _wormmbkt noattr))))
  (Scall None
    (Evar _cpu_prefetch0 (Tfunction (Tcons (tptr tvoid) Tnil) tvoid
                           cc_default))
    ((Ebinop Oadd (Etempvar _t'1 (tptr (Tstruct _wormmbkt noattr)))
       (Etempvar _idx tuint) (tptr (Tstruct _wormmbkt noattr))) :: nil)))
|}.

Definition f_wormhmap_get_meta := {|
  fn_return := (tptr (Tstruct _wormmeta noattr));
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_mid, tuint) :: (_i, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_meta, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'1, (tptr (Tstruct _wormmbkt noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'1
      (Efield
        (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
          (Tstruct _wormhmap noattr)) _pmap
        (tptr (Tstruct _wormmbkt noattr))))
    (Sset _meta
      (Ederef
        (Ebinop Oadd
          (Efield
            (Ederef
              (Ebinop Oadd (Etempvar _t'1 (tptr (Tstruct _wormmbkt noattr)))
                (Etempvar _mid tuint) (tptr (Tstruct _wormmbkt noattr)))
              (Tstruct _wormmbkt noattr)) _e
            (tarray (tptr (Tstruct _wormmeta noattr)) 8)) (Etempvar _i tuint)
          (tptr (tptr (Tstruct _wormmeta noattr))))
        (tptr (Tstruct _wormmeta noattr)))))
  (Sreturn (Some (Etempvar _meta (tptr (Tstruct _wormmeta noattr))))))
|}.

Definition f_wormleaf_prefetch := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) ::
                (_hashlo, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_i, tuint) :: (_t'1, tushort) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhole_pkey (Tfunction (Tcons tuint Tnil) tushort cc_default))
      ((Etempvar _hashlo tuint) :: nil))
    (Sset _i
      (Ebinop Odiv (Etempvar _t'1 tushort)
        (Ebinop Odiv
          (Ebinop Oshl (Econst_int (Int.repr 1) tuint)
            (Econst_int (Int.repr 16) tint) tuint)
          (Econst_int (Int.repr 128) tuint) tuint) tuint)))
  (Scall None
    (Evar _cpu_prefetch0 (Tfunction (Tcons (tptr tvoid) Tnil) tvoid
                           cc_default))
    ((Ebinop Oadd
       (Efield
         (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
           (Tstruct _wormleaf noattr)) _hs
         (tarray (Tstruct _entry13__1 noattr) 128)) (Etempvar _i tuint)
       (tptr (Tstruct _entry13__1 noattr))) :: nil)))
|}.

Definition f_wormhole_kref_kv_match := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_key, (tptr (Tstruct _kref noattr))) ::
                (_curr, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tbool) :: nil);
  fn_body :=
(Ssequence
  (Scall (Some _t'1)
    (Evar _kref_kv_match (Tfunction
                           (Tcons (tptr (Tstruct _kref noattr))
                             (Tcons (tptr (Tstruct _kv noattr)) Tnil)) tbool
                           cc_default))
    ((Etempvar _key (tptr (Tstruct _kref noattr))) ::
     (Etempvar _curr (tptr (Tstruct _kv noattr))) :: nil))
  (Sreturn (Some (Etempvar _t'1 tbool))))
|}.

Definition f_wormhole_qsbr_update_pause := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) :: (_v, tulong) ::
                nil);
  fn_vars := nil;
  fn_temps := nil;
  fn_body :=
(Scall None
  (Evar _qsbr_update (Tfunction
                       (Tcons (tptr (Tstruct _qsbr_ref noattr))
                         (Tcons tulong Tnil)) tvoid cc_default))
  ((Eaddrof
     (Efield
       (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
         (Tstruct _wormref noattr)) _qref (Tstruct _qsbr_ref noattr))
     (tptr (Tstruct _qsbr_ref noattr))) :: (Etempvar _v tulong) :: nil))
|}.

Definition f_wormhmap_init := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_pbuf, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := ((_msize, tulong) :: nil);
  fn_temps := ((_wsize, tulong) :: (_psize, tulong) ::
               (_mem, (tptr tuchar)) :: (_t'1, (tptr tvoid)) ::
               (_t'3, tulong) :: (_t'2, tulong) :: nil);
  fn_body :=
(Ssequence
  (Sset _wsize
    (Ebinop Omul (Esizeof (Tstruct _wormslot noattr) tulong)
      (Ebinop Oshl (Econst_int (Int.repr 1) tuint)
        (Econst_int (Int.repr 12) tint) tuint) tulong))
  (Ssequence
    (Sset _psize
      (Ebinop Omul (Esizeof (Tstruct _wormmbkt noattr) tulong)
        (Ebinop Oshl (Econst_int (Int.repr 1) tuint)
          (Econst_int (Int.repr 12) tint) tuint) tulong))
    (Ssequence
      (Sassign (Evar _msize tulong)
        (Ebinop Oadd (Etempvar _wsize tulong) (Etempvar _psize tulong)
          tulong))
      (Ssequence
        (Ssequence
          (Ssequence
            (Sset _t'3 (Evar _msize tulong))
            (Scall (Some _t'1)
              (Evar _pages_alloc_best (Tfunction
                                        (Tcons tulong
                                          (Tcons tbool
                                            (Tcons (tptr tulong) Tnil)))
                                        (tptr tvoid) cc_default))
              ((Etempvar _t'3 tulong) :: (Econst_int (Int.repr 1) tint) ::
               (Eaddrof (Evar _msize tulong) (tptr tulong)) :: nil)))
          (Sset _mem (Etempvar _t'1 (tptr tvoid))))
        (Ssequence
          (Sifthenelse (Ebinop Oeq (Etempvar _mem (tptr tuchar))
                         (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))
                         tint)
            (Sreturn (Some (Econst_int (Int.repr 0) tint)))
            Sskip)
          (Ssequence
            (Sassign
              (Efield
                (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                  (Tstruct _wormhmap noattr)) _pmap
                (tptr (Tstruct _wormmbkt noattr)))
              (Ecast (Etempvar _mem (tptr tuchar))
                (tptr (Tstruct _wormmbkt noattr))))
            (Ssequence
              (Sassign
                (Efield
                  (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                    (Tstruct _wormhmap noattr)) _wmap
                  (tptr (Tstruct _wormslot noattr)))
                (Ecast
                  (Ebinop Oadd (Etempvar _mem (tptr tuchar))
                    (Etempvar _psize tulong) (tptr tuchar))
                  (tptr (Tstruct _wormslot noattr))))
              (Ssequence
                (Ssequence
                  (Sset _t'2 (Evar _msize tulong))
                  (Sassign
                    (Efield
                      (Ederef
                        (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                        (Tstruct _wormhmap noattr)) _msize tulong)
                    (Etempvar _t'2 tulong)))
                (Ssequence
                  (Sassign
                    (Efield
                      (Ederef
                        (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                        (Tstruct _wormhmap noattr)) _mask tuint)
                    (Ebinop Osub
                      (Ebinop Oshl (Econst_int (Int.repr 1) tuint)
                        (Econst_int (Int.repr 12) tint) tuint)
                      (Econst_int (Int.repr 1) tint) tuint))
                  (Ssequence
                    (Scall None
                      (Evar _wormhmap_version_store (Tfunction
                                                      (Tcons
                                                        (tptr (Tstruct _wormhmap noattr))
                                                        (Tcons tulong Tnil))
                                                      tvoid cc_default))
                      ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                       (Econst_int (Int.repr 0) tint) :: nil))
                    (Ssequence
                      (Sassign
                        (Efield
                          (Ederef
                            (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                            (Tstruct _wormhmap noattr)) _maxplen tuint)
                        (Econst_int (Int.repr 0) tint))
                      (Ssequence
                        (Sassign
                          (Efield
                            (Ederef
                              (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                              (Tstruct _wormhmap noattr)) _pbuf
                            (tptr (Tstruct _kv noattr)))
                          (Etempvar _pbuf (tptr (Tstruct _kv noattr))))
                        (Sreturn (Some (Econst_int (Int.repr 1) tint)))))))))))))))
|}.

Definition f_wormhmap_deinit := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'3, tulong) :: (_t'2, (tptr (Tstruct _wormmbkt noattr))) ::
               (_t'1, (tptr (Tstruct _wormmbkt noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1
    (Efield
      (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
        (Tstruct _wormhmap noattr)) _pmap (tptr (Tstruct _wormmbkt noattr))))
  (Sifthenelse (Etempvar _t'1 (tptr (Tstruct _wormmbkt noattr)))
    (Ssequence
      (Ssequence
        (Sset _t'2
          (Efield
            (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
              (Tstruct _wormhmap noattr)) _pmap
            (tptr (Tstruct _wormmbkt noattr))))
        (Ssequence
          (Sset _t'3
            (Efield
              (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                (Tstruct _wormhmap noattr)) _msize tulong))
          (Scall None
            (Evar _pages_unmap (Tfunction
                                 (Tcons (tptr tvoid) (Tcons tulong Tnil))
                                 tvoid cc_default))
            ((Etempvar _t'2 (tptr (Tstruct _wormmbkt noattr))) ::
             (Etempvar _t'3 tulong) :: nil))))
      (Ssequence
        (Sassign
          (Efield
            (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
              (Tstruct _wormhmap noattr)) _pmap
            (tptr (Tstruct _wormmbkt noattr)))
          (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)))
        (Sassign
          (Efield
            (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
              (Tstruct _wormhmap noattr)) _wmap
            (tptr (Tstruct _wormslot noattr)))
          (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)))))
    Sskip))
|}.

Definition f_wormhmap_zero := {|
  fn_return := tvoid;
  fn_callconv := {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|};
  fn_params := ((__res, (tptr (Tstruct __m128 noattr))) :: nil);
  fn_vars := ((_zeros, (Tstruct __m128 noattr)) :: nil);
  fn_temps := nil;
  fn_body :=
(Ssequence
  (Sassign
    (Ederef (Etempvar __res (tptr (Tstruct __m128 noattr)))
      (Tstruct __m128 noattr)) (Evar _zeros (Tstruct __m128 noattr)))
  (Sreturn None))
|}.

Definition f_wormhmap_m128_pkey := {|
  fn_return := tvoid;
  fn_callconv := {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|};
  fn_params := ((__res, (tptr (Tstruct __m128 noattr))) ::
                (_pkey, tushort) :: nil);
  fn_vars := ((_zeros, (Tstruct __m128 noattr)) :: nil);
  fn_temps := nil;
  fn_body :=
(Ssequence
  (Sassign
    (Ederef (Etempvar __res (tptr (Tstruct __m128 noattr)))
      (Tstruct __m128 noattr)) (Evar _zeros (Tstruct __m128 noattr)))
  (Sreturn None))
|}.

Definition f_wormhmap_match_mask := {|
  fn_return := tuint;
  fn_callconv := cc_default;
  fn_params := ((_s, (tptr (Tstruct _wormslot noattr))) ::
                (_skey, (Tstruct __m128 noattr)) :: nil);
  fn_vars := ((_skey, (Tstruct __m128 noattr)) ::
              (_sv, (Tstruct __m128 noattr)) :: nil);
  fn_temps := ((_t'2, tint) :: (_t'1, tint) :: nil);
  fn_body :=
(Ssequence
  (Sassign (Evar _skey (Tstruct __m128 noattr))
    (Etempvar _skey (Tstruct __m128 noattr)))
  (Ssequence
    (Ssequence
      (Scall (Some _t'1)
        (Evar __mm_cmpeq_epi16 (Tfunction Tnil tint
                                 {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
        ((Evar _skey (Tstruct __m128 noattr)) ::
         (Evar _sv (Tstruct __m128 noattr)) :: nil))
      (Scall (Some _t'2)
        (Evar __mm_movemask_epi8 (Tfunction Tnil tint
                                   {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
        ((Etempvar _t'1 tint) :: nil)))
    (Sreturn (Some (Ecast (Etempvar _t'2 tint) tuint)))))
|}.

Definition f_wormhmap_match_any := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_s, (tptr (Tstruct _wormslot noattr))) ::
                (_skey, (Tstruct __m128 noattr)) :: nil);
  fn_vars := ((_skey, (Tstruct __m128 noattr)) :: nil);
  fn_temps := ((_t'1, tuint) :: nil);
  fn_body :=
(Ssequence
  (Sassign (Evar _skey (Tstruct __m128 noattr))
    (Etempvar _skey (Tstruct __m128 noattr)))
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhmap_match_mask (Tfunction
                                   (Tcons (tptr (Tstruct _wormslot noattr))
                                     (Tcons (Tstruct __m128 noattr) Tnil))
                                   tuint cc_default))
      ((Etempvar _s (tptr (Tstruct _wormslot noattr))) ::
       (Evar _skey (Tstruct __m128 noattr)) :: nil))
    (Sreturn (Some (Ebinop One (Etempvar _t'1 tuint)
                     (Econst_int (Int.repr 0) tint) tint)))))
|}.

Definition f_wormhmap_peek := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_hash32, tuint) :: nil);
  fn_vars := ((_sk, (Tstruct __m128 noattr)) ::
              (__res, (Tstruct __m128 noattr)) :: nil);
  fn_temps := ((_midx, tuint) :: (_midy, tuint) :: (_t'5, tbool) ::
               (_t'4, tint) :: (_t'3, tbool) :: (_t'2, tuint) ::
               (_t'1, tushort) :: (_t'9, tuint) :: (_t'8, tuint) ::
               (_t'7, (tptr (Tstruct _wormslot noattr))) ::
               (_t'6, (tptr (Tstruct _wormslot noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Scall (Some _t'1)
        (Evar _wormhole_pkey (Tfunction (Tcons tuint Tnil) tushort
                               cc_default))
        ((Etempvar _hash32 tuint) :: nil))
      (Scall None
        (Evar _wormhmap_m128_pkey (Tfunction
                                    (Tcons (tptr (Tstruct __m128 noattr))
                                      (Tcons tushort Tnil)) tvoid
                                    {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
        ((Eaddrof (Evar __res (Tstruct __m128 noattr))
           (tptr (Tstruct __m128 noattr))) :: (Etempvar _t'1 tushort) :: nil)))
    (Sassign (Evar _sk (Tstruct __m128 noattr))
      (Evar __res (Tstruct __m128 noattr))))
  (Ssequence
    (Ssequence
      (Sset _t'9
        (Efield
          (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
            (Tstruct _wormhmap noattr)) _mask tuint))
      (Sset _midx
        (Ebinop Oand (Etempvar _hash32 tuint) (Etempvar _t'9 tuint) tuint)))
    (Ssequence
      (Ssequence
        (Scall (Some _t'2)
          (Evar _wormhole_bswap (Tfunction (Tcons tuint Tnil) tuint
                                  cc_default))
          ((Etempvar _hash32 tuint) :: nil))
        (Ssequence
          (Sset _t'8
            (Efield
              (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                (Tstruct _wormhmap noattr)) _mask tuint))
          (Sset _midy
            (Ebinop Oand (Etempvar _t'2 tuint) (Etempvar _t'8 tuint) tuint))))
      (Ssequence
        (Ssequence
          (Ssequence
            (Sset _t'7
              (Efield
                (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                  (Tstruct _wormhmap noattr)) _wmap
                (tptr (Tstruct _wormslot noattr))))
            (Scall (Some _t'3)
              (Evar _wormhmap_match_any (Tfunction
                                          (Tcons
                                            (tptr (Tstruct _wormslot noattr))
                                            (Tcons (Tstruct __m128 noattr)
                                              Tnil)) tbool cc_default))
              ((Ebinop Oadd (Etempvar _t'7 (tptr (Tstruct _wormslot noattr)))
                 (Etempvar _midx tuint) (tptr (Tstruct _wormslot noattr))) ::
               (Evar _sk (Tstruct __m128 noattr)) :: nil)))
          (Sifthenelse (Etempvar _t'3 tbool)
            (Sset _t'4 (Econst_int (Int.repr 1) tint))
            (Ssequence
              (Ssequence
                (Sset _t'6
                  (Efield
                    (Ederef
                      (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                      (Tstruct _wormhmap noattr)) _wmap
                    (tptr (Tstruct _wormslot noattr))))
                (Scall (Some _t'5)
                  (Evar _wormhmap_match_any (Tfunction
                                              (Tcons
                                                (tptr (Tstruct _wormslot noattr))
                                                (Tcons
                                                  (Tstruct __m128 noattr)
                                                  Tnil)) tbool cc_default))
                  ((Ebinop Oadd
                     (Etempvar _t'6 (tptr (Tstruct _wormslot noattr)))
                     (Etempvar _midy tuint)
                     (tptr (Tstruct _wormslot noattr))) ::
                   (Evar _sk (Tstruct __m128 noattr)) :: nil)))
              (Sset _t'4 (Ecast (Etempvar _t'5 tbool) tbool)))))
        (Sreturn (Some (Etempvar _t'4 tint)))))))
|}.

Definition f_wormhmap_get_slot := {|
  fn_return := (tptr (Tstruct _wormmeta noattr));
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_mid, tuint) :: (_skey, (Tstruct __m128 noattr)) ::
                (_key, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := ((_skey, (Tstruct __m128 noattr)) :: nil);
  fn_temps := ((_mask, tuint) :: (_i2, tuint) ::
               (_meta, (tptr (Tstruct _wormmeta noattr))) :: (_t'4, tbool) ::
               (_t'3, (tptr (Tstruct _wormmeta noattr))) :: (_t'2, tint) ::
               (_t'1, tuint) :: (_t'5, (tptr (Tstruct _wormslot noattr))) ::
               nil);
  fn_body :=
(Ssequence
  (Sassign (Evar _skey (Tstruct __m128 noattr))
    (Etempvar _skey (Tstruct __m128 noattr)))
  (Ssequence
    (Ssequence
      (Ssequence
        (Sset _t'5
          (Efield
            (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
              (Tstruct _wormhmap noattr)) _wmap
            (tptr (Tstruct _wormslot noattr))))
        (Scall (Some _t'1)
          (Evar _wormhmap_match_mask (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormslot noattr))
                                         (Tcons (Tstruct __m128 noattr) Tnil))
                                       tuint cc_default))
          ((Ebinop Oadd (Etempvar _t'5 (tptr (Tstruct _wormslot noattr)))
             (Etempvar _mid tuint) (tptr (Tstruct _wormslot noattr))) ::
           (Evar _skey (Tstruct __m128 noattr)) :: nil)))
      (Sset _mask (Etempvar _t'1 tuint)))
    (Ssequence
      (Swhile
        (Etempvar _mask tuint)
        (Ssequence
          (Ssequence
            (Scall (Some _t'2)
              (Evar ___builtin_ctz (Tfunction (Tcons tuint Tnil) tint
                                     cc_default))
              ((Etempvar _mask tuint) :: nil))
            (Sset _i2 (Ecast (Etempvar _t'2 tint) tuint)))
          (Ssequence
            (Ssequence
              (Scall (Some _t'3)
                (Evar _wormhmap_get_meta (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormhmap noattr))
                                             (Tcons tuint (Tcons tuint Tnil)))
                                           (tptr (Tstruct _wormmeta noattr))
                                           cc_default))
                ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                 (Etempvar _mid tuint) ::
                 (Ebinop Oshr (Etempvar _i2 tuint)
                   (Econst_int (Int.repr 1) tint) tuint) :: nil))
              (Sset _meta (Etempvar _t'3 (tptr (Tstruct _wormmeta noattr)))))
            (Ssequence
              (Ssequence
                (Scall (Some _t'4)
                  (Evar _wormhole_key_meta_match (Tfunction
                                                   (Tcons
                                                     (tptr (Tstruct _kv noattr))
                                                     (Tcons
                                                       (tptr (Tstruct _wormmeta noattr))
                                                       Tnil)) tbool
                                                   cc_default))
                  ((Etempvar _key (tptr (Tstruct _kv noattr))) ::
                   (Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
                (Sifthenelse (Etempvar _t'4 tbool)
                  (Sreturn (Some (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))))
                  Sskip))
              (Sset _mask
                (Ebinop Oxor (Etempvar _mask tuint)
                  (Ebinop Oshl (Econst_int (Int.repr 3) tuint)
                    (Etempvar _i2 tuint) tuint) tuint))))))
      (Sreturn (Some (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)))))))
|}.

Definition f_wormhmap_get := {|
  fn_return := (tptr (Tstruct _wormmeta noattr));
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_key, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := ((_skey, (Tstruct __m128 noattr)) ::
              (__res, (Tstruct __m128 noattr)) :: nil);
  fn_temps := ((_hash32, tuint) :: (_midx, tuint) :: (_midy, tuint) ::
               (_r, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'4, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'3, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'2, tushort) :: (_t'1, tuint) :: (_t'6, tuint) ::
               (_t'5, tuint) :: nil);
  fn_body :=
(Ssequence
  (Sset _hash32
    (Efield
      (Efield
        (Efield
          (Ederef (Etempvar _key (tptr (Tstruct _kv noattr)))
            (Tstruct _kv noattr)) 19015305760020270911%positive
          (Tunion __6649 noattr)) 18727075383868559167%positive
        (Tstruct __6650 noattr)) _hashlo tuint))
  (Ssequence
    (Ssequence
      (Sset _t'6
        (Efield
          (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
            (Tstruct _wormhmap noattr)) _mask tuint))
      (Sset _midx
        (Ebinop Oand (Etempvar _hash32 tuint) (Etempvar _t'6 tuint) tuint)))
    (Ssequence
      (Scall None
        (Evar _wormhmap_prefetch_pmap (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormhmap noattr))
                                          (Tcons tuint Tnil)) tvoid
                                        cc_default))
        ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
         (Etempvar _midx tuint) :: nil))
      (Ssequence
        (Ssequence
          (Scall (Some _t'1)
            (Evar _wormhole_bswap (Tfunction (Tcons tuint Tnil) tuint
                                    cc_default))
            ((Etempvar _hash32 tuint) :: nil))
          (Ssequence
            (Sset _t'5
              (Efield
                (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                  (Tstruct _wormhmap noattr)) _mask tuint))
            (Sset _midy
              (Ebinop Oand (Etempvar _t'1 tuint) (Etempvar _t'5 tuint) tuint))))
        (Ssequence
          (Scall None
            (Evar _wormhmap_prefetch_pmap (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormhmap noattr))
                                              (Tcons tuint Tnil)) tvoid
                                            cc_default))
            ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
             (Etempvar _midy tuint) :: nil))
          (Ssequence
            (Ssequence
              (Ssequence
                (Scall (Some _t'2)
                  (Evar _wormhole_pkey (Tfunction (Tcons tuint Tnil) tushort
                                         cc_default))
                  ((Etempvar _hash32 tuint) :: nil))
                (Scall None
                  (Evar _wormhmap_m128_pkey (Tfunction
                                              (Tcons
                                                (tptr (Tstruct __m128 noattr))
                                                (Tcons tushort Tnil)) tvoid
                                              {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
                  ((Eaddrof (Evar __res (Tstruct __m128 noattr))
                     (tptr (Tstruct __m128 noattr))) ::
                   (Etempvar _t'2 tushort) :: nil)))
              (Sassign (Evar _skey (Tstruct __m128 noattr))
                (Evar __res (Tstruct __m128 noattr))))
            (Ssequence
              (Ssequence
                (Scall (Some _t'3)
                  (Evar _wormhmap_get_slot (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _wormhmap noattr))
                                               (Tcons tuint
                                                 (Tcons
                                                   (Tstruct __m128 noattr)
                                                   (Tcons
                                                     (tptr (Tstruct _kv noattr))
                                                     Tnil))))
                                             (tptr (Tstruct _wormmeta noattr))
                                             cc_default))
                  ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                   (Etempvar _midx tuint) ::
                   (Evar _skey (Tstruct __m128 noattr)) ::
                   (Etempvar _key (tptr (Tstruct _kv noattr))) :: nil))
                (Sset _r (Etempvar _t'3 (tptr (Tstruct _wormmeta noattr)))))
              (Ssequence
                (Sifthenelse (Etempvar _r (tptr (Tstruct _wormmeta noattr)))
                  (Sreturn (Some (Etempvar _r (tptr (Tstruct _wormmeta noattr)))))
                  Sskip)
                (Ssequence
                  (Scall (Some _t'4)
                    (Evar _wormhmap_get_slot (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _wormhmap noattr))
                                                 (Tcons tuint
                                                   (Tcons
                                                     (Tstruct __m128 noattr)
                                                     (Tcons
                                                       (tptr (Tstruct _kv noattr))
                                                       Tnil))))
                                               (tptr (Tstruct _wormmeta noattr))
                                               cc_default))
                    ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                     (Etempvar _midy tuint) ::
                     (Evar _skey (Tstruct __m128 noattr)) ::
                     (Etempvar _key (tptr (Tstruct _kv noattr))) :: nil))
                  (Sreturn (Some (Etempvar _t'4 (tptr (Tstruct _wormmeta noattr))))))))))))))
|}.

Definition f_wormhmap_get_kref_slot := {|
  fn_return := (tptr (Tstruct _wormmeta noattr));
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_mid, tuint) :: (_skey, (Tstruct __m128 noattr)) ::
                (_kref__1, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := ((_skey, (Tstruct __m128 noattr)) :: nil);
  fn_temps := ((_mask, tuint) :: (_i2, tuint) ::
               (_meta, (tptr (Tstruct _wormmeta noattr))) :: (_t'4, tbool) ::
               (_t'3, (tptr (Tstruct _wormmeta noattr))) :: (_t'2, tint) ::
               (_t'1, tuint) :: (_t'5, (tptr (Tstruct _wormslot noattr))) ::
               nil);
  fn_body :=
(Ssequence
  (Sassign (Evar _skey (Tstruct __m128 noattr))
    (Etempvar _skey (Tstruct __m128 noattr)))
  (Ssequence
    (Ssequence
      (Ssequence
        (Sset _t'5
          (Efield
            (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
              (Tstruct _wormhmap noattr)) _wmap
            (tptr (Tstruct _wormslot noattr))))
        (Scall (Some _t'1)
          (Evar _wormhmap_match_mask (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormslot noattr))
                                         (Tcons (Tstruct __m128 noattr) Tnil))
                                       tuint cc_default))
          ((Ebinop Oadd (Etempvar _t'5 (tptr (Tstruct _wormslot noattr)))
             (Etempvar _mid tuint) (tptr (Tstruct _wormslot noattr))) ::
           (Evar _skey (Tstruct __m128 noattr)) :: nil)))
      (Sset _mask (Etempvar _t'1 tuint)))
    (Ssequence
      (Swhile
        (Etempvar _mask tuint)
        (Ssequence
          (Ssequence
            (Scall (Some _t'2)
              (Evar ___builtin_ctz (Tfunction (Tcons tuint Tnil) tint
                                     cc_default))
              ((Etempvar _mask tuint) :: nil))
            (Sset _i2 (Ecast (Etempvar _t'2 tint) tuint)))
          (Ssequence
            (Ssequence
              (Scall (Some _t'3)
                (Evar _wormhmap_get_meta (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormhmap noattr))
                                             (Tcons tuint (Tcons tuint Tnil)))
                                           (tptr (Tstruct _wormmeta noattr))
                                           cc_default))
                ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                 (Etempvar _mid tuint) ::
                 (Ebinop Oshr (Etempvar _i2 tuint)
                   (Econst_int (Int.repr 1) tint) tuint) :: nil))
              (Sset _meta (Etempvar _t'3 (tptr (Tstruct _wormmeta noattr)))))
            (Ssequence
              (Ssequence
                (Scall (Some _t'4)
                  (Evar _wormhole_kref_meta_match (Tfunction
                                                    (Tcons
                                                      (tptr (Tstruct _kref noattr))
                                                      (Tcons
                                                        (tptr (Tstruct _wormmeta noattr))
                                                        Tnil)) tbool
                                                    cc_default))
                  ((Etempvar _kref__1 (tptr (Tstruct _kref noattr))) ::
                   (Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
                (Sifthenelse (Etempvar _t'4 tbool)
                  (Sreturn (Some (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))))
                  Sskip))
              (Sset _mask
                (Ebinop Oxor (Etempvar _mask tuint)
                  (Ebinop Oshl (Econst_int (Int.repr 3) tuint)
                    (Etempvar _i2 tuint) tuint) tuint))))))
      (Sreturn (Some (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)))))))
|}.

Definition f_wormhmap_get_kref := {|
  fn_return := (tptr (Tstruct _wormmeta noattr));
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_kref__1, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := ((_skey, (Tstruct __m128 noattr)) ::
              (__res, (Tstruct __m128 noattr)) :: nil);
  fn_temps := ((_hash32, tuint) :: (_midx, tuint) :: (_midy, tuint) ::
               (_r, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'4, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'3, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'2, tushort) :: (_t'1, tuint) :: (_t'6, tuint) ::
               (_t'5, tuint) :: nil);
  fn_body :=
(Ssequence
  (Sset _hash32
    (Efield
      (Efield
        (Ederef (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
          (Tstruct _kref noattr)) 18727075383868559167%positive
        (Tunion __6653 noattr)) _hash32 tuint))
  (Ssequence
    (Ssequence
      (Sset _t'6
        (Efield
          (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
            (Tstruct _wormhmap noattr)) _mask tuint))
      (Sset _midx
        (Ebinop Oand (Etempvar _hash32 tuint) (Etempvar _t'6 tuint) tuint)))
    (Ssequence
      (Scall None
        (Evar _wormhmap_prefetch_pmap (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormhmap noattr))
                                          (Tcons tuint Tnil)) tvoid
                                        cc_default))
        ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
         (Etempvar _midx tuint) :: nil))
      (Ssequence
        (Ssequence
          (Scall (Some _t'1)
            (Evar _wormhole_bswap (Tfunction (Tcons tuint Tnil) tuint
                                    cc_default))
            ((Etempvar _hash32 tuint) :: nil))
          (Ssequence
            (Sset _t'5
              (Efield
                (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                  (Tstruct _wormhmap noattr)) _mask tuint))
            (Sset _midy
              (Ebinop Oand (Etempvar _t'1 tuint) (Etempvar _t'5 tuint) tuint))))
        (Ssequence
          (Scall None
            (Evar _wormhmap_prefetch_pmap (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormhmap noattr))
                                              (Tcons tuint Tnil)) tvoid
                                            cc_default))
            ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
             (Etempvar _midy tuint) :: nil))
          (Ssequence
            (Ssequence
              (Ssequence
                (Scall (Some _t'2)
                  (Evar _wormhole_pkey (Tfunction (Tcons tuint Tnil) tushort
                                         cc_default))
                  ((Etempvar _hash32 tuint) :: nil))
                (Scall None
                  (Evar _wormhmap_m128_pkey (Tfunction
                                              (Tcons
                                                (tptr (Tstruct __m128 noattr))
                                                (Tcons tushort Tnil)) tvoid
                                              {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
                  ((Eaddrof (Evar __res (Tstruct __m128 noattr))
                     (tptr (Tstruct __m128 noattr))) ::
                   (Etempvar _t'2 tushort) :: nil)))
              (Sassign (Evar _skey (Tstruct __m128 noattr))
                (Evar __res (Tstruct __m128 noattr))))
            (Ssequence
              (Ssequence
                (Scall (Some _t'3)
                  (Evar _wormhmap_get_kref_slot (Tfunction
                                                  (Tcons
                                                    (tptr (Tstruct _wormhmap noattr))
                                                    (Tcons tuint
                                                      (Tcons
                                                        (Tstruct __m128 noattr)
                                                        (Tcons
                                                          (tptr (Tstruct _kref noattr))
                                                          Tnil))))
                                                  (tptr (Tstruct _wormmeta noattr))
                                                  cc_default))
                  ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                   (Etempvar _midx tuint) ::
                   (Evar _skey (Tstruct __m128 noattr)) ::
                   (Etempvar _kref__1 (tptr (Tstruct _kref noattr))) :: nil))
                (Sset _r (Etempvar _t'3 (tptr (Tstruct _wormmeta noattr)))))
              (Ssequence
                (Sifthenelse (Etempvar _r (tptr (Tstruct _wormmeta noattr)))
                  (Sreturn (Some (Etempvar _r (tptr (Tstruct _wormmeta noattr)))))
                  Sskip)
                (Ssequence
                  (Scall (Some _t'4)
                    (Evar _wormhmap_get_kref_slot (Tfunction
                                                    (Tcons
                                                      (tptr (Tstruct _wormhmap noattr))
                                                      (Tcons tuint
                                                        (Tcons
                                                          (Tstruct __m128 noattr)
                                                          (Tcons
                                                            (tptr (Tstruct _kref noattr))
                                                            Tnil))))
                                                    (tptr (Tstruct _wormmeta noattr))
                                                    cc_default))
                    ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                     (Etempvar _midy tuint) ::
                     (Evar _skey (Tstruct __m128 noattr)) ::
                     (Etempvar _kref__1 (tptr (Tstruct _kref noattr))) ::
                     nil))
                  (Sreturn (Some (Etempvar _t'4 (tptr (Tstruct _wormmeta noattr))))))))))))))
|}.

Definition f_wormhmap_get_kref1_slot := {|
  fn_return := (tptr (Tstruct _wormmeta noattr));
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_mid, tuint) :: (_skey, (Tstruct __m128 noattr)) ::
                (_kref__1, (tptr (Tstruct _kref noattr))) ::
                (_cid, tuchar) :: nil);
  fn_vars := ((_skey, (Tstruct __m128 noattr)) :: nil);
  fn_temps := ((_mask, tuint) :: (_i2, tuint) ::
               (_meta, (tptr (Tstruct _wormmeta noattr))) :: (_t'4, tbool) ::
               (_t'3, (tptr (Tstruct _wormmeta noattr))) :: (_t'2, tint) ::
               (_t'1, tuint) :: (_t'5, (tptr (Tstruct _wormslot noattr))) ::
               nil);
  fn_body :=
(Ssequence
  (Sassign (Evar _skey (Tstruct __m128 noattr))
    (Etempvar _skey (Tstruct __m128 noattr)))
  (Ssequence
    (Ssequence
      (Ssequence
        (Sset _t'5
          (Efield
            (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
              (Tstruct _wormhmap noattr)) _wmap
            (tptr (Tstruct _wormslot noattr))))
        (Scall (Some _t'1)
          (Evar _wormhmap_match_mask (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormslot noattr))
                                         (Tcons (Tstruct __m128 noattr) Tnil))
                                       tuint cc_default))
          ((Ebinop Oadd (Etempvar _t'5 (tptr (Tstruct _wormslot noattr)))
             (Etempvar _mid tuint) (tptr (Tstruct _wormslot noattr))) ::
           (Evar _skey (Tstruct __m128 noattr)) :: nil)))
      (Sset _mask (Etempvar _t'1 tuint)))
    (Ssequence
      (Swhile
        (Etempvar _mask tuint)
        (Ssequence
          (Ssequence
            (Scall (Some _t'2)
              (Evar ___builtin_ctz (Tfunction (Tcons tuint Tnil) tint
                                     cc_default))
              ((Etempvar _mask tuint) :: nil))
            (Sset _i2 (Ecast (Etempvar _t'2 tint) tuint)))
          (Ssequence
            (Ssequence
              (Scall (Some _t'3)
                (Evar _wormhmap_get_meta (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormhmap noattr))
                                             (Tcons tuint (Tcons tuint Tnil)))
                                           (tptr (Tstruct _wormmeta noattr))
                                           cc_default))
                ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                 (Etempvar _mid tuint) ::
                 (Ebinop Oshr (Etempvar _i2 tuint)
                   (Econst_int (Int.repr 1) tint) tuint) :: nil))
              (Sset _meta (Etempvar _t'3 (tptr (Tstruct _wormmeta noattr)))))
            (Ssequence
              (Ssequence
                (Scall (Some _t'4)
                  (Evar _wormhole_kref1_meta_match (Tfunction
                                                     (Tcons
                                                       (tptr (Tstruct _kref noattr))
                                                       (Tcons
                                                         (tptr (Tstruct _wormmeta noattr))
                                                         (Tcons tuchar Tnil)))
                                                     tbool cc_default))
                  ((Etempvar _kref__1 (tptr (Tstruct _kref noattr))) ::
                   (Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                   (Etempvar _cid tuchar) :: nil))
                (Sifthenelse (Etempvar _t'4 tbool)
                  (Sreturn (Some (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))))
                  Sskip))
              (Sset _mask
                (Ebinop Oxor (Etempvar _mask tuint)
                  (Ebinop Oshl (Econst_int (Int.repr 3) tuint)
                    (Etempvar _i2 tuint) tuint) tuint))))))
      (Sreturn (Some (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)))))))
|}.

Definition f_wormhmap_get_kref1 := {|
  fn_return := (tptr (Tstruct _wormmeta noattr));
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_kref__1, (tptr (Tstruct _kref noattr))) ::
                (_cid, tuchar) :: nil);
  fn_vars := ((_skey, (Tstruct __m128 noattr)) ::
              (__res, (Tstruct __m128 noattr)) :: nil);
  fn_temps := ((_hash32, tuint) :: (_midx, tuint) :: (_midy, tuint) ::
               (_r, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'5, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'4, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'3, tushort) :: (_t'2, tuint) :: (_t'1, tuint) ::
               (_t'8, tuint) :: (_t'7, tuint) :: (_t'6, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'8
        (Efield
          (Efield
            (Ederef (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
              (Tstruct _kref noattr)) 18727075383868559167%positive
            (Tunion __6653 noattr)) _hash32 tuint))
      (Scall (Some _t'1)
        (Evar _crc32c_u8 (Tfunction (Tcons tuint (Tcons tuchar Tnil)) tuint
                           cc_default))
        ((Etempvar _t'8 tuint) :: (Etempvar _cid tuchar) :: nil)))
    (Sset _hash32 (Etempvar _t'1 tuint)))
  (Ssequence
    (Ssequence
      (Sset _t'7
        (Efield
          (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
            (Tstruct _wormhmap noattr)) _mask tuint))
      (Sset _midx
        (Ebinop Oand (Etempvar _hash32 tuint) (Etempvar _t'7 tuint) tuint)))
    (Ssequence
      (Scall None
        (Evar _wormhmap_prefetch_pmap (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormhmap noattr))
                                          (Tcons tuint Tnil)) tvoid
                                        cc_default))
        ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
         (Etempvar _midx tuint) :: nil))
      (Ssequence
        (Ssequence
          (Scall (Some _t'2)
            (Evar _wormhole_bswap (Tfunction (Tcons tuint Tnil) tuint
                                    cc_default))
            ((Etempvar _hash32 tuint) :: nil))
          (Ssequence
            (Sset _t'6
              (Efield
                (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                  (Tstruct _wormhmap noattr)) _mask tuint))
            (Sset _midy
              (Ebinop Oand (Etempvar _t'2 tuint) (Etempvar _t'6 tuint) tuint))))
        (Ssequence
          (Scall None
            (Evar _wormhmap_prefetch_pmap (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormhmap noattr))
                                              (Tcons tuint Tnil)) tvoid
                                            cc_default))
            ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
             (Etempvar _midy tuint) :: nil))
          (Ssequence
            (Ssequence
              (Ssequence
                (Scall (Some _t'3)
                  (Evar _wormhole_pkey (Tfunction (Tcons tuint Tnil) tushort
                                         cc_default))
                  ((Etempvar _hash32 tuint) :: nil))
                (Scall None
                  (Evar _wormhmap_m128_pkey (Tfunction
                                              (Tcons
                                                (tptr (Tstruct __m128 noattr))
                                                (Tcons tushort Tnil)) tvoid
                                              {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
                  ((Eaddrof (Evar __res (Tstruct __m128 noattr))
                     (tptr (Tstruct __m128 noattr))) ::
                   (Etempvar _t'3 tushort) :: nil)))
              (Sassign (Evar _skey (Tstruct __m128 noattr))
                (Evar __res (Tstruct __m128 noattr))))
            (Ssequence
              (Ssequence
                (Scall (Some _t'4)
                  (Evar _wormhmap_get_kref1_slot (Tfunction
                                                   (Tcons
                                                     (tptr (Tstruct _wormhmap noattr))
                                                     (Tcons tuint
                                                       (Tcons
                                                         (Tstruct __m128 noattr)
                                                         (Tcons
                                                           (tptr (Tstruct _kref noattr))
                                                           (Tcons tuchar
                                                             Tnil)))))
                                                   (tptr (Tstruct _wormmeta noattr))
                                                   cc_default))
                  ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                   (Etempvar _midx tuint) ::
                   (Evar _skey (Tstruct __m128 noattr)) ::
                   (Etempvar _kref__1 (tptr (Tstruct _kref noattr))) ::
                   (Etempvar _cid tuchar) :: nil))
                (Sset _r (Etempvar _t'4 (tptr (Tstruct _wormmeta noattr)))))
              (Ssequence
                (Sifthenelse (Etempvar _r (tptr (Tstruct _wormmeta noattr)))
                  (Sreturn (Some (Etempvar _r (tptr (Tstruct _wormmeta noattr)))))
                  Sskip)
                (Ssequence
                  (Scall (Some _t'5)
                    (Evar _wormhmap_get_kref1_slot (Tfunction
                                                     (Tcons
                                                       (tptr (Tstruct _wormhmap noattr))
                                                       (Tcons tuint
                                                         (Tcons
                                                           (Tstruct __m128 noattr)
                                                           (Tcons
                                                             (tptr (Tstruct _kref noattr))
                                                             (Tcons tuchar
                                                               Tnil)))))
                                                     (tptr (Tstruct _wormmeta noattr))
                                                     cc_default))
                    ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                     (Etempvar _midy tuint) ::
                     (Evar _skey (Tstruct __m128 noattr)) ::
                     (Etempvar _kref__1 (tptr (Tstruct _kref noattr))) ::
                     (Etempvar _cid tuchar) :: nil))
                  (Sreturn (Some (Etempvar _t'5 (tptr (Tstruct _wormmeta noattr))))))))))))))
|}.

Definition f_wormhmap_slot_count := {|
  fn_return := tuint;
  fn_callconv := cc_default;
  fn_params := ((_slot, (tptr (Tstruct _wormslot noattr))) :: nil);
  fn_vars := ((__res, (Tstruct __m128 noattr)) :: nil);
  fn_temps := ((_mask, tuint) :: (_t'3, tint) :: (_t'2, tuint) ::
               (_t'1, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Scall None
        (Evar _wormhmap_zero (Tfunction
                               (Tcons (tptr (Tstruct __m128 noattr)) Tnil)
                               tvoid
                               {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
        ((Eaddrof (Evar __res (Tstruct __m128 noattr))
           (tptr (Tstruct __m128 noattr))) :: nil))
      (Scall (Some _t'1)
        (Evar _wormhmap_match_mask (Tfunction
                                     (Tcons (tptr (Tstruct _wormslot noattr))
                                       (Tcons (Tstruct __m128 noattr) Tnil))
                                     tuint cc_default))
        ((Etempvar _slot (tptr (Tstruct _wormslot noattr))) ::
         (Evar __res (Tstruct __m128 noattr)) :: nil)))
    (Sset _mask (Etempvar _t'1 tuint)))
  (Ssequence
    (Sifthenelse (Etempvar _mask tuint)
      (Ssequence
        (Scall (Some _t'3)
          (Evar ___builtin_ctz (Tfunction (Tcons tuint Tnil) tint cc_default))
          ((Etempvar _mask tuint) :: nil))
        (Sset _t'2
          (Ecast
            (Ebinop Oshr (Ecast (Etempvar _t'3 tint) tuint)
              (Econst_int (Int.repr 1) tint) tuint) tuint)))
      (Sset _t'2 (Ecast (Econst_int (Int.repr 8) tint) tuint)))
    (Sreturn (Some (Etempvar _t'2 tuint)))))
|}.

Definition f_wormhmap_squeeze := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_wmap, (tptr (Tstruct _wormslot noattr))) ::
               (_pmap, (tptr (Tstruct _wormmbkt noattr))) ::
               (_mask, tuint) :: (_nrs64, tulong) :: (_si64, tulong) ::
               (_si, tuint) :: (_ci, tuint) :: (_ei, tuint) ::
               (_meta, (tptr (Tstruct _wormmeta noattr))) :: (_sj, tuint) ::
               (_ej, tuint) :: (_ni, tuint) :: (_t'3, tuint) ::
               (_t'2, tuint) :: (_t'1, tuint) :: (_t'8, tuint) ::
               (_t'7, tushort) ::
               (_t'6, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'5, tushort) ::
               (_t'4, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _wmap
    (Efield
      (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
        (Tstruct _wormhmap noattr)) _wmap (tptr (Tstruct _wormslot noattr))))
  (Ssequence
    (Sset _pmap
      (Efield
        (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
          (Tstruct _wormhmap noattr)) _pmap
        (tptr (Tstruct _wormmbkt noattr))))
    (Ssequence
      (Sset _mask
        (Efield
          (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
            (Tstruct _wormhmap noattr)) _mask tuint))
      (Ssequence
        (Ssequence
          (Sset _t'8
            (Efield
              (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                (Tstruct _wormhmap noattr)) _mask tuint))
          (Sset _nrs64
            (Ebinop Oadd (Ecast (Etempvar _t'8 tuint) tulong)
              (Econst_int (Int.repr 1) tint) tulong)))
        (Ssequence
          (Sset _si64 (Ecast (Econst_int (Int.repr 0) tint) tulong))
          (Sloop
            (Ssequence
              (Sifthenelse (Ebinop Olt (Etempvar _si64 tulong)
                             (Etempvar _nrs64 tulong) tint)
                Sskip
                Sbreak)
              (Ssequence
                (Sset _si (Ecast (Etempvar _si64 tulong) tuint))
                (Ssequence
                  (Ssequence
                    (Scall (Some _t'1)
                      (Evar _wormhmap_slot_count (Tfunction
                                                   (Tcons
                                                     (tptr (Tstruct _wormslot noattr))
                                                     Tnil) tuint cc_default))
                      ((Ebinop Oadd
                         (Etempvar _wmap (tptr (Tstruct _wormslot noattr)))
                         (Etempvar _si tuint)
                         (tptr (Tstruct _wormslot noattr))) :: nil))
                    (Sset _ci (Etempvar _t'1 tuint)))
                  (Ssequence
                    (Sset _ei
                      (Ebinop Osub (Etempvar _ci tuint)
                        (Econst_int (Int.repr 1) tint) tuint))
                    (Sloop
                      (Ssequence
                        (Sifthenelse (Ebinop Olt (Etempvar _ei tuint)
                                       (Econst_int (Int.repr 8) tint) tint)
                          Sskip
                          Sbreak)
                        (Ssequence
                          (Sset _meta
                            (Ederef
                              (Ebinop Oadd
                                (Efield
                                  (Ederef
                                    (Ebinop Oadd
                                      (Etempvar _pmap (tptr (Tstruct _wormmbkt noattr)))
                                      (Etempvar _si tuint)
                                      (tptr (Tstruct _wormmbkt noattr)))
                                    (Tstruct _wormmbkt noattr)) _e
                                  (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                                (Etempvar _ei tuint)
                                (tptr (tptr (Tstruct _wormmeta noattr))))
                              (tptr (Tstruct _wormmeta noattr))))
                          (Ssequence
                            (Ssequence
                              (Scall (Some _t'2)
                                (Evar _wormmeta_hash32_load (Tfunction
                                                              (Tcons
                                                                (tptr (Tstruct _wormmeta noattr))
                                                                Tnil) tuint
                                                              cc_default))
                                ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                                 nil))
                              (Sset _sj
                                (Ebinop Oand (Etempvar _t'2 tuint)
                                  (Etempvar _mask tuint) tuint)))
                            (Ssequence
                              (Sifthenelse (Ebinop Oeq (Etempvar _sj tuint)
                                             (Etempvar _si tuint) tint)
                                Scontinue
                                Sskip)
                              (Ssequence
                                (Ssequence
                                  (Scall (Some _t'3)
                                    (Evar _wormhmap_slot_count (Tfunction
                                                                 (Tcons
                                                                   (tptr (Tstruct _wormslot noattr))
                                                                   Tnil)
                                                                 tuint
                                                                 cc_default))
                                    ((Ebinop Oadd
                                       (Etempvar _wmap (tptr (Tstruct _wormslot noattr)))
                                       (Etempvar _sj tuint)
                                       (tptr (Tstruct _wormslot noattr))) ::
                                     nil))
                                  (Sset _ej (Etempvar _t'3 tuint)))
                                (Sifthenelse (Ebinop Olt (Etempvar _ej tuint)
                                               (Econst_int (Int.repr 8) tint)
                                               tint)
                                  (Ssequence
                                    (Ssequence
                                      (Sset _t'7
                                        (Ederef
                                          (Ebinop Oadd
                                            (Efield
                                              (Ederef
                                                (Ebinop Oadd
                                                  (Etempvar _wmap (tptr (Tstruct _wormslot noattr)))
                                                  (Etempvar _si tuint)
                                                  (tptr (Tstruct _wormslot noattr)))
                                                (Tstruct _wormslot noattr))
                                              _t (tarray tushort 8))
                                            (Etempvar _ei tuint)
                                            (tptr tushort)) tushort))
                                      (Sassign
                                        (Ederef
                                          (Ebinop Oadd
                                            (Efield
                                              (Ederef
                                                (Ebinop Oadd
                                                  (Etempvar _wmap (tptr (Tstruct _wormslot noattr)))
                                                  (Etempvar _sj tuint)
                                                  (tptr (Tstruct _wormslot noattr)))
                                                (Tstruct _wormslot noattr))
                                              _t (tarray tushort 8))
                                            (Etempvar _ej tuint)
                                            (tptr tushort)) tushort)
                                        (Etempvar _t'7 tushort)))
                                    (Ssequence
                                      (Ssequence
                                        (Sset _t'6
                                          (Ederef
                                            (Ebinop Oadd
                                              (Efield
                                                (Ederef
                                                  (Ebinop Oadd
                                                    (Etempvar _pmap (tptr (Tstruct _wormmbkt noattr)))
                                                    (Etempvar _si tuint)
                                                    (tptr (Tstruct _wormmbkt noattr)))
                                                  (Tstruct _wormmbkt noattr))
                                                _e
                                                (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                                              (Etempvar _ei tuint)
                                              (tptr (tptr (Tstruct _wormmeta noattr))))
                                            (tptr (Tstruct _wormmeta noattr))))
                                        (Sassign
                                          (Ederef
                                            (Ebinop Oadd
                                              (Efield
                                                (Ederef
                                                  (Ebinop Oadd
                                                    (Etempvar _pmap (tptr (Tstruct _wormmbkt noattr)))
                                                    (Etempvar _sj tuint)
                                                    (tptr (Tstruct _wormmbkt noattr)))
                                                  (Tstruct _wormmbkt noattr))
                                                _e
                                                (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                                              (Etempvar _ej tuint)
                                              (tptr (tptr (Tstruct _wormmeta noattr))))
                                            (tptr (Tstruct _wormmeta noattr)))
                                          (Etempvar _t'6 (tptr (Tstruct _wormmeta noattr)))))
                                      (Ssequence
                                        (Sset _ni
                                          (Ebinop Osub (Etempvar _ci tuint)
                                            (Econst_int (Int.repr 1) tint)
                                            tuint))
                                        (Ssequence
                                          (Sifthenelse (Ebinop Olt
                                                         (Etempvar _ei tuint)
                                                         (Etempvar _ni tuint)
                                                         tint)
                                            (Ssequence
                                              (Ssequence
                                                (Sset _t'5
                                                  (Ederef
                                                    (Ebinop Oadd
                                                      (Efield
                                                        (Ederef
                                                          (Ebinop Oadd
                                                            (Etempvar _wmap (tptr (Tstruct _wormslot noattr)))
                                                            (Etempvar _si tuint)
                                                            (tptr (Tstruct _wormslot noattr)))
                                                          (Tstruct _wormslot noattr))
                                                        _t
                                                        (tarray tushort 8))
                                                      (Etempvar _ni tuint)
                                                      (tptr tushort))
                                                    tushort))
                                                (Sassign
                                                  (Ederef
                                                    (Ebinop Oadd
                                                      (Efield
                                                        (Ederef
                                                          (Ebinop Oadd
                                                            (Etempvar _wmap (tptr (Tstruct _wormslot noattr)))
                                                            (Etempvar _si tuint)
                                                            (tptr (Tstruct _wormslot noattr)))
                                                          (Tstruct _wormslot noattr))
                                                        _t
                                                        (tarray tushort 8))
                                                      (Etempvar _ei tuint)
                                                      (tptr tushort))
                                                    tushort)
                                                  (Etempvar _t'5 tushort)))
                                              (Ssequence
                                                (Sset _t'4
                                                  (Ederef
                                                    (Ebinop Oadd
                                                      (Efield
                                                        (Ederef
                                                          (Ebinop Oadd
                                                            (Etempvar _pmap (tptr (Tstruct _wormmbkt noattr)))
                                                            (Etempvar _si tuint)
                                                            (tptr (Tstruct _wormmbkt noattr)))
                                                          (Tstruct _wormmbkt noattr))
                                                        _e
                                                        (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                                                      (Etempvar _ni tuint)
                                                      (tptr (tptr (Tstruct _wormmeta noattr))))
                                                    (tptr (Tstruct _wormmeta noattr))))
                                                (Sassign
                                                  (Ederef
                                                    (Ebinop Oadd
                                                      (Efield
                                                        (Ederef
                                                          (Ebinop Oadd
                                                            (Etempvar _pmap (tptr (Tstruct _wormmbkt noattr)))
                                                            (Etempvar _si tuint)
                                                            (tptr (Tstruct _wormmbkt noattr)))
                                                          (Tstruct _wormmbkt noattr))
                                                        _e
                                                        (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                                                      (Etempvar _ei tuint)
                                                      (tptr (tptr (Tstruct _wormmeta noattr))))
                                                    (tptr (Tstruct _wormmeta noattr)))
                                                  (Etempvar _t'4 (tptr (Tstruct _wormmeta noattr))))))
                                            Sskip)
                                          (Ssequence
                                            (Sassign
                                              (Ederef
                                                (Ebinop Oadd
                                                  (Efield
                                                    (Ederef
                                                      (Ebinop Oadd
                                                        (Etempvar _wmap (tptr (Tstruct _wormslot noattr)))
                                                        (Etempvar _si tuint)
                                                        (tptr (Tstruct _wormslot noattr)))
                                                      (Tstruct _wormslot noattr))
                                                    _t (tarray tushort 8))
                                                  (Etempvar _ni tuint)
                                                  (tptr tushort)) tushort)
                                              (Econst_int (Int.repr 0) tint))
                                            (Ssequence
                                              (Sassign
                                                (Ederef
                                                  (Ebinop Oadd
                                                    (Efield
                                                      (Ederef
                                                        (Ebinop Oadd
                                                          (Etempvar _pmap (tptr (Tstruct _wormmbkt noattr)))
                                                          (Etempvar _si tuint)
                                                          (tptr (Tstruct _wormmbkt noattr)))
                                                        (Tstruct _wormmbkt noattr))
                                                      _e
                                                      (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                                                    (Etempvar _ni tuint)
                                                    (tptr (tptr (Tstruct _wormmeta noattr))))
                                                  (tptr (Tstruct _wormmeta noattr)))
                                                (Ecast
                                                  (Econst_int (Int.repr 0) tint)
                                                  (tptr tvoid)))
                                              (Sset _ci
                                                (Ebinop Osub
                                                  (Etempvar _ci tuint)
                                                  (Econst_int (Int.repr 1) tint)
                                                  tuint))))))))
                                  Sskip))))))
                      (Sset _ei
                        (Ebinop Osub (Etempvar _ei tuint)
                          (Econst_int (Int.repr 1) tint) tuint)))))))
            (Sset _si64
              (Ebinop Oadd (Etempvar _si64 tulong)
                (Econst_int (Int.repr 1) tint) tulong))))))))
|}.

Definition v___func__ := {|
  gvar_info := (tarray tschar 16);
  gvar_init := (Init_int8 (Int.repr 119) :: Init_int8 (Int.repr 111) ::
                Init_int8 (Int.repr 114) :: Init_int8 (Int.repr 109) ::
                Init_int8 (Int.repr 104) :: Init_int8 (Int.repr 109) ::
                Init_int8 (Int.repr 97) :: Init_int8 (Int.repr 112) ::
                Init_int8 (Int.repr 95) :: Init_int8 (Int.repr 101) ::
                Init_int8 (Int.repr 120) :: Init_int8 (Int.repr 112) ::
                Init_int8 (Int.repr 97) :: Init_int8 (Int.repr 110) ::
                Init_int8 (Int.repr 100) :: Init_int8 (Int.repr 0) :: nil);
  gvar_readonly := true;
  gvar_volatile := false
|}.

Definition f_wormhmap_expand := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) :: nil);
  fn_vars := ((_msize, tulong) :: (_ts, (tarray tschar 64)) ::
              (_hmap1, (Tstruct _wormhmap noattr)) :: nil);
  fn_temps := ((_mask0, tuint) :: (_nr0, tuint) :: (_mask1, tuint) ::
               (_nr1, tulong) :: (_wsize, tulong) :: (_psize, tulong) ::
               (_mem, (tptr tuchar)) ::
               (_wmap0, (tptr (Tstruct _wormslot noattr))) ::
               (_pmap0, (tptr (Tstruct _wormmbkt noattr))) :: (_s, tuint) ::
               (_bkt, (tptr (Tstruct _wormmbkt noattr))) :: (_i, tuint) ::
               (_meta, (tptr (Tstruct _wormmeta noattr))) ::
               (_hash32, tuint) :: (_idx0, tuint) :: (_idx1, tuint) ::
               (_n, tuint) :: (_t'7, tuint) :: (_t'6, tuint) ::
               (_t'5, tuint) :: (_t'4, tuint) :: (_t'3, tint) ::
               (_t'2, (tptr tvoid)) :: (_t'1, (tptr tvoid)) ::
               (_t'25, tulong) :: (_t'24, tulong) ::
               (_t'23, (tptr (Tstruct __IO_FILE noattr))) ::
               (_t'22, tulong) ::
               (_t'21, (tptr (Tstruct __IO_FILE noattr))) ::
               (_t'20, tulong) ::
               (_t'19, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'18, (tptr (Tstruct _wormslot noattr))) ::
               (_t'17, tushort) ::
               (_t'16, (tptr (Tstruct _wormslot noattr))) ::
               (_t'15, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'14, (tptr (Tstruct _wormmbkt noattr))) ::
               (_t'13, tulong) ::
               (_t'12, (tptr (Tstruct _wormmbkt noattr))) ::
               (_t'11, (tptr (Tstruct _wormmbkt noattr))) ::
               (_t'10, (tptr (Tstruct _wormslot noattr))) ::
               (_t'9, tulong) :: (_t'8, tuint) :: nil);
  fn_body :=
(Ssequence
  (Sset _mask0
    (Efield
      (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
        (Tstruct _wormhmap noattr)) _mask tuint))
  (Ssequence
    (Sifthenelse (Ebinop Oeq (Etempvar _mask0 tuint)
                   (Econst_int (Int.repr (-1)) tuint) tint)
      (Scall None (Evar _debug_die (Tfunction Tnil tvoid cc_default)) nil)
      Sskip)
    (Ssequence
      (Sset _nr0
        (Ebinop Oadd (Etempvar _mask0 tuint) (Econst_int (Int.repr 1) tint)
          tuint))
      (Ssequence
        (Sset _mask1
          (Ebinop Oadd (Etempvar _mask0 tuint) (Etempvar _nr0 tuint) tuint))
        (Ssequence
          (Sset _nr1
            (Ebinop Oshl (Ecast (Etempvar _nr0 tuint) tulong)
              (Econst_int (Int.repr 1) tint) tulong))
          (Ssequence
            (Sset _wsize
              (Ebinop Omul (Etempvar _nr1 tulong)
                (Esizeof (Tstruct _wormslot noattr) tulong) tulong))
            (Ssequence
              (Sset _psize
                (Ebinop Omul (Etempvar _nr1 tulong)
                  (Esizeof (Tstruct _wormmbkt noattr) tulong) tulong))
              (Ssequence
                (Sassign (Evar _msize tulong)
                  (Ebinop Oadd (Etempvar _wsize tulong)
                    (Etempvar _psize tulong) tulong))
                (Ssequence
                  (Ssequence
                    (Ssequence
                      (Sset _t'25 (Evar _msize tulong))
                      (Scall (Some _t'1)
                        (Evar _pages_alloc_best (Tfunction
                                                  (Tcons tulong
                                                    (Tcons tbool
                                                      (Tcons (tptr tulong)
                                                        Tnil))) (tptr tvoid)
                                                  cc_default))
                        ((Etempvar _t'25 tulong) ::
                         (Econst_int (Int.repr 1) tint) ::
                         (Eaddrof (Evar _msize tulong) (tptr tulong)) :: nil)))
                    (Sset _mem (Etempvar _t'1 (tptr tvoid))))
                  (Ssequence
                    (Sifthenelse (Ebinop Oeq (Etempvar _mem (tptr tuchar))
                                   (Ecast (Econst_int (Int.repr 0) tint)
                                     (tptr tvoid)) tint)
                      (Ssequence
                        (Scall None
                          (Evar _time_stamp (Tfunction
                                              (Tcons (tptr tschar)
                                                (Tcons tulong Tnil)) tvoid
                                              cc_default))
                          ((Evar _ts (tarray tschar 64)) ::
                           (Econst_int (Int.repr 64) tint) :: nil))
                        (Ssequence
                          (Ssequence
                            (Sset _t'23
                              (Evar _stderr (tptr (Tstruct __IO_FILE noattr))))
                            (Ssequence
                              (Sset _t'24 (Evar _msize tulong))
                              (Scall None
                                (Evar _fprintf (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct __IO_FILE noattr))
                                                   (Tcons (tptr tschar) Tnil))
                                                 tint
                                                 {|cc_vararg:=(Some 2); cc_unproto:=false; cc_structret:=false|}))
                                ((Etempvar _t'23 (tptr (Tstruct __IO_FILE noattr))) ::
                                 (Evar ___stringlit_1 (tarray tschar 46)) ::
                                 (Evar ___func__ (tarray tschar 16)) ::
                                 (Evar _ts (tarray tschar 64)) ::
                                 (Ebinop Oshr (Etempvar _t'24 tulong)
                                   (Econst_int (Int.repr 10) tint) tulong) ::
                                 nil))))
                          (Ssequence
                            (Sloop
                              (Ssequence
                                (Scall None
                                  (Evar _sleep (Tfunction (Tcons tuint Tnil)
                                                 tuint cc_default))
                                  ((Econst_int (Int.repr 1) tint) :: nil))
                                (Ssequence
                                  (Ssequence
                                    (Sset _t'22 (Evar _msize tulong))
                                    (Scall (Some _t'2)
                                      (Evar _pages_alloc_best (Tfunction
                                                                (Tcons tulong
                                                                  (Tcons
                                                                    tbool
                                                                    (Tcons
                                                                    (tptr tulong)
                                                                    Tnil)))
                                                                (tptr tvoid)
                                                                cc_default))
                                      ((Etempvar _t'22 tulong) ::
                                       (Econst_int (Int.repr 1) tint) ::
                                       (Eaddrof (Evar _msize tulong)
                                         (tptr tulong)) :: nil)))
                                  (Sset _mem (Etempvar _t'2 (tptr tvoid)))))
                              (Sifthenelse (Ebinop Oeq
                                             (Etempvar _mem (tptr tuchar))
                                             (Ecast
                                               (Econst_int (Int.repr 0) tint)
                                               (tptr tvoid)) tint)
                                Sskip
                                Sbreak))
                            (Ssequence
                              (Scall None
                                (Evar _time_stamp (Tfunction
                                                    (Tcons (tptr tschar)
                                                      (Tcons tulong Tnil))
                                                    tvoid cc_default))
                                ((Evar _ts (tarray tschar 64)) ::
                                 (Econst_int (Int.repr 64) tint) :: nil))
                              (Ssequence
                                (Sset _t'21
                                  (Evar _stderr (tptr (Tstruct __IO_FILE noattr))))
                                (Scall None
                                  (Evar _fprintf (Tfunction
                                                   (Tcons
                                                     (tptr (Tstruct __IO_FILE noattr))
                                                     (Tcons (tptr tschar)
                                                       Tnil)) tint
                                                   {|cc_vararg:=(Some 2); cc_unproto:=false; cc_structret:=false|}))
                                  ((Etempvar _t'21 (tptr (Tstruct __IO_FILE noattr))) ::
                                   (Evar ___stringlit_2 (tarray tschar 30)) ::
                                   (Evar ___func__ (tarray tschar 16)) ::
                                   (Evar _ts (tarray tschar 64)) :: nil)))))))
                      Sskip)
                    (Ssequence
                      (Sassign (Evar _hmap1 (Tstruct _wormhmap noattr))
                        (Ederef
                          (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                          (Tstruct _wormhmap noattr)))
                      (Ssequence
                        (Sassign
                          (Efield (Evar _hmap1 (Tstruct _wormhmap noattr))
                            _pmap (tptr (Tstruct _wormmbkt noattr)))
                          (Ecast (Etempvar _mem (tptr tuchar))
                            (tptr (Tstruct _wormmbkt noattr))))
                        (Ssequence
                          (Sassign
                            (Efield (Evar _hmap1 (Tstruct _wormhmap noattr))
                              _wmap (tptr (Tstruct _wormslot noattr)))
                            (Ecast
                              (Ebinop Oadd (Etempvar _mem (tptr tuchar))
                                (Etempvar _psize tulong) (tptr tuchar))
                              (tptr (Tstruct _wormslot noattr))))
                          (Ssequence
                            (Ssequence
                              (Sset _t'20 (Evar _msize tulong))
                              (Sassign
                                (Efield
                                  (Evar _hmap1 (Tstruct _wormhmap noattr))
                                  _msize tulong) (Etempvar _t'20 tulong)))
                            (Ssequence
                              (Sassign
                                (Efield
                                  (Evar _hmap1 (Tstruct _wormhmap noattr))
                                  _mask tuint) (Etempvar _mask1 tuint))
                              (Ssequence
                                (Sset _wmap0
                                  (Efield
                                    (Ederef
                                      (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                      (Tstruct _wormhmap noattr)) _wmap
                                    (tptr (Tstruct _wormslot noattr))))
                                (Ssequence
                                  (Sset _pmap0
                                    (Efield
                                      (Ederef
                                        (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                        (Tstruct _wormhmap noattr)) _pmap
                                      (tptr (Tstruct _wormmbkt noattr))))
                                  (Ssequence
                                    (Ssequence
                                      (Sset _s
                                        (Econst_int (Int.repr 0) tint))
                                      (Sloop
                                        (Ssequence
                                          (Sifthenelse (Ebinop Olt
                                                         (Etempvar _s tuint)
                                                         (Etempvar _nr0 tuint)
                                                         tint)
                                            Sskip
                                            Sbreak)
                                          (Ssequence
                                            (Sset _bkt
                                              (Ebinop Oadd
                                                (Etempvar _pmap0 (tptr (Tstruct _wormmbkt noattr)))
                                                (Etempvar _s tuint)
                                                (tptr (Tstruct _wormmbkt noattr))))
                                            (Ssequence
                                              (Sset _i
                                                (Econst_int (Int.repr 0) tint))
                                              (Sloop
                                                (Ssequence
                                                  (Ssequence
                                                    (Sifthenelse (Ebinop Olt
                                                                   (Etempvar _i tuint)
                                                                   (Econst_int (Int.repr 8) tint)
                                                                   tint)
                                                      (Ssequence
                                                        (Sset _t'19
                                                          (Ederef
                                                            (Ebinop Oadd
                                                              (Efield
                                                                (Ederef
                                                                  (Etempvar _bkt (tptr (Tstruct _wormmbkt noattr)))
                                                                  (Tstruct _wormmbkt noattr))
                                                                _e
                                                                (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                                                              (Etempvar _i tuint)
                                                              (tptr (tptr (Tstruct _wormmeta noattr))))
                                                            (tptr (Tstruct _wormmeta noattr))))
                                                        (Sset _t'3
                                                          (Ecast
                                                            (Etempvar _t'19 (tptr (Tstruct _wormmeta noattr)))
                                                            tbool)))
                                                      (Sset _t'3
                                                        (Econst_int (Int.repr 0) tint)))
                                                    (Sifthenelse (Etempvar _t'3 tint)
                                                      Sskip
                                                      Sbreak))
                                                  (Ssequence
                                                    (Sset _meta
                                                      (Ederef
                                                        (Ebinop Oadd
                                                          (Efield
                                                            (Ederef
                                                              (Etempvar _bkt (tptr (Tstruct _wormmbkt noattr)))
                                                              (Tstruct _wormmbkt noattr))
                                                            _e
                                                            (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                                                          (Etempvar _i tuint)
                                                          (tptr (tptr (Tstruct _wormmeta noattr))))
                                                        (tptr (Tstruct _wormmeta noattr))))
                                                    (Ssequence
                                                      (Ssequence
                                                        (Scall (Some _t'4)
                                                          (Evar _wormmeta_hash32_load 
                                                          (Tfunction
                                                            (Tcons
                                                              (tptr (Tstruct _wormmeta noattr))
                                                              Tnil) tuint
                                                            cc_default))
                                                          ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                                                           nil))
                                                        (Sset _hash32
                                                          (Etempvar _t'4 tuint)))
                                                      (Ssequence
                                                        (Sset _idx0
                                                          (Ebinop Oand
                                                            (Etempvar _hash32 tuint)
                                                            (Etempvar _mask0 tuint)
                                                            tuint))
                                                        (Ssequence
                                                          (Ssequence
                                                            (Sifthenelse 
                                                              (Ebinop Oeq
                                                                (Etempvar _idx0 tuint)
                                                                (Etempvar _s tuint)
                                                                tint)
                                                              (Sset _t'5
                                                                (Ecast
                                                                  (Etempvar _hash32 tuint)
                                                                  tuint))
                                                              (Ssequence
                                                                (Scall (Some _t'6)
                                                                  (Evar _wormhole_bswap 
                                                                  (Tfunction
                                                                    (Tcons
                                                                    tuint
                                                                    Tnil)
                                                                    tuint
                                                                    cc_default))
                                                                  ((Etempvar _hash32 tuint) ::
                                                                   nil))
                                                                (Sset _t'5
                                                                  (Ecast
                                                                    (Etempvar _t'6 tuint)
                                                                    tuint))))
                                                            (Sset _idx1
                                                              (Ebinop Oand
                                                                (Etempvar _t'5 tuint)
                                                                (Etempvar _mask1 tuint)
                                                                tuint)))
                                                          (Ssequence
                                                            (Ssequence
                                                              (Ssequence
                                                                (Sset _t'18
                                                                  (Efield
                                                                    (Evar _hmap1 (Tstruct _wormhmap noattr))
                                                                    _wmap
                                                                    (tptr (Tstruct _wormslot noattr))))
                                                                (Scall (Some _t'7)
                                                                  (Evar _wormhmap_slot_count 
                                                                  (Tfunction
                                                                    (Tcons
                                                                    (tptr (Tstruct _wormslot noattr))
                                                                    Tnil)
                                                                    tuint
                                                                    cc_default))
                                                                  ((Ebinop Oadd
                                                                    (Etempvar _t'18 (tptr (Tstruct _wormslot noattr)))
                                                                    (Etempvar _idx1 tuint)
                                                                    (tptr (Tstruct _wormslot noattr))) ::
                                                                   nil)))
                                                              (Sset _n
                                                                (Etempvar _t'7 tuint)))
                                                            (Ssequence
                                                              (Scall None
                                                                (Evar _debug_assert 
                                                                (Tfunction
                                                                  (Tcons
                                                                    tbool
                                                                    Tnil)
                                                                  tvoid
                                                                  cc_default))
                                                                ((Ebinop Olt
                                                                   (Etempvar _n tuint)
                                                                   (Econst_int (Int.repr 8) tint)
                                                                   tint) ::
                                                                 nil))
                                                              (Ssequence
                                                                (Ssequence
                                                                  (Sset _t'16
                                                                    (Efield
                                                                    (Evar _hmap1 (Tstruct _wormhmap noattr))
                                                                    _wmap
                                                                    (tptr (Tstruct _wormslot noattr))))
                                                                  (Ssequence
                                                                    (Sset _t'17
                                                                    (Ederef
                                                                    (Ebinop Oadd
                                                                    (Efield
                                                                    (Ederef
                                                                    (Ebinop Oadd
                                                                    (Etempvar _wmap0 (tptr (Tstruct _wormslot noattr)))
                                                                    (Etempvar _s tuint)
                                                                    (tptr (Tstruct _wormslot noattr)))
                                                                    (Tstruct _wormslot noattr))
                                                                    _t
                                                                    (tarray tushort 8))
                                                                    (Etempvar _i tuint)
                                                                    (tptr tushort))
                                                                    tushort))
                                                                    (Sassign
                                                                    (Ederef
                                                                    (Ebinop Oadd
                                                                    (Efield
                                                                    (Ederef
                                                                    (Ebinop Oadd
                                                                    (Etempvar _t'16 (tptr (Tstruct _wormslot noattr)))
                                                                    (Etempvar _idx1 tuint)
                                                                    (tptr (Tstruct _wormslot noattr)))
                                                                    (Tstruct _wormslot noattr))
                                                                    _t
                                                                    (tarray tushort 8))
                                                                    (Etempvar _n tuint)
                                                                    (tptr tushort))
                                                                    tushort)
                                                                    (Etempvar _t'17 tushort))))
                                                                (Ssequence
                                                                  (Sset _t'14
                                                                    (Efield
                                                                    (Evar _hmap1 (Tstruct _wormhmap noattr))
                                                                    _pmap
                                                                    (tptr (Tstruct _wormmbkt noattr))))
                                                                  (Ssequence
                                                                    (Sset _t'15
                                                                    (Ederef
                                                                    (Ebinop Oadd
                                                                    (Efield
                                                                    (Ederef
                                                                    (Etempvar _bkt (tptr (Tstruct _wormmbkt noattr)))
                                                                    (Tstruct _wormmbkt noattr))
                                                                    _e
                                                                    (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                                                                    (Etempvar _i tuint)
                                                                    (tptr (tptr (Tstruct _wormmeta noattr))))
                                                                    (tptr (Tstruct _wormmeta noattr))))
                                                                    (Sassign
                                                                    (Ederef
                                                                    (Ebinop Oadd
                                                                    (Efield
                                                                    (Ederef
                                                                    (Ebinop Oadd
                                                                    (Etempvar _t'14 (tptr (Tstruct _wormmbkt noattr)))
                                                                    (Etempvar _idx1 tuint)
                                                                    (tptr (Tstruct _wormmbkt noattr)))
                                                                    (Tstruct _wormmbkt noattr))
                                                                    _e
                                                                    (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                                                                    (Etempvar _n tuint)
                                                                    (tptr (tptr (Tstruct _wormmeta noattr))))
                                                                    (tptr (Tstruct _wormmeta noattr)))
                                                                    (Etempvar _t'15 (tptr (Tstruct _wormmeta noattr))))))))))))))
                                                (Sset _i
                                                  (Ebinop Oadd
                                                    (Etempvar _i tuint)
                                                    (Econst_int (Int.repr 1) tint)
                                                    tuint))))))
                                        (Sset _s
                                          (Ebinop Oadd (Etempvar _s tuint)
                                            (Econst_int (Int.repr 1) tint)
                                            tuint))))
                                    (Ssequence
                                      (Ssequence
                                        (Sset _t'12
                                          (Efield
                                            (Ederef
                                              (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                              (Tstruct _wormhmap noattr))
                                            _pmap
                                            (tptr (Tstruct _wormmbkt noattr))))
                                        (Ssequence
                                          (Sset _t'13
                                            (Efield
                                              (Ederef
                                                (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                                (Tstruct _wormhmap noattr))
                                              _msize tulong))
                                          (Scall None
                                            (Evar _pages_unmap (Tfunction
                                                                 (Tcons
                                                                   (tptr tvoid)
                                                                   (Tcons
                                                                    tulong
                                                                    Tnil))
                                                                 tvoid
                                                                 cc_default))
                                            ((Etempvar _t'12 (tptr (Tstruct _wormmbkt noattr))) ::
                                             (Etempvar _t'13 tulong) :: nil))))
                                      (Ssequence
                                        (Ssequence
                                          (Sset _t'11
                                            (Efield
                                              (Evar _hmap1 (Tstruct _wormhmap noattr))
                                              _pmap
                                              (tptr (Tstruct _wormmbkt noattr))))
                                          (Sassign
                                            (Efield
                                              (Ederef
                                                (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                                (Tstruct _wormhmap noattr))
                                              _pmap
                                              (tptr (Tstruct _wormmbkt noattr)))
                                            (Etempvar _t'11 (tptr (Tstruct _wormmbkt noattr)))))
                                        (Ssequence
                                          (Ssequence
                                            (Sset _t'10
                                              (Efield
                                                (Evar _hmap1 (Tstruct _wormhmap noattr))
                                                _wmap
                                                (tptr (Tstruct _wormslot noattr))))
                                            (Sassign
                                              (Efield
                                                (Ederef
                                                  (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                                  (Tstruct _wormhmap noattr))
                                                _wmap
                                                (tptr (Tstruct _wormslot noattr)))
                                              (Etempvar _t'10 (tptr (Tstruct _wormslot noattr)))))
                                          (Ssequence
                                            (Ssequence
                                              (Sset _t'9
                                                (Efield
                                                  (Evar _hmap1 (Tstruct _wormhmap noattr))
                                                  _msize tulong))
                                              (Sassign
                                                (Efield
                                                  (Ederef
                                                    (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                                    (Tstruct _wormhmap noattr))
                                                  _msize tulong)
                                                (Etempvar _t'9 tulong)))
                                            (Ssequence
                                              (Ssequence
                                                (Sset _t'8
                                                  (Efield
                                                    (Evar _hmap1 (Tstruct _wormhmap noattr))
                                                    _mask tuint))
                                                (Sassign
                                                  (Efield
                                                    (Ederef
                                                      (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                                      (Tstruct _wormhmap noattr))
                                                    _mask tuint)
                                                  (Etempvar _t'8 tuint)))
                                              (Scall None
                                                (Evar _wormhmap_squeeze 
                                                (Tfunction
                                                  (Tcons
                                                    (tptr (Tstruct _wormhmap noattr))
                                                    Tnil) tvoid cc_default))
                                                ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                                                 nil)))))))))))))))))))))))))
|}.

Definition f_wormhmap_cuckoo := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_mid0, tuint) :: (_e0, (tptr (Tstruct _wormmeta noattr))) ::
                (_s0, tushort) :: (_depth, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_ii, tuint) :: (_bkt, (tptr (Tstruct _wormmbkt noattr))) ::
               (_sv, (tptr tushort)) :: (_i, tuint) ::
               (_meta, (tptr (Tstruct _wormmeta noattr))) ::
               (_hash32, tuint) :: (_midx, tuint) :: (_midy, tuint) ::
               (_midt, tuint) :: (_depth1, tuint) :: (_t'6, tbool) ::
               (_t'5, tuint) :: (_t'4, tuint) :: (_t'3, tuint) ::
               (_t'2, tuint) :: (_t'1, tuint) ::
               (_t'15, (tptr (Tstruct _wormslot noattr))) ::
               (_t'14, (tptr (Tstruct _wormslot noattr))) ::
               (_t'13, (tptr (Tstruct _wormmbkt noattr))) ::
               (_t'12, (tptr (Tstruct _wormmbkt noattr))) ::
               (_t'11, (tptr (Tstruct _wormslot noattr))) ::
               (_t'10, tuint) :: (_t'9, tuint) :: (_t'8, tushort) ::
               (_t'7, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'15
        (Efield
          (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
            (Tstruct _wormhmap noattr)) _wmap
          (tptr (Tstruct _wormslot noattr))))
      (Scall (Some _t'1)
        (Evar _wormhmap_slot_count (Tfunction
                                     (Tcons (tptr (Tstruct _wormslot noattr))
                                       Tnil) tuint cc_default))
        ((Ebinop Oadd (Etempvar _t'15 (tptr (Tstruct _wormslot noattr)))
           (Etempvar _mid0 tuint) (tptr (Tstruct _wormslot noattr))) :: nil)))
    (Sset _ii (Etempvar _t'1 tuint)))
  (Ssequence
    (Sifthenelse (Ebinop Olt (Etempvar _ii tuint)
                   (Econst_int (Int.repr 8) tint) tint)
      (Ssequence
        (Ssequence
          (Sset _t'14
            (Efield
              (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                (Tstruct _wormhmap noattr)) _wmap
              (tptr (Tstruct _wormslot noattr))))
          (Sassign
            (Ederef
              (Ebinop Oadd
                (Efield
                  (Ederef
                    (Ebinop Oadd
                      (Etempvar _t'14 (tptr (Tstruct _wormslot noattr)))
                      (Etempvar _mid0 tuint)
                      (tptr (Tstruct _wormslot noattr)))
                    (Tstruct _wormslot noattr)) _t (tarray tushort 8))
                (Etempvar _ii tuint) (tptr tushort)) tushort)
            (Etempvar _s0 tushort)))
        (Ssequence
          (Ssequence
            (Sset _t'13
              (Efield
                (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                  (Tstruct _wormhmap noattr)) _pmap
                (tptr (Tstruct _wormmbkt noattr))))
            (Sassign
              (Ederef
                (Ebinop Oadd
                  (Efield
                    (Ederef
                      (Ebinop Oadd
                        (Etempvar _t'13 (tptr (Tstruct _wormmbkt noattr)))
                        (Etempvar _mid0 tuint)
                        (tptr (Tstruct _wormmbkt noattr)))
                      (Tstruct _wormmbkt noattr)) _e
                    (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                  (Etempvar _ii tuint)
                  (tptr (tptr (Tstruct _wormmeta noattr))))
                (tptr (Tstruct _wormmeta noattr)))
              (Etempvar _e0 (tptr (Tstruct _wormmeta noattr)))))
          (Sreturn (Some (Econst_int (Int.repr 1) tint)))))
      (Sifthenelse (Ebinop Oeq (Etempvar _depth tuint)
                     (Econst_int (Int.repr 0) tint) tint)
        (Sreturn (Some (Econst_int (Int.repr 0) tint)))
        Sskip))
    (Ssequence
      (Ssequence
        (Sset _t'12
          (Efield
            (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
              (Tstruct _wormhmap noattr)) _pmap
            (tptr (Tstruct _wormmbkt noattr))))
        (Sset _bkt
          (Ebinop Oadd (Etempvar _t'12 (tptr (Tstruct _wormmbkt noattr)))
            (Etempvar _mid0 tuint) (tptr (Tstruct _wormmbkt noattr)))))
      (Ssequence
        (Ssequence
          (Sset _t'11
            (Efield
              (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                (Tstruct _wormhmap noattr)) _wmap
              (tptr (Tstruct _wormslot noattr))))
          (Sset _sv
            (Ebinop Oadd
              (Efield
                (Ederef
                  (Ebinop Oadd
                    (Etempvar _t'11 (tptr (Tstruct _wormslot noattr)))
                    (Etempvar _mid0 tuint) (tptr (Tstruct _wormslot noattr)))
                  (Tstruct _wormslot noattr)) _t (tarray tushort 8))
              (Econst_int (Int.repr 0) tint) (tptr tushort))))
        (Ssequence
          (Ssequence
            (Sset _i (Econst_int (Int.repr 0) tint))
            (Sloop
              (Ssequence
                (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                               (Econst_int (Int.repr 8) tint) tint)
                  Sskip
                  Sbreak)
                (Ssequence
                  (Sset _meta
                    (Ederef
                      (Ebinop Oadd
                        (Efield
                          (Ederef
                            (Etempvar _bkt (tptr (Tstruct _wormmbkt noattr)))
                            (Tstruct _wormmbkt noattr)) _e
                          (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                        (Etempvar _i tuint)
                        (tptr (tptr (Tstruct _wormmeta noattr))))
                      (tptr (Tstruct _wormmeta noattr))))
                  (Ssequence
                    (Scall None
                      (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid
                                            cc_default))
                      ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                       nil))
                    (Ssequence
                      (Ssequence
                        (Scall (Some _t'2)
                          (Evar _wormmeta_hash32_load (Tfunction
                                                        (Tcons
                                                          (tptr (Tstruct _wormmeta noattr))
                                                          Tnil) tuint
                                                        cc_default))
                          ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                           nil))
                        (Sset _hash32 (Etempvar _t'2 tuint)))
                      (Ssequence
                        (Ssequence
                          (Sset _t'10
                            (Efield
                              (Ederef
                                (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                (Tstruct _wormhmap noattr)) _mask tuint))
                          (Sset _midx
                            (Ebinop Oand (Etempvar _hash32 tuint)
                              (Etempvar _t'10 tuint) tuint)))
                        (Ssequence
                          (Ssequence
                            (Scall (Some _t'3)
                              (Evar _wormhole_bswap (Tfunction
                                                      (Tcons tuint Tnil)
                                                      tuint cc_default))
                              ((Etempvar _hash32 tuint) :: nil))
                            (Ssequence
                              (Sset _t'9
                                (Efield
                                  (Ederef
                                    (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                    (Tstruct _wormhmap noattr)) _mask tuint))
                              (Sset _midy
                                (Ebinop Oand (Etempvar _t'3 tuint)
                                  (Etempvar _t'9 tuint) tuint))))
                          (Ssequence
                            (Ssequence
                              (Sifthenelse (Ebinop One (Etempvar _midx tuint)
                                             (Etempvar _mid0 tuint) tint)
                                (Sset _t'4
                                  (Ecast (Etempvar _midx tuint) tuint))
                                (Sset _t'4
                                  (Ecast (Etempvar _midy tuint) tuint)))
                              (Sset _midt (Etempvar _t'4 tuint)))
                            (Sifthenelse (Ebinop One (Etempvar _midt tuint)
                                           (Etempvar _mid0 tuint) tint)
                              (Ssequence
                                (Ssequence
                                  (Sifthenelse (Ebinop Oeq
                                                 (Etempvar _midt tuint)
                                                 (Etempvar _midx tuint) tint)
                                    (Sset _t'5
                                      (Ecast (Etempvar _depth tuint) tuint))
                                    (Sset _t'5
                                      (Ecast
                                        (Ebinop Osub (Etempvar _depth tuint)
                                          (Econst_int (Int.repr 1) tint)
                                          tuint) tuint)))
                                  (Sset _depth1 (Etempvar _t'5 tuint)))
                                (Ssequence
                                  (Ssequence
                                    (Sset _t'7
                                      (Ederef
                                        (Ebinop Oadd
                                          (Efield
                                            (Ederef
                                              (Etempvar _bkt (tptr (Tstruct _wormmbkt noattr)))
                                              (Tstruct _wormmbkt noattr)) _e
                                            (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                                          (Etempvar _i tuint)
                                          (tptr (tptr (Tstruct _wormmeta noattr))))
                                        (tptr (Tstruct _wormmeta noattr))))
                                    (Ssequence
                                      (Sset _t'8
                                        (Ederef
                                          (Ebinop Oadd
                                            (Etempvar _sv (tptr tushort))
                                            (Etempvar _i tuint)
                                            (tptr tushort)) tushort))
                                      (Scall (Some _t'6)
                                        (Evar _wormhmap_cuckoo (Tfunction
                                                                 (Tcons
                                                                   (tptr (Tstruct _wormhmap noattr))
                                                                   (Tcons
                                                                    tuint
                                                                    (Tcons
                                                                    (tptr (Tstruct _wormmeta noattr))
                                                                    (Tcons
                                                                    tushort
                                                                    (Tcons
                                                                    tuint
                                                                    Tnil)))))
                                                                 tbool
                                                                 cc_default))
                                        ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                                         (Etempvar _midt tuint) ::
                                         (Etempvar _t'7 (tptr (Tstruct _wormmeta noattr))) ::
                                         (Etempvar _t'8 tushort) ::
                                         (Etempvar _depth1 tuint) :: nil))))
                                  (Sifthenelse (Etempvar _t'6 tbool)
                                    (Ssequence
                                      (Sassign
                                        (Ederef
                                          (Ebinop Oadd
                                            (Efield
                                              (Ederef
                                                (Etempvar _bkt (tptr (Tstruct _wormmbkt noattr)))
                                                (Tstruct _wormmbkt noattr))
                                              _e
                                              (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                                            (Etempvar _i tuint)
                                            (tptr (tptr (Tstruct _wormmeta noattr))))
                                          (tptr (Tstruct _wormmeta noattr)))
                                        (Etempvar _e0 (tptr (Tstruct _wormmeta noattr))))
                                      (Ssequence
                                        (Sassign
                                          (Ederef
                                            (Ebinop Oadd
                                              (Etempvar _sv (tptr tushort))
                                              (Etempvar _i tuint)
                                              (tptr tushort)) tushort)
                                          (Etempvar _s0 tushort))
                                        (Sreturn (Some (Econst_int (Int.repr 1) tint)))))
                                    Sskip)))
                              Sskip))))))))
              (Sset _i
                (Ebinop Oadd (Etempvar _i tuint)
                  (Econst_int (Int.repr 1) tint) tuint))))
          (Sreturn (Some (Econst_int (Int.repr 0) tint))))))))
|}.

Definition f_wormhmap_set := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_meta, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_hash32, tuint) :: (_midx, tuint) :: (_midy, tuint) ::
               (_pkey, tushort) :: (_t'6, tbool) :: (_t'5, tbool) ::
               (_t'4, tbool) :: (_t'3, tushort) :: (_t'2, tuint) ::
               (_t'1, tuint) :: (_t'8, tuint) :: (_t'7, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormmeta_hash32_load (Tfunction
                                    (Tcons (tptr (Tstruct _wormmeta noattr))
                                      Tnil) tuint cc_default))
      ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
    (Sset _hash32 (Etempvar _t'1 tuint)))
  (Ssequence
    (Ssequence
      (Sset _t'8
        (Efield
          (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
            (Tstruct _wormhmap noattr)) _mask tuint))
      (Sset _midx
        (Ebinop Oand (Etempvar _hash32 tuint) (Etempvar _t'8 tuint) tuint)))
    (Ssequence
      (Scall None
        (Evar _wormhmap_prefetch_pmap (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormhmap noattr))
                                          (Tcons tuint Tnil)) tvoid
                                        cc_default))
        ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
         (Etempvar _midx tuint) :: nil))
      (Ssequence
        (Ssequence
          (Scall (Some _t'2)
            (Evar _wormhole_bswap (Tfunction (Tcons tuint Tnil) tuint
                                    cc_default))
            ((Etempvar _hash32 tuint) :: nil))
          (Ssequence
            (Sset _t'7
              (Efield
                (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                  (Tstruct _wormhmap noattr)) _mask tuint))
            (Sset _midy
              (Ebinop Oand (Etempvar _t'2 tuint) (Etempvar _t'7 tuint) tuint))))
        (Ssequence
          (Scall None
            (Evar _wormhmap_prefetch_pmap (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormhmap noattr))
                                              (Tcons tuint Tnil)) tvoid
                                            cc_default))
            ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
             (Etempvar _midy tuint) :: nil))
          (Ssequence
            (Ssequence
              (Scall (Some _t'3)
                (Evar _wormhole_pkey (Tfunction (Tcons tuint Tnil) tushort
                                       cc_default))
                ((Etempvar _hash32 tuint) :: nil))
              (Sset _pkey (Ecast (Etempvar _t'3 tushort) tushort)))
            (Ssequence
              (Ssequence
                (Scall (Some _t'4)
                  (Evar _wormhmap_cuckoo (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormhmap noattr))
                                             (Tcons tuint
                                               (Tcons
                                                 (tptr (Tstruct _wormmeta noattr))
                                                 (Tcons tushort
                                                   (Tcons tuint Tnil)))))
                                           tbool cc_default))
                  ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                   (Etempvar _midx tuint) ::
                   (Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                   (Etempvar _pkey tushort) ::
                   (Econst_int (Int.repr 1) tint) :: nil))
                (Sifthenelse (Etempvar _t'4 tbool) (Sreturn None) Sskip))
              (Ssequence
                (Ssequence
                  (Scall (Some _t'5)
                    (Evar _wormhmap_cuckoo (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _wormhmap noattr))
                                               (Tcons tuint
                                                 (Tcons
                                                   (tptr (Tstruct _wormmeta noattr))
                                                   (Tcons tushort
                                                     (Tcons tuint Tnil)))))
                                             tbool cc_default))
                    ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                     (Etempvar _midy tuint) ::
                     (Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                     (Etempvar _pkey tushort) ::
                     (Econst_int (Int.repr 1) tint) :: nil))
                  (Sifthenelse (Etempvar _t'5 tbool) (Sreturn None) Sskip))
                (Ssequence
                  (Ssequence
                    (Scall (Some _t'6)
                      (Evar _wormhmap_cuckoo (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _wormhmap noattr))
                                                 (Tcons tuint
                                                   (Tcons
                                                     (tptr (Tstruct _wormmeta noattr))
                                                     (Tcons tushort
                                                       (Tcons tuint Tnil)))))
                                               tbool cc_default))
                      ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                       (Etempvar _midx tuint) ::
                       (Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                       (Etempvar _pkey tushort) ::
                       (Econst_int (Int.repr 2) tint) :: nil))
                    (Sifthenelse (Etempvar _t'6 tbool) (Sreturn None) Sskip))
                  (Ssequence
                    (Scall None
                      (Evar _wormhmap_expand (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _wormhmap noattr))
                                                 Tnil) tvoid cc_default))
                      ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                       nil))
                    (Scall None
                      (Evar _wormhmap_set (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormhmap noattr))
                                              (Tcons
                                                (tptr (Tstruct _wormmeta noattr))
                                                Tnil)) tvoid cc_default))
                      ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                       (Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                       nil))))))))))))
|}.

Definition f_wormhmap_del_slot := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_mid, tuint) ::
                (_meta, (tptr (Tstruct _wormmeta noattr))) ::
                (_skey, (Tstruct __m128 noattr)) :: nil);
  fn_vars := ((_skey, (Tstruct __m128 noattr)) :: nil);
  fn_temps := ((_mask, tuint) :: (_i2, tuint) ::
               (_meta1, (tptr (Tstruct _wormmeta noattr))) :: (_i, tuint) ::
               (_j, tuint) :: (_t'3, tuint) :: (_t'2, tint) ::
               (_t'1, tuint) :: (_t'14, (tptr (Tstruct _wormslot noattr))) ::
               (_t'13, (tptr (Tstruct _wormmbkt noattr))) ::
               (_t'12, (tptr (Tstruct _wormslot noattr))) ::
               (_t'11, tushort) ::
               (_t'10, (tptr (Tstruct _wormslot noattr))) ::
               (_t'9, (tptr (Tstruct _wormslot noattr))) ::
               (_t'8, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'7, (tptr (Tstruct _wormmbkt noattr))) ::
               (_t'6, (tptr (Tstruct _wormmbkt noattr))) ::
               (_t'5, (tptr (Tstruct _wormslot noattr))) ::
               (_t'4, (tptr (Tstruct _wormmbkt noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sassign (Evar _skey (Tstruct __m128 noattr))
    (Etempvar _skey (Tstruct __m128 noattr)))
  (Ssequence
    (Ssequence
      (Ssequence
        (Sset _t'14
          (Efield
            (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
              (Tstruct _wormhmap noattr)) _wmap
            (tptr (Tstruct _wormslot noattr))))
        (Scall (Some _t'1)
          (Evar _wormhmap_match_mask (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormslot noattr))
                                         (Tcons (Tstruct __m128 noattr) Tnil))
                                       tuint cc_default))
          ((Ebinop Oadd (Etempvar _t'14 (tptr (Tstruct _wormslot noattr)))
             (Etempvar _mid tuint) (tptr (Tstruct _wormslot noattr))) ::
           (Evar _skey (Tstruct __m128 noattr)) :: nil)))
      (Sset _mask (Etempvar _t'1 tuint)))
    (Ssequence
      (Swhile
        (Etempvar _mask tuint)
        (Ssequence
          (Ssequence
            (Scall (Some _t'2)
              (Evar ___builtin_ctz (Tfunction (Tcons tuint Tnil) tint
                                     cc_default))
              ((Etempvar _mask tuint) :: nil))
            (Sset _i2 (Ecast (Etempvar _t'2 tint) tuint)))
          (Ssequence
            (Ssequence
              (Sset _t'13
                (Efield
                  (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                    (Tstruct _wormhmap noattr)) _pmap
                  (tptr (Tstruct _wormmbkt noattr))))
              (Sset _meta1
                (Ederef
                  (Ebinop Oadd
                    (Efield
                      (Ederef
                        (Ebinop Oadd
                          (Etempvar _t'13 (tptr (Tstruct _wormmbkt noattr)))
                          (Etempvar _mid tuint)
                          (tptr (Tstruct _wormmbkt noattr)))
                        (Tstruct _wormmbkt noattr)) _e
                      (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                    (Ebinop Oshr (Etempvar _i2 tuint)
                      (Econst_int (Int.repr 1) tint) tuint)
                    (tptr (tptr (Tstruct _wormmeta noattr))))
                  (tptr (Tstruct _wormmeta noattr)))))
            (Ssequence
              (Sifthenelse (Ebinop Oeq
                             (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
                             (Etempvar _meta1 (tptr (Tstruct _wormmeta noattr)))
                             tint)
                (Ssequence
                  (Sset _i
                    (Ebinop Oshr (Etempvar _i2 tuint)
                      (Econst_int (Int.repr 1) tint) tuint))
                  (Ssequence
                    (Ssequence
                      (Ssequence
                        (Sset _t'12
                          (Efield
                            (Ederef
                              (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                              (Tstruct _wormhmap noattr)) _wmap
                            (tptr (Tstruct _wormslot noattr))))
                        (Scall (Some _t'3)
                          (Evar _wormhmap_slot_count (Tfunction
                                                       (Tcons
                                                         (tptr (Tstruct _wormslot noattr))
                                                         Tnil) tuint
                                                       cc_default))
                          ((Ebinop Oadd
                             (Etempvar _t'12 (tptr (Tstruct _wormslot noattr)))
                             (Etempvar _mid tuint)
                             (tptr (Tstruct _wormslot noattr))) :: nil)))
                      (Sset _j
                        (Ebinop Osub (Etempvar _t'3 tuint)
                          (Econst_int (Int.repr 1) tint) tuint)))
                    (Ssequence
                      (Ssequence
                        (Sset _t'9
                          (Efield
                            (Ederef
                              (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                              (Tstruct _wormhmap noattr)) _wmap
                            (tptr (Tstruct _wormslot noattr))))
                        (Ssequence
                          (Sset _t'10
                            (Efield
                              (Ederef
                                (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                (Tstruct _wormhmap noattr)) _wmap
                              (tptr (Tstruct _wormslot noattr))))
                          (Ssequence
                            (Sset _t'11
                              (Ederef
                                (Ebinop Oadd
                                  (Efield
                                    (Ederef
                                      (Ebinop Oadd
                                        (Etempvar _t'10 (tptr (Tstruct _wormslot noattr)))
                                        (Etempvar _mid tuint)
                                        (tptr (Tstruct _wormslot noattr)))
                                      (Tstruct _wormslot noattr)) _t
                                    (tarray tushort 8)) (Etempvar _j tuint)
                                  (tptr tushort)) tushort))
                            (Sassign
                              (Ederef
                                (Ebinop Oadd
                                  (Efield
                                    (Ederef
                                      (Ebinop Oadd
                                        (Etempvar _t'9 (tptr (Tstruct _wormslot noattr)))
                                        (Etempvar _mid tuint)
                                        (tptr (Tstruct _wormslot noattr)))
                                      (Tstruct _wormslot noattr)) _t
                                    (tarray tushort 8)) (Etempvar _i tuint)
                                  (tptr tushort)) tushort)
                              (Etempvar _t'11 tushort)))))
                      (Ssequence
                        (Ssequence
                          (Sset _t'6
                            (Efield
                              (Ederef
                                (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                (Tstruct _wormhmap noattr)) _pmap
                              (tptr (Tstruct _wormmbkt noattr))))
                          (Ssequence
                            (Sset _t'7
                              (Efield
                                (Ederef
                                  (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                  (Tstruct _wormhmap noattr)) _pmap
                                (tptr (Tstruct _wormmbkt noattr))))
                            (Ssequence
                              (Sset _t'8
                                (Ederef
                                  (Ebinop Oadd
                                    (Efield
                                      (Ederef
                                        (Ebinop Oadd
                                          (Etempvar _t'7 (tptr (Tstruct _wormmbkt noattr)))
                                          (Etempvar _mid tuint)
                                          (tptr (Tstruct _wormmbkt noattr)))
                                        (Tstruct _wormmbkt noattr)) _e
                                      (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                                    (Etempvar _j tuint)
                                    (tptr (tptr (Tstruct _wormmeta noattr))))
                                  (tptr (Tstruct _wormmeta noattr))))
                              (Sassign
                                (Ederef
                                  (Ebinop Oadd
                                    (Efield
                                      (Ederef
                                        (Ebinop Oadd
                                          (Etempvar _t'6 (tptr (Tstruct _wormmbkt noattr)))
                                          (Etempvar _mid tuint)
                                          (tptr (Tstruct _wormmbkt noattr)))
                                        (Tstruct _wormmbkt noattr)) _e
                                      (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                                    (Etempvar _i tuint)
                                    (tptr (tptr (Tstruct _wormmeta noattr))))
                                  (tptr (Tstruct _wormmeta noattr)))
                                (Etempvar _t'8 (tptr (Tstruct _wormmeta noattr)))))))
                        (Ssequence
                          (Ssequence
                            (Sset _t'5
                              (Efield
                                (Ederef
                                  (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                  (Tstruct _wormhmap noattr)) _wmap
                                (tptr (Tstruct _wormslot noattr))))
                            (Sassign
                              (Ederef
                                (Ebinop Oadd
                                  (Efield
                                    (Ederef
                                      (Ebinop Oadd
                                        (Etempvar _t'5 (tptr (Tstruct _wormslot noattr)))
                                        (Etempvar _mid tuint)
                                        (tptr (Tstruct _wormslot noattr)))
                                      (Tstruct _wormslot noattr)) _t
                                    (tarray tushort 8)) (Etempvar _j tuint)
                                  (tptr tushort)) tushort)
                              (Econst_int (Int.repr 0) tint)))
                          (Ssequence
                            (Ssequence
                              (Sset _t'4
                                (Efield
                                  (Ederef
                                    (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                    (Tstruct _wormhmap noattr)) _pmap
                                  (tptr (Tstruct _wormmbkt noattr))))
                              (Sassign
                                (Ederef
                                  (Ebinop Oadd
                                    (Efield
                                      (Ederef
                                        (Ebinop Oadd
                                          (Etempvar _t'4 (tptr (Tstruct _wormmbkt noattr)))
                                          (Etempvar _mid tuint)
                                          (tptr (Tstruct _wormmbkt noattr)))
                                        (Tstruct _wormmbkt noattr)) _e
                                      (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                                    (Etempvar _j tuint)
                                    (tptr (tptr (Tstruct _wormmeta noattr))))
                                  (tptr (Tstruct _wormmeta noattr)))
                                (Ecast (Econst_int (Int.repr 0) tint)
                                  (tptr tvoid))))
                            (Sreturn (Some (Econst_int (Int.repr 1) tint)))))))))
                Sskip)
              (Sset _mask
                (Ebinop Osub (Etempvar _mask tuint)
                  (Ebinop Oshl (Econst_int (Int.repr 3) tuint)
                    (Etempvar _i2 tuint) tuint) tuint))))))
      (Sreturn (Some (Econst_int (Int.repr 0) tint))))))
|}.

Definition f_wormhmap_del := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_meta, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_vars := ((_skey, (Tstruct __m128 noattr)) ::
              (__res, (Tstruct __m128 noattr)) :: nil);
  fn_temps := ((_hash32, tuint) :: (_midx, tuint) :: (_midy, tuint) ::
               (_t'6, tbool) :: (_t'5, tint) :: (_t'4, tbool) ::
               (_t'3, tushort) :: (_t'2, tuint) :: (_t'1, tuint) ::
               (_t'8, tuint) :: (_t'7, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormmeta_hash32_load (Tfunction
                                    (Tcons (tptr (Tstruct _wormmeta noattr))
                                      Tnil) tuint cc_default))
      ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
    (Sset _hash32 (Etempvar _t'1 tuint)))
  (Ssequence
    (Ssequence
      (Sset _t'8
        (Efield
          (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
            (Tstruct _wormhmap noattr)) _mask tuint))
      (Sset _midx
        (Ebinop Oand (Etempvar _hash32 tuint) (Etempvar _t'8 tuint) tuint)))
    (Ssequence
      (Ssequence
        (Scall (Some _t'2)
          (Evar _wormhole_bswap (Tfunction (Tcons tuint Tnil) tuint
                                  cc_default))
          ((Etempvar _hash32 tuint) :: nil))
        (Ssequence
          (Sset _t'7
            (Efield
              (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                (Tstruct _wormhmap noattr)) _mask tuint))
          (Sset _midy
            (Ebinop Oand (Etempvar _t'2 tuint) (Etempvar _t'7 tuint) tuint))))
      (Ssequence
        (Ssequence
          (Ssequence
            (Scall (Some _t'3)
              (Evar _wormhole_pkey (Tfunction (Tcons tuint Tnil) tushort
                                     cc_default))
              ((Etempvar _hash32 tuint) :: nil))
            (Scall None
              (Evar _wormhmap_m128_pkey (Tfunction
                                          (Tcons
                                            (tptr (Tstruct __m128 noattr))
                                            (Tcons tushort Tnil)) tvoid
                                          {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
              ((Eaddrof (Evar __res (Tstruct __m128 noattr))
                 (tptr (Tstruct __m128 noattr))) ::
               (Etempvar _t'3 tushort) :: nil)))
          (Sassign (Evar _skey (Tstruct __m128 noattr))
            (Evar __res (Tstruct __m128 noattr))))
        (Ssequence
          (Ssequence
            (Scall (Some _t'4)
              (Evar _wormhmap_del_slot (Tfunction
                                         (Tcons
                                           (tptr (Tstruct _wormhmap noattr))
                                           (Tcons tuint
                                             (Tcons
                                               (tptr (Tstruct _wormmeta noattr))
                                               (Tcons (Tstruct __m128 noattr)
                                                 Tnil)))) tbool cc_default))
              ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
               (Etempvar _midx tuint) ::
               (Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
               (Evar _skey (Tstruct __m128 noattr)) :: nil))
            (Sifthenelse (Etempvar _t'4 tbool)
              (Sset _t'5 (Econst_int (Int.repr 1) tint))
              (Ssequence
                (Scall (Some _t'6)
                  (Evar _wormhmap_del_slot (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _wormhmap noattr))
                                               (Tcons tuint
                                                 (Tcons
                                                   (tptr (Tstruct _wormmeta noattr))
                                                   (Tcons
                                                     (Tstruct __m128 noattr)
                                                     Tnil)))) tbool
                                             cc_default))
                  ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                   (Etempvar _midy tuint) ::
                   (Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                   (Evar _skey (Tstruct __m128 noattr)) :: nil))
                (Sset _t'5 (Ecast (Etempvar _t'6 tbool) tbool)))))
          (Sreturn (Some (Etempvar _t'5 tint))))))))
|}.

Definition f_wormhmap_replace_slot := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_mid, tuint) :: (_old, (tptr (Tstruct _wormmeta noattr))) ::
                (_skey, (Tstruct __m128 noattr)) ::
                (_new, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_vars := ((_skey, (Tstruct __m128 noattr)) :: nil);
  fn_temps := ((_mask, tuint) :: (_i2, tuint) ::
               (_pslot, (tptr (tptr (Tstruct _wormmeta noattr)))) ::
               (_t'2, tint) :: (_t'1, tuint) ::
               (_t'5, (tptr (Tstruct _wormslot noattr))) ::
               (_t'4, (tptr (Tstruct _wormmbkt noattr))) ::
               (_t'3, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sassign (Evar _skey (Tstruct __m128 noattr))
    (Etempvar _skey (Tstruct __m128 noattr)))
  (Ssequence
    (Ssequence
      (Ssequence
        (Sset _t'5
          (Efield
            (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
              (Tstruct _wormhmap noattr)) _wmap
            (tptr (Tstruct _wormslot noattr))))
        (Scall (Some _t'1)
          (Evar _wormhmap_match_mask (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormslot noattr))
                                         (Tcons (Tstruct __m128 noattr) Tnil))
                                       tuint cc_default))
          ((Ebinop Oadd (Etempvar _t'5 (tptr (Tstruct _wormslot noattr)))
             (Etempvar _mid tuint) (tptr (Tstruct _wormslot noattr))) ::
           (Evar _skey (Tstruct __m128 noattr)) :: nil)))
      (Sset _mask (Etempvar _t'1 tuint)))
    (Ssequence
      (Swhile
        (Etempvar _mask tuint)
        (Ssequence
          (Ssequence
            (Scall (Some _t'2)
              (Evar ___builtin_ctz (Tfunction (Tcons tuint Tnil) tint
                                     cc_default))
              ((Etempvar _mask tuint) :: nil))
            (Sset _i2 (Ecast (Etempvar _t'2 tint) tuint)))
          (Ssequence
            (Ssequence
              (Sset _t'4
                (Efield
                  (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                    (Tstruct _wormhmap noattr)) _pmap
                  (tptr (Tstruct _wormmbkt noattr))))
              (Sset _pslot
                (Ebinop Oadd
                  (Efield
                    (Ederef
                      (Ebinop Oadd
                        (Etempvar _t'4 (tptr (Tstruct _wormmbkt noattr)))
                        (Etempvar _mid tuint)
                        (tptr (Tstruct _wormmbkt noattr)))
                      (Tstruct _wormmbkt noattr)) _e
                    (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                  (Ebinop Oshr (Etempvar _i2 tuint)
                    (Econst_int (Int.repr 1) tint) tuint)
                  (tptr (tptr (Tstruct _wormmeta noattr))))))
            (Ssequence
              (Ssequence
                (Sset _t'3
                  (Ederef
                    (Etempvar _pslot (tptr (tptr (Tstruct _wormmeta noattr))))
                    (tptr (Tstruct _wormmeta noattr))))
                (Sifthenelse (Ebinop Oeq
                               (Etempvar _old (tptr (Tstruct _wormmeta noattr)))
                               (Etempvar _t'3 (tptr (Tstruct _wormmeta noattr)))
                               tint)
                  (Ssequence
                    (Sassign
                      (Ederef
                        (Etempvar _pslot (tptr (tptr (Tstruct _wormmeta noattr))))
                        (tptr (Tstruct _wormmeta noattr)))
                      (Etempvar _new (tptr (Tstruct _wormmeta noattr))))
                    (Sreturn (Some (Econst_int (Int.repr 1) tint))))
                  Sskip))
              (Sset _mask
                (Ebinop Osub (Etempvar _mask tuint)
                  (Ebinop Oshl (Econst_int (Int.repr 3) tuint)
                    (Etempvar _i2 tuint) tuint) tuint))))))
      (Sreturn (Some (Econst_int (Int.repr 0) tint))))))
|}.

Definition f_wormhmap_replace := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_old, (tptr (Tstruct _wormmeta noattr))) ::
                (_new, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_vars := ((_skey, (Tstruct __m128 noattr)) ::
              (__res, (Tstruct __m128 noattr)) :: nil);
  fn_temps := ((_hash32, tuint) :: (_midx, tuint) :: (_midy, tuint) ::
               (_t'6, tbool) :: (_t'5, tint) :: (_t'4, tbool) ::
               (_t'3, tushort) :: (_t'2, tuint) :: (_t'1, tuint) ::
               (_t'8, tuint) :: (_t'7, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormmeta_hash32_load (Tfunction
                                    (Tcons (tptr (Tstruct _wormmeta noattr))
                                      Tnil) tuint cc_default))
      ((Etempvar _old (tptr (Tstruct _wormmeta noattr))) :: nil))
    (Sset _hash32 (Etempvar _t'1 tuint)))
  (Ssequence
    (Ssequence
      (Sset _t'8
        (Efield
          (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
            (Tstruct _wormhmap noattr)) _mask tuint))
      (Sset _midx
        (Ebinop Oand (Etempvar _hash32 tuint) (Etempvar _t'8 tuint) tuint)))
    (Ssequence
      (Ssequence
        (Scall (Some _t'2)
          (Evar _wormhole_bswap (Tfunction (Tcons tuint Tnil) tuint
                                  cc_default))
          ((Etempvar _hash32 tuint) :: nil))
        (Ssequence
          (Sset _t'7
            (Efield
              (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                (Tstruct _wormhmap noattr)) _mask tuint))
          (Sset _midy
            (Ebinop Oand (Etempvar _t'2 tuint) (Etempvar _t'7 tuint) tuint))))
      (Ssequence
        (Ssequence
          (Ssequence
            (Scall (Some _t'3)
              (Evar _wormhole_pkey (Tfunction (Tcons tuint Tnil) tushort
                                     cc_default))
              ((Etempvar _hash32 tuint) :: nil))
            (Scall None
              (Evar _wormhmap_m128_pkey (Tfunction
                                          (Tcons
                                            (tptr (Tstruct __m128 noattr))
                                            (Tcons tushort Tnil)) tvoid
                                          {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
              ((Eaddrof (Evar __res (Tstruct __m128 noattr))
                 (tptr (Tstruct __m128 noattr))) ::
               (Etempvar _t'3 tushort) :: nil)))
          (Sassign (Evar _skey (Tstruct __m128 noattr))
            (Evar __res (Tstruct __m128 noattr))))
        (Ssequence
          (Ssequence
            (Scall (Some _t'4)
              (Evar _wormhmap_replace_slot (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _wormhmap noattr))
                                               (Tcons tuint
                                                 (Tcons
                                                   (tptr (Tstruct _wormmeta noattr))
                                                   (Tcons
                                                     (Tstruct __m128 noattr)
                                                     (Tcons
                                                       (tptr (Tstruct _wormmeta noattr))
                                                       Tnil))))) tbool
                                             cc_default))
              ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
               (Etempvar _midx tuint) ::
               (Etempvar _old (tptr (Tstruct _wormmeta noattr))) ::
               (Evar _skey (Tstruct __m128 noattr)) ::
               (Etempvar _new (tptr (Tstruct _wormmeta noattr))) :: nil))
            (Sifthenelse (Etempvar _t'4 tbool)
              (Sset _t'5 (Econst_int (Int.repr 1) tint))
              (Ssequence
                (Scall (Some _t'6)
                  (Evar _wormhmap_replace_slot (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _wormhmap noattr))
                                                   (Tcons tuint
                                                     (Tcons
                                                       (tptr (Tstruct _wormmeta noattr))
                                                       (Tcons
                                                         (Tstruct __m128 noattr)
                                                         (Tcons
                                                           (tptr (Tstruct _wormmeta noattr))
                                                           Tnil))))) tbool
                                                 cc_default))
                  ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                   (Etempvar _midy tuint) ::
                   (Etempvar _old (tptr (Tstruct _wormmeta noattr))) ::
                   (Evar _skey (Tstruct __m128 noattr)) ::
                   (Etempvar _new (tptr (Tstruct _wormmeta noattr))) :: nil))
                (Sset _t'5 (Ecast (Etempvar _t'6 tbool) tbool)))))
          (Sreturn (Some (Etempvar _t'5 tint))))))))
|}.

Definition f_wormhole_create_leaf0 := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_sr, tbool) :: (_anchor, (tptr (Tstruct _kv noattr))) ::
               (_leaf0, (tptr (Tstruct _wormleaf noattr))) ::
               (_mkey, (tptr (Tstruct _kv noattr))) :: (_i, tuint) ::
               (_m0, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'6, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'5, (tptr (Tstruct _kv noattr))) ::
               (_t'4, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'3, (tptr (Tstruct _kv noattr))) ::
               (_t'2, (tptr (Tstruct _kv noattr))) :: (_t'1, tbool) ::
               (_t'8, (tptr (Tstruct _slab noattr))) ::
               (_t'7, (tptr (Tstruct _slab noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhole_slab_reserve (Tfunction
                                     (Tcons (tptr (Tstruct _wormhole noattr))
                                       (Tcons tuint Tnil)) tbool cc_default))
      ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
       (Econst_int (Int.repr 1) tint) :: nil))
    (Sset _sr (Ecast (Etempvar _t'1 tbool) tbool)))
  (Ssequence
    (Sifthenelse (Eunop Onotbool (Etempvar _sr tbool) tint)
      (Sreturn (Some (Econst_int (Int.repr 0) tint)))
      Sskip)
    (Ssequence
      (Ssequence
        (Scall (Some _t'2)
          (Evar _wormhole_alloc_akey (Tfunction (Tcons tulong Tnil)
                                       (tptr (Tstruct _kv noattr))
                                       cc_default))
          ((Econst_int (Int.repr 0) tint) :: nil))
        (Sset _anchor (Etempvar _t'2 (tptr (Tstruct _kv noattr)))))
      (Ssequence
        (Sifthenelse (Ebinop Oeq
                       (Etempvar _anchor (tptr (Tstruct _kv noattr)))
                       (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))
                       tint)
          (Sreturn (Some (Econst_int (Int.repr 0) tint)))
          Sskip)
        (Ssequence
          (Ssequence
            (Scall (Some _t'3)
              (Evar _kv_null (Tfunction Tnil (tptr (Tstruct _kv noattr))
                               cc_default)) nil)
            (Scall None
              (Evar _kv_dup2 (Tfunction
                               (Tcons (tptr (Tstruct _kv noattr))
                                 (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                               (tptr (Tstruct _kv noattr)) cc_default))
              ((Etempvar _t'3 (tptr (Tstruct _kv noattr))) ::
               (Etempvar _anchor (tptr (Tstruct _kv noattr))) :: nil)))
          (Ssequence
            (Ssequence
              (Scall (Some _t'4)
                (Evar _wormleaf_alloc (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormhole noattr))
                                          (Tcons
                                            (tptr (Tstruct _wormleaf noattr))
                                            (Tcons
                                              (tptr (Tstruct _wormleaf noattr))
                                              (Tcons
                                                (tptr (Tstruct _kv noattr))
                                                Tnil))))
                                        (tptr (Tstruct _wormleaf noattr))
                                        cc_default))
                ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                 (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) ::
                 (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) ::
                 (Etempvar _anchor (tptr (Tstruct _kv noattr))) :: nil))
              (Sset _leaf0 (Etempvar _t'4 (tptr (Tstruct _wormleaf noattr)))))
            (Ssequence
              (Sifthenelse (Ebinop Oeq
                             (Etempvar _leaf0 (tptr (Tstruct _wormleaf noattr)))
                             (Ecast (Econst_int (Int.repr 0) tint)
                               (tptr tvoid)) tint)
                (Ssequence
                  (Scall None
                    (Evar _wormhole_free_akey (Tfunction
                                                (Tcons
                                                  (tptr (Tstruct _kv noattr))
                                                  Tnil) tvoid cc_default))
                    ((Etempvar _anchor (tptr (Tstruct _kv noattr))) :: nil))
                  (Sreturn (Some (Econst_int (Int.repr 0) tint))))
                Sskip)
              (Ssequence
                (Ssequence
                  (Scall (Some _t'5)
                    (Evar _wormhole_alloc_mkey (Tfunction (Tcons tulong Tnil)
                                                 (tptr (Tstruct _kv noattr))
                                                 cc_default))
                    ((Econst_int (Int.repr 0) tint) :: nil))
                  (Sset _mkey (Etempvar _t'5 (tptr (Tstruct _kv noattr)))))
                (Ssequence
                  (Sifthenelse (Ebinop Oeq
                                 (Etempvar _mkey (tptr (Tstruct _kv noattr)))
                                 (Ecast (Econst_int (Int.repr 0) tint)
                                   (tptr tvoid)) tint)
                    (Ssequence
                      (Ssequence
                        (Sset _t'8
                          (Efield
                            (Ederef
                              (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                              (Tstruct _wormhole noattr)) _slab_leaf
                            (tptr (Tstruct _slab noattr))))
                        (Scall None
                          (Evar _wormleaf_free (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _slab noattr))
                                                   (Tcons
                                                     (tptr (Tstruct _wormleaf noattr))
                                                     Tnil)) tvoid cc_default))
                          ((Etempvar _t'8 (tptr (Tstruct _slab noattr))) ::
                           (Etempvar _leaf0 (tptr (Tstruct _wormleaf noattr))) ::
                           nil)))
                      (Sreturn (Some (Econst_int (Int.repr 0) tint))))
                    Sskip)
                  (Ssequence
                    (Scall None
                      (Evar _wormhole_prefix (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _kv noattr))
                                                 (Tcons tuint Tnil)) tvoid
                                               cc_default))
                      ((Etempvar _mkey (tptr (Tstruct _kv noattr))) ::
                       (Econst_int (Int.repr 0) tint) :: nil))
                    (Ssequence
                      (Sassign
                        (Efield
                          (Efield
                            (Efield
                              (Efield
                                (Ederef
                                  (Etempvar _mkey (tptr (Tstruct _kv noattr)))
                                  (Tstruct _kv noattr))
                                18727075383868559167%positive
                                (Tunion __6646 noattr))
                              18727075383868559167%positive
                              (Tstruct __6647 noattr))
                            18727075383868559167%positive
                            (Tunion __6648 noattr)) _refcnt tuint)
                        (Econst_int (Int.repr 0) tint))
                      (Ssequence
                        (Ssequence
                          (Sset _i (Econst_int (Int.repr 0) tint))
                          (Sloop
                            (Ssequence
                              (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                                             (Econst_int (Int.repr 2) tint)
                                             tint)
                                Sskip
                                Sbreak)
                              (Ssequence
                                (Sset _t'7
                                  (Efield
                                    (Ederef
                                      (Ebinop Oadd
                                        (Efield
                                          (Ederef
                                            (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                            (Tstruct _wormhole noattr))
                                          _hmap2
                                          (tarray (Tstruct _wormhmap noattr) 2))
                                        (Etempvar _i tuint)
                                        (tptr (Tstruct _wormhmap noattr)))
                                      (Tstruct _wormhmap noattr)) _slab1
                                    (tptr (Tstruct _slab noattr))))
                                (Sifthenelse (Etempvar _t'7 (tptr (Tstruct _slab noattr)))
                                  (Ssequence
                                    (Ssequence
                                      (Scall (Some _t'6)
                                        (Evar _wormmeta_alloc (Tfunction
                                                                (Tcons
                                                                  (tptr (Tstruct _wormhmap noattr))
                                                                  (Tcons
                                                                    (tptr (Tstruct _wormleaf noattr))
                                                                    (Tcons
                                                                    (tptr (Tstruct _kv noattr))
                                                                    (Tcons
                                                                    tuint
                                                                    (Tcons
                                                                    tuint
                                                                    Tnil)))))
                                                                (tptr (Tstruct _wormmeta noattr))
                                                                cc_default))
                                        ((Ebinop Oadd
                                           (Efield
                                             (Ederef
                                               (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                               (Tstruct _wormhole noattr))
                                             _hmap2
                                             (tarray (Tstruct _wormhmap noattr) 2))
                                           (Etempvar _i tuint)
                                           (tptr (Tstruct _wormhmap noattr))) ::
                                         (Etempvar _leaf0 (tptr (Tstruct _wormleaf noattr))) ::
                                         (Etempvar _mkey (tptr (Tstruct _kv noattr))) ::
                                         (Econst_int (Int.repr 0) tint) ::
                                         (Econst_int (Int.repr 256) tuint) ::
                                         nil))
                                      (Sset _m0
                                        (Etempvar _t'6 (tptr (Tstruct _wormmeta noattr)))))
                                    (Ssequence
                                      (Scall None
                                        (Evar _debug_assert (Tfunction
                                                              (Tcons tbool
                                                                Tnil) tvoid
                                                              cc_default))
                                        ((Etempvar _m0 (tptr (Tstruct _wormmeta noattr))) ::
                                         nil))
                                      (Scall None
                                        (Evar _wormhmap_set (Tfunction
                                                              (Tcons
                                                                (tptr (Tstruct _wormhmap noattr))
                                                                (Tcons
                                                                  (tptr (Tstruct _wormmeta noattr))
                                                                  Tnil))
                                                              tvoid
                                                              cc_default))
                                        ((Ebinop Oadd
                                           (Efield
                                             (Ederef
                                               (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                               (Tstruct _wormhole noattr))
                                             _hmap2
                                             (tarray (Tstruct _wormhmap noattr) 2))
                                           (Etempvar _i tuint)
                                           (tptr (Tstruct _wormhmap noattr))) ::
                                         (Etempvar _m0 (tptr (Tstruct _wormmeta noattr))) ::
                                         nil))))
                                  Sskip)))
                            (Sset _i
                              (Ebinop Oadd (Etempvar _i tuint)
                                (Econst_int (Int.repr 1) tint) tuint))))
                        (Ssequence
                          (Sassign
                            (Efield
                              (Ederef
                                (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                (Tstruct _wormhole noattr)) _leaf0
                              (tptr (Tstruct _wormleaf noattr)))
                            (Etempvar _leaf0 (tptr (Tstruct _wormleaf noattr))))
                          (Sreturn (Some (Econst_int (Int.repr 1) tint))))))))))))))))
|}.

Definition f_wormhole_create_internal := {|
  fn_return := (tptr (Tstruct _wormhole noattr));
  fn_callconv := cc_default;
  fn_params := ((_mm, (tptr (Tstruct _kvmap_mm noattr))) :: (_nh, tuint) ::
                nil);
  fn_vars := nil;
  fn_temps := ((_map, (tptr (Tstruct _wormhole noattr))) :: (_i, tuint) ::
               (_hmap, (tptr (Tstruct _wormhmap noattr))) ::
               (_i__1, tuint) ::
               (_hmap__1, (tptr (Tstruct _wormhmap noattr))) ::
               (_t'9, tbool) :: (_t'8, (tptr (Tstruct _qsbr noattr))) ::
               (_t'7, (tptr (Tstruct _slab noattr))) ::
               (_t'6, (tptr (Tstruct _slab noattr))) ::
               (_t'5, (tptr (Tstruct _slab noattr))) :: (_t'4, tbool) ::
               (_t'3, (tptr tvoid)) :: (_t'2, (Tstruct _kvmap_mm noattr)) ::
               (_t'1, (tptr tvoid)) ::
               (_t'25, (tptr (Tstruct _kv noattr))) ::
               (_t'24, (tptr (Tstruct _kv noattr))) ::
               (_t'23, (tptr (Tstruct _slab noattr))) ::
               (_t'22, (tptr (Tstruct _slab noattr))) ::
               (_t'21, (tptr (Tstruct _slab noattr))) ::
               (_t'20, (tptr (Tstruct _qsbr noattr))) ::
               (_t'19, (tptr (Tstruct _qsbr noattr))) ::
               (_t'18, (tptr (Tstruct _qsbr noattr))) ::
               (_t'17, (tptr (Tstruct _slab noattr))) ::
               (_t'16, (tptr (Tstruct _slab noattr))) ::
               (_t'15, (tptr (Tstruct _slab noattr))) ::
               (_t'14, (tptr (Tstruct _slab noattr))) ::
               (_t'13, (tptr (Tstruct _slab noattr))) ::
               (_t'12, (tptr (Tstruct _slab noattr))) ::
               (_t'11, (tptr (Tstruct _kv noattr))) ::
               (_t'10, (tptr (Tstruct _kv noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _yalloc (Tfunction (Tcons tulong Tnil) (tptr tvoid) cc_default))
      ((Esizeof (Tstruct _wormhole noattr) tulong) :: nil))
    (Sset _map (Etempvar _t'1 (tptr tvoid))))
  (Ssequence
    (Sifthenelse (Ebinop Oeq
                   (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                   (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) tint)
      (Sreturn (Some (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))))
      Sskip)
    (Ssequence
      (Scall None
        (Evar _memset (Tfunction
                        (Tcons (tptr tvoid) (Tcons tint (Tcons tulong Tnil)))
                        (tptr tvoid) cc_default))
        ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
         (Econst_int (Int.repr 0) tint) ::
         (Esizeof (Tstruct _wormhole noattr) tulong) :: nil))
      (Ssequence
        (Ssequence
          (Sifthenelse (Etempvar _mm (tptr (Tstruct _kvmap_mm noattr)))
            (Sset _t'2
              (Ecast
                (Ederef (Etempvar _mm (tptr (Tstruct _kvmap_mm noattr)))
                  (Tstruct _kvmap_mm noattr)) (Tstruct _kvmap_mm noattr)))
            (Sset _t'2
              (Ecast (Evar _kvmap_mm_dup (Tstruct _kvmap_mm noattr))
                (Tstruct _kvmap_mm noattr))))
          (Sassign
            (Efield
              (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                (Tstruct _wormhole noattr)) _mm (Tstruct _kvmap_mm noattr))
            (Etempvar _t'2 (Tstruct _kvmap_mm noattr))))
        (Ssequence
          (Ssequence
            (Scall (Some _t'3)
              (Evar _yalloc (Tfunction (Tcons tulong Tnil) (tptr tvoid)
                              cc_default))
              ((Ebinop Oshl (Econst_long (Int64.repr 1) tulong)
                 (Econst_int (Int.repr 16) tint) tulong) :: nil))
            (Sassign
              (Efield
                (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                  (Tstruct _wormhole noattr)) _pbuf
                (tptr (Tstruct _kv noattr))) (Etempvar _t'3 (tptr tvoid))))
          (Ssequence
            (Ssequence
              (Sset _t'25
                (Efield
                  (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                    (Tstruct _wormhole noattr)) _pbuf
                  (tptr (Tstruct _kv noattr))))
              (Sifthenelse (Ebinop Oeq
                             (Etempvar _t'25 (tptr (Tstruct _kv noattr)))
                             (Ecast (Econst_int (Int.repr 0) tint)
                               (tptr tvoid)) tint)
                (Sgoto _fail)
                Sskip))
            (Ssequence
              (Ssequence
                (Sset _i (Econst_int (Int.repr 0) tint))
                (Sloop
                  (Ssequence
                    (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                                   (Etempvar _nh tuint) tint)
                      Sskip
                      Sbreak)
                    (Ssequence
                      (Sset _hmap
                        (Ebinop Oadd
                          (Efield
                            (Ederef
                              (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                              (Tstruct _wormhole noattr)) _hmap2
                            (tarray (Tstruct _wormhmap noattr) 2))
                          (Etempvar _i tuint)
                          (tptr (Tstruct _wormhmap noattr))))
                      (Ssequence
                        (Ssequence
                          (Ssequence
                            (Sset _t'24
                              (Efield
                                (Ederef
                                  (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                  (Tstruct _wormhole noattr)) _pbuf
                                (tptr (Tstruct _kv noattr))))
                            (Scall (Some _t'4)
                              (Evar _wormhmap_init (Tfunction
                                                     (Tcons
                                                       (tptr (Tstruct _wormhmap noattr))
                                                       (Tcons
                                                         (tptr (Tstruct _kv noattr))
                                                         Tnil)) tbool
                                                     cc_default))
                              ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                               (Etempvar _t'24 (tptr (Tstruct _kv noattr))) ::
                               nil)))
                          (Sifthenelse (Eunop Onotbool (Etempvar _t'4 tbool)
                                         tint)
                            (Sgoto _fail)
                            Sskip))
                        (Ssequence
                          (Ssequence
                            (Scall (Some _t'5)
                              (Evar _slab_create (Tfunction
                                                   (Tcons tulong
                                                     (Tcons tulong Tnil))
                                                   (tptr (Tstruct _slab noattr))
                                                   cc_default))
                              ((Esizeof (Tstruct _wormmeta noattr) tulong) ::
                               (Ebinop Oshl
                                 (Econst_long (Int64.repr 1) tulong)
                                 (Econst_int (Int.repr 21) tint) tulong) ::
                               nil))
                            (Sassign
                              (Efield
                                (Ederef
                                  (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                  (Tstruct _wormhmap noattr)) _slab1
                                (tptr (Tstruct _slab noattr)))
                              (Etempvar _t'5 (tptr (Tstruct _slab noattr)))))
                          (Ssequence
                            (Ssequence
                              (Sset _t'23
                                (Efield
                                  (Ederef
                                    (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                    (Tstruct _wormhmap noattr)) _slab1
                                  (tptr (Tstruct _slab noattr))))
                              (Sifthenelse (Ebinop Oeq
                                             (Etempvar _t'23 (tptr (Tstruct _slab noattr)))
                                             (Ecast
                                               (Econst_int (Int.repr 0) tint)
                                               (tptr tvoid)) tint)
                                (Sgoto _fail)
                                Sskip))
                            (Ssequence
                              (Ssequence
                                (Scall (Some _t'6)
                                  (Evar _slab_create (Tfunction
                                                       (Tcons tulong
                                                         (Tcons tulong Tnil))
                                                       (tptr (Tstruct _slab noattr))
                                                       cc_default))
                                  ((Ebinop Oadd
                                     (Esizeof (Tstruct _wormmeta noattr) tulong)
                                     (Ebinop Omul (Esizeof tulong tulong)
                                       (Ebinop Oshr
                                         (Econst_int (Int.repr 256) tuint)
                                         (Econst_int (Int.repr 6) tint)
                                         tuint) tulong) tulong) ::
                                   (Ebinop Oshl
                                     (Econst_long (Int64.repr 1) tulong)
                                     (Econst_int (Int.repr 21) tint) tulong) ::
                                   nil))
                                (Sassign
                                  (Efield
                                    (Ederef
                                      (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                      (Tstruct _wormhmap noattr)) _slab2
                                    (tptr (Tstruct _slab noattr)))
                                  (Etempvar _t'6 (tptr (Tstruct _slab noattr)))))
                              (Ssequence
                                (Sset _t'22
                                  (Efield
                                    (Ederef
                                      (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                      (Tstruct _wormhmap noattr)) _slab2
                                    (tptr (Tstruct _slab noattr))))
                                (Sifthenelse (Ebinop Oeq
                                               (Etempvar _t'22 (tptr (Tstruct _slab noattr)))
                                               (Ecast
                                                 (Econst_int (Int.repr 0) tint)
                                                 (tptr tvoid)) tint)
                                  (Sgoto _fail)
                                  Sskip))))))))
                  (Sset _i
                    (Ebinop Oadd (Etempvar _i tuint)
                      (Econst_int (Int.repr 1) tint) tuint))))
              (Ssequence
                (Ssequence
                  (Scall (Some _t'7)
                    (Evar _slab_create (Tfunction
                                         (Tcons tulong (Tcons tulong Tnil))
                                         (tptr (Tstruct _slab noattr))
                                         cc_default))
                    ((Esizeof (Tstruct _wormleaf noattr) tulong) ::
                     (Ebinop Oshl (Econst_long (Int64.repr 1) tulong)
                       (Econst_int (Int.repr 21) tint) tulong) :: nil))
                  (Sassign
                    (Efield
                      (Ederef
                        (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                        (Tstruct _wormhole noattr)) _slab_leaf
                      (tptr (Tstruct _slab noattr)))
                    (Etempvar _t'7 (tptr (Tstruct _slab noattr)))))
                (Ssequence
                  (Ssequence
                    (Sset _t'21
                      (Efield
                        (Ederef
                          (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                          (Tstruct _wormhole noattr)) _slab_leaf
                        (tptr (Tstruct _slab noattr))))
                    (Sifthenelse (Ebinop Oeq
                                   (Etempvar _t'21 (tptr (Tstruct _slab noattr)))
                                   (Ecast (Econst_int (Int.repr 0) tint)
                                     (tptr tvoid)) tint)
                      (Sgoto _fail)
                      Sskip))
                  (Ssequence
                    (Ssequence
                      (Scall (Some _t'8)
                        (Evar _qsbr_create (Tfunction Tnil
                                             (tptr (Tstruct _qsbr noattr))
                                             cc_default)) nil)
                      (Sassign
                        (Efield
                          (Ederef
                            (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                            (Tstruct _wormhole noattr)) _qsbr
                          (tptr (Tstruct _qsbr noattr)))
                        (Etempvar _t'8 (tptr (Tstruct _qsbr noattr)))))
                    (Ssequence
                      (Ssequence
                        (Sset _t'20
                          (Efield
                            (Ederef
                              (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                              (Tstruct _wormhole noattr)) _qsbr
                            (tptr (Tstruct _qsbr noattr))))
                        (Sifthenelse (Ebinop Oeq
                                       (Etempvar _t'20 (tptr (Tstruct _qsbr noattr)))
                                       (Ecast (Econst_int (Int.repr 0) tint)
                                         (tptr tvoid)) tint)
                          (Sgoto _fail)
                          Sskip))
                      (Ssequence
                        (Ssequence
                          (Scall (Some _t'9)
                            (Evar _wormhole_create_leaf0 (Tfunction
                                                           (Tcons
                                                             (tptr (Tstruct _wormhole noattr))
                                                             Tnil) tbool
                                                           cc_default))
                            ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                             nil))
                          (Sifthenelse (Eunop Onotbool (Etempvar _t'9 tbool)
                                         tint)
                            (Sgoto _fail)
                            Sskip))
                        (Ssequence
                          (Scall None
                            (Evar _rwlock_init (Tfunction
                                                 (Tcons
                                                   (tptr (Tunion __6333 noattr))
                                                   Tnil) tvoid cc_default))
                            ((Eaddrof
                               (Efield
                                 (Ederef
                                   (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                   (Tstruct _wormhole noattr)) _metalock
                                 (Tunion __6333 noattr))
                               (tptr (Tunion __6333 noattr))) :: nil))
                          (Ssequence
                            (Scall None
                              (Evar _wormhmap_store (Tfunction
                                                      (Tcons
                                                        (tptr (Tstruct _wormhole noattr))
                                                        (Tcons
                                                          (tptr (Tstruct _wormhmap noattr))
                                                          Tnil)) tvoid
                                                      cc_default))
                              ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                               (Ebinop Oadd
                                 (Efield
                                   (Ederef
                                     (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                     (Tstruct _wormhole noattr)) _hmap2
                                   (tarray (Tstruct _wormhmap noattr) 2))
                                 (Econst_int (Int.repr 0) tint)
                                 (tptr (Tstruct _wormhmap noattr))) :: nil))
                            (Ssequence
                              (Sreturn (Some (Etempvar _map (tptr (Tstruct _wormhole noattr)))))
                              (Ssequence
                                (Slabel _fail
                                  (Ssequence
                                    (Sset _t'18
                                      (Efield
                                        (Ederef
                                          (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                          (Tstruct _wormhole noattr)) _qsbr
                                        (tptr (Tstruct _qsbr noattr))))
                                    (Sifthenelse (Etempvar _t'18 (tptr (Tstruct _qsbr noattr)))
                                      (Ssequence
                                        (Sset _t'19
                                          (Efield
                                            (Ederef
                                              (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                              (Tstruct _wormhole noattr))
                                            _qsbr
                                            (tptr (Tstruct _qsbr noattr))))
                                        (Scall None
                                          (Evar _qsbr_destroy (Tfunction
                                                                (Tcons
                                                                  (tptr (Tstruct _qsbr noattr))
                                                                  Tnil) tvoid
                                                                cc_default))
                                          ((Etempvar _t'19 (tptr (Tstruct _qsbr noattr))) ::
                                           nil)))
                                      Sskip)))
                                (Ssequence
                                  (Ssequence
                                    (Sset _t'16
                                      (Efield
                                        (Ederef
                                          (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                          (Tstruct _wormhole noattr))
                                        _slab_leaf
                                        (tptr (Tstruct _slab noattr))))
                                    (Sifthenelse (Etempvar _t'16 (tptr (Tstruct _slab noattr)))
                                      (Ssequence
                                        (Sset _t'17
                                          (Efield
                                            (Ederef
                                              (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                              (Tstruct _wormhole noattr))
                                            _slab_leaf
                                            (tptr (Tstruct _slab noattr))))
                                        (Scall None
                                          (Evar _slab_destroy (Tfunction
                                                                (Tcons
                                                                  (tptr (Tstruct _slab noattr))
                                                                  Tnil) tvoid
                                                                cc_default))
                                          ((Etempvar _t'17 (tptr (Tstruct _slab noattr))) ::
                                           nil)))
                                      Sskip))
                                  (Ssequence
                                    (Ssequence
                                      (Sset _i__1
                                        (Econst_int (Int.repr 0) tint))
                                      (Sloop
                                        (Ssequence
                                          (Sifthenelse (Ebinop Olt
                                                         (Etempvar _i__1 tuint)
                                                         (Etempvar _nh tuint)
                                                         tint)
                                            Sskip
                                            Sbreak)
                                          (Ssequence
                                            (Sset _hmap__1
                                              (Ebinop Oadd
                                                (Efield
                                                  (Ederef
                                                    (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                                    (Tstruct _wormhole noattr))
                                                  _hmap2
                                                  (tarray (Tstruct _wormhmap noattr) 2))
                                                (Etempvar _i__1 tuint)
                                                (tptr (Tstruct _wormhmap noattr))))
                                            (Ssequence
                                              (Ssequence
                                                (Sset _t'14
                                                  (Efield
                                                    (Ederef
                                                      (Etempvar _hmap__1 (tptr (Tstruct _wormhmap noattr)))
                                                      (Tstruct _wormhmap noattr))
                                                    _slab1
                                                    (tptr (Tstruct _slab noattr))))
                                                (Sifthenelse (Etempvar _t'14 (tptr (Tstruct _slab noattr)))
                                                  (Ssequence
                                                    (Sset _t'15
                                                      (Efield
                                                        (Ederef
                                                          (Etempvar _hmap__1 (tptr (Tstruct _wormhmap noattr)))
                                                          (Tstruct _wormhmap noattr))
                                                        _slab1
                                                        (tptr (Tstruct _slab noattr))))
                                                    (Scall None
                                                      (Evar _slab_destroy 
                                                      (Tfunction
                                                        (Tcons
                                                          (tptr (Tstruct _slab noattr))
                                                          Tnil) tvoid
                                                        cc_default))
                                                      ((Etempvar _t'15 (tptr (Tstruct _slab noattr))) ::
                                                       nil)))
                                                  Sskip))
                                              (Ssequence
                                                (Ssequence
                                                  (Sset _t'12
                                                    (Efield
                                                      (Ederef
                                                        (Etempvar _hmap__1 (tptr (Tstruct _wormhmap noattr)))
                                                        (Tstruct _wormhmap noattr))
                                                      _slab2
                                                      (tptr (Tstruct _slab noattr))))
                                                  (Sifthenelse (Etempvar _t'12 (tptr (Tstruct _slab noattr)))
                                                    (Ssequence
                                                      (Sset _t'13
                                                        (Efield
                                                          (Ederef
                                                            (Etempvar _hmap__1 (tptr (Tstruct _wormhmap noattr)))
                                                            (Tstruct _wormhmap noattr))
                                                          _slab2
                                                          (tptr (Tstruct _slab noattr))))
                                                      (Scall None
                                                        (Evar _slab_destroy 
                                                        (Tfunction
                                                          (Tcons
                                                            (tptr (Tstruct _slab noattr))
                                                            Tnil) tvoid
                                                          cc_default))
                                                        ((Etempvar _t'13 (tptr (Tstruct _slab noattr))) ::
                                                         nil)))
                                                    Sskip))
                                                (Scall None
                                                  (Evar _wormhmap_deinit 
                                                  (Tfunction
                                                    (Tcons
                                                      (tptr (Tstruct _wormhmap noattr))
                                                      Tnil) tvoid cc_default))
                                                  ((Etempvar _hmap__1 (tptr (Tstruct _wormhmap noattr))) ::
                                                   nil))))))
                                        (Sset _i__1
                                          (Ebinop Oadd (Etempvar _i__1 tuint)
                                            (Econst_int (Int.repr 1) tint)
                                            tuint))))
                                    (Ssequence
                                      (Ssequence
                                        (Sset _t'10
                                          (Efield
                                            (Ederef
                                              (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                              (Tstruct _wormhole noattr))
                                            _pbuf
                                            (tptr (Tstruct _kv noattr))))
                                        (Sifthenelse (Etempvar _t'10 (tptr (Tstruct _kv noattr)))
                                          (Ssequence
                                            (Sset _t'11
                                              (Efield
                                                (Ederef
                                                  (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                                  (Tstruct _wormhole noattr))
                                                _pbuf
                                                (tptr (Tstruct _kv noattr))))
                                            (Scall None
                                              (Evar _free (Tfunction
                                                            (Tcons
                                                              (tptr tvoid)
                                                              Tnil) tvoid
                                                            cc_default))
                                              ((Etempvar _t'11 (tptr (Tstruct _kv noattr))) ::
                                               nil)))
                                          Sskip))
                                      (Ssequence
                                        (Scall None
                                          (Evar _free (Tfunction
                                                        (Tcons (tptr tvoid)
                                                          Tnil) tvoid
                                                        cc_default))
                                          ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                                           nil))
                                        (Sreturn (Some (Ecast
                                                         (Econst_int (Int.repr 0) tint)
                                                         (tptr tvoid))))))))))))))))))))))))
|}.

Definition f_wormhole_create := {|
  fn_return := (tptr (Tstruct _wormhole noattr));
  fn_callconv := cc_default;
  fn_params := ((_mm, (tptr (Tstruct _kvmap_mm noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall (Some _t'1)
    (Evar _wormhole_create_internal (Tfunction
                                      (Tcons
                                        (tptr (Tstruct _kvmap_mm noattr))
                                        (Tcons tuint Tnil))
                                      (tptr (Tstruct _wormhole noattr))
                                      cc_default))
    ((Etempvar _mm (tptr (Tstruct _kvmap_mm noattr))) ::
     (Econst_int (Int.repr 2) tint) :: nil))
  (Sreturn (Some (Etempvar _t'1 (tptr (Tstruct _wormhole noattr))))))
|}.

Definition f_whunsafe_create := {|
  fn_return := (tptr (Tstruct _wormhole noattr));
  fn_callconv := cc_default;
  fn_params := ((_mm, (tptr (Tstruct _kvmap_mm noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall (Some _t'1)
    (Evar _wormhole_create_internal (Tfunction
                                      (Tcons
                                        (tptr (Tstruct _kvmap_mm noattr))
                                        (Tcons tuint Tnil))
                                      (tptr (Tstruct _wormhole noattr))
                                      cc_default))
    ((Etempvar _mm (tptr (Tstruct _kvmap_mm noattr))) ::
     (Econst_int (Int.repr 1) tint) :: nil))
  (Sreturn (Some (Etempvar _t'1 (tptr (Tstruct _wormhole noattr))))))
|}.

Definition f_wormhole_meta_lcp := {|
  fn_return := (tptr (Tstruct _wormmeta noattr));
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_kref__1, (tptr (Tstruct _kref noattr))) ::
                (_klen, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_gd, tuint) :: (_lo, tuint) :: (_loh, tuint) ::
               (_inc, tuint) :: (_hash32, tuint) :: (_inc__1, tuint) ::
               (_hash32__1, tuint) ::
               (_ret, (tptr (Tstruct _wormmeta noattr))) ::
               (_inc__2, tuint) ::
               (_tmp, (tptr (Tstruct _wormmeta noattr))) ::
               (_inc__3, tuint) ::
               (_tmp__1, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'13, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'12, tbool) :: (_t'11, tuint) ::
               (_t'10, (tptr (Tstruct _wormmeta noattr))) :: (_t'9, tbool) ::
               (_t'8, tuint) :: (_t'7, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'6, (tptr (Tstruct _wormmeta noattr))) :: (_t'5, tbool) ::
               (_t'4, tuint) :: (_t'3, tbool) :: (_t'2, tuint) ::
               (_t'1, tuint) :: (_t'26, tuint) :: (_t'25, tuint) ::
               (_t'24, (tptr tuchar)) :: (_t'23, (tptr tuchar)) ::
               (_t'22, tuchar) :: (_t'21, (tptr tuchar)) ::
               (_t'20, tuchar) :: (_t'19, (tptr tuchar)) ::
               (_t'18, tuchar) :: (_t'17, (tptr tuchar)) ::
               (_t'16, tuchar) :: (_t'15, (tptr tuchar)) :: (_t'14, tuint) ::
               nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'25
        (Efield
          (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
            (Tstruct _wormhmap noattr)) _maxplen tuint))
      (Sifthenelse (Ebinop Olt (Etempvar _t'25 tuint) (Etempvar _klen tuint)
                     tint)
        (Ssequence
          (Sset _t'26
            (Efield
              (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                (Tstruct _wormhmap noattr)) _maxplen tuint))
          (Sset _t'1 (Ecast (Etempvar _t'26 tuint) tuint)))
        (Sset _t'1 (Ecast (Etempvar _klen tuint) tuint))))
    (Sset _gd
      (Ebinop Oadd (Etempvar _t'1 tuint) (Econst_int (Int.repr 1) tuint)
        tuint)))
  (Ssequence
    (Sset _lo (Econst_int (Int.repr 0) tint))
    (Ssequence
      (Sset _loh (Econst_int (Int.repr (-559038737)) tuint))
      (Ssequence
        (Swhile
          (Ebinop Olt (Econst_int (Int.repr 7) tuint) (Etempvar _gd tuint)
            tint)
          (Ssequence
            (Sset _inc
              (Ebinop Oshl
                (Ebinop Oshr (Etempvar _gd tuint)
                  (Econst_int (Int.repr 3) tint) tuint)
                (Econst_int (Int.repr 2) tint) tuint))
            (Ssequence
              (Ssequence
                (Ssequence
                  (Sset _t'24
                    (Efield
                      (Ederef
                        (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
                        (Tstruct _kref noattr)) _ptr (tptr tuchar)))
                  (Scall (Some _t'2)
                    (Evar _crc32c_inc_x4 (Tfunction
                                           (Tcons (tptr tuchar)
                                             (Tcons tuint (Tcons tuint Tnil)))
                                           tuint cc_default))
                    ((Ebinop Oadd (Etempvar _t'24 (tptr tuchar))
                       (Etempvar _lo tuint) (tptr tuchar)) ::
                     (Etempvar _inc tuint) :: (Etempvar _loh tuint) :: nil)))
                (Sset _hash32 (Etempvar _t'2 tuint)))
              (Ssequence
                (Scall (Some _t'3)
                  (Evar _wormhmap_peek (Tfunction
                                         (Tcons
                                           (tptr (Tstruct _wormhmap noattr))
                                           (Tcons tuint Tnil)) tbool
                                         cc_default))
                  ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                   (Etempvar _hash32 tuint) :: nil))
                (Sifthenelse (Etempvar _t'3 tbool)
                  (Ssequence
                    (Sset _loh (Etempvar _hash32 tuint))
                    (Ssequence
                      (Sset _lo
                        (Ebinop Oadd (Etempvar _lo tuint)
                          (Etempvar _inc tuint) tuint))
                      (Sset _gd
                        (Ebinop Osub (Etempvar _gd tuint)
                          (Etempvar _inc tuint) tuint))))
                  (Sset _gd (Etempvar _inc tuint)))))))
        (Ssequence
          (Swhile
            (Ebinop Olt (Econst_int (Int.repr 1) tint) (Etempvar _gd tuint)
              tint)
            (Ssequence
              (Sset _inc__1
                (Ebinop Oshr (Etempvar _gd tuint)
                  (Econst_int (Int.repr 1) tint) tuint))
              (Ssequence
                (Ssequence
                  (Ssequence
                    (Sset _t'23
                      (Efield
                        (Ederef
                          (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
                          (Tstruct _kref noattr)) _ptr (tptr tuchar)))
                    (Scall (Some _t'4)
                      (Evar _crc32c_inc_123 (Tfunction
                                              (Tcons (tptr tuchar)
                                                (Tcons tuint
                                                  (Tcons tuint Tnil))) tuint
                                              cc_default))
                      ((Ebinop Oadd (Etempvar _t'23 (tptr tuchar))
                         (Etempvar _lo tuint) (tptr tuchar)) ::
                       (Etempvar _inc__1 tuint) :: (Etempvar _loh tuint) ::
                       nil)))
                  (Sset _hash32__1 (Etempvar _t'4 tuint)))
                (Ssequence
                  (Scall (Some _t'5)
                    (Evar _wormhmap_peek (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormhmap noattr))
                                             (Tcons tuint Tnil)) tbool
                                           cc_default))
                    ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                     (Etempvar _hash32__1 tuint) :: nil))
                  (Sifthenelse (Etempvar _t'5 tbool)
                    (Ssequence
                      (Sset _loh (Etempvar _hash32__1 tuint))
                      (Ssequence
                        (Sset _lo
                          (Ebinop Oadd (Etempvar _lo tuint)
                            (Etempvar _inc__1 tuint) tuint))
                        (Sset _gd
                          (Ebinop Osub (Etempvar _gd tuint)
                            (Etempvar _inc__1 tuint) tuint))))
                    (Sset _gd (Etempvar _inc__1 tuint)))))))
          (Ssequence
            (Sassign
              (Efield
                (Efield
                  (Ederef (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
                    (Tstruct _kref noattr)) 18727075383868559167%positive
                  (Tunion __6653 noattr)) _hash32 tuint)
              (Etempvar _loh tuint))
            (Ssequence
              (Sassign
                (Efield
                  (Ederef (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
                    (Tstruct _kref noattr)) _len tuint) (Etempvar _lo tuint))
              (Ssequence
                (Ssequence
                  (Scall (Some _t'6)
                    (Evar _wormhmap_get_kref (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _wormhmap noattr))
                                                 (Tcons
                                                   (tptr (Tstruct _kref noattr))
                                                   Tnil))
                                               (tptr (Tstruct _wormmeta noattr))
                                               cc_default))
                    ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                     (Etempvar _kref__1 (tptr (Tstruct _kref noattr))) ::
                     nil))
                  (Sset _ret
                    (Etempvar _t'6 (tptr (Tstruct _wormmeta noattr)))))
                (Ssequence
                  (Sifthenelse (Ebinop One
                                 (Etempvar _ret (tptr (Tstruct _wormmeta noattr)))
                                 (Ecast (Econst_int (Int.repr 0) tint)
                                   (tptr tvoid)) tint)
                    (Sreturn (Some (Etempvar _ret (tptr (Tstruct _wormmeta noattr)))))
                    Sskip)
                  (Ssequence
                    (Sset _gd (Etempvar _lo tuint))
                    (Ssequence
                      (Sset _lo (Econst_int (Int.repr 0) tint))
                      (Ssequence
                        (Sset _loh
                          (Econst_int (Int.repr (-559038737)) tuint))
                        (Ssequence
                          (Swhile
                            (Ebinop Olt (Econst_int (Int.repr 5) tuint)
                              (Etempvar _gd tuint) tint)
                            (Ssequence
                              (Sset _inc__2
                                (Ebinop Oshr
                                  (Ebinop Omul (Etempvar _gd tuint)
                                    (Econst_int (Int.repr 3) tint) tuint)
                                  (Econst_int (Int.repr 2) tint) tuint))
                              (Ssequence
                                (Scall None
                                  (Evar _wormhole_kref_inc (Tfunction
                                                             (Tcons
                                                               (tptr (Tstruct _kref noattr))
                                                               (Tcons tuint
                                                                 (Tcons tuint
                                                                   (Tcons
                                                                    tuint
                                                                    Tnil))))
                                                             tvoid
                                                             cc_default))
                                  ((Etempvar _kref__1 (tptr (Tstruct _kref noattr))) ::
                                   (Etempvar _lo tuint) ::
                                   (Etempvar _loh tuint) ::
                                   (Etempvar _inc__2 tuint) :: nil))
                                (Ssequence
                                  (Ssequence
                                    (Scall (Some _t'7)
                                      (Evar _wormhmap_get_kref (Tfunction
                                                                 (Tcons
                                                                   (tptr (Tstruct _wormhmap noattr))
                                                                   (Tcons
                                                                    (tptr (Tstruct _kref noattr))
                                                                    Tnil))
                                                                 (tptr (Tstruct _wormmeta noattr))
                                                                 cc_default))
                                      ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                                       (Etempvar _kref__1 (tptr (Tstruct _kref noattr))) ::
                                       nil))
                                    (Sset _tmp
                                      (Etempvar _t'7 (tptr (Tstruct _wormmeta noattr)))))
                                  (Sifthenelse (Etempvar _tmp (tptr (Tstruct _wormmeta noattr)))
                                    (Ssequence
                                      (Sset _loh
                                        (Efield
                                          (Efield
                                            (Ederef
                                              (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
                                              (Tstruct _kref noattr))
                                            18727075383868559167%positive
                                            (Tunion __6653 noattr)) _hash32
                                          tuint))
                                      (Ssequence
                                        (Sset _lo
                                          (Ebinop Oadd (Etempvar _lo tuint)
                                            (Etempvar _inc__2 tuint) tuint))
                                        (Ssequence
                                          (Sset _gd
                                            (Ebinop Osub (Etempvar _gd tuint)
                                              (Etempvar _inc__2 tuint) tuint))
                                          (Ssequence
                                            (Sset _ret
                                              (Etempvar _tmp (tptr (Tstruct _wormmeta noattr))))
                                            (Ssequence
                                              (Ssequence
                                                (Sset _t'21
                                                  (Efield
                                                    (Ederef
                                                      (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
                                                      (Tstruct _kref noattr))
                                                    _ptr (tptr tuchar)))
                                                (Ssequence
                                                  (Sset _t'22
                                                    (Ederef
                                                      (Ebinop Oadd
                                                        (Etempvar _t'21 (tptr tuchar))
                                                        (Etempvar _lo tuint)
                                                        (tptr tuchar))
                                                      tuchar))
                                                  (Scall (Some _t'9)
                                                    (Evar _wormmeta_bm_test 
                                                    (Tfunction
                                                      (Tcons
                                                        (tptr (Tstruct _wormmeta noattr))
                                                        (Tcons tuint Tnil))
                                                      tbool cc_default))
                                                    ((Etempvar _tmp (tptr (Tstruct _wormmeta noattr))) ::
                                                     (Etempvar _t'22 tuchar) ::
                                                     nil))))
                                              (Sifthenelse (Etempvar _t'9 tbool)
                                                (Ssequence
                                                  (Ssequence
                                                    (Ssequence
                                                      (Sset _t'19
                                                        (Efield
                                                          (Ederef
                                                            (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
                                                            (Tstruct _kref noattr))
                                                          _ptr (tptr tuchar)))
                                                      (Ssequence
                                                        (Sset _t'20
                                                          (Ederef
                                                            (Ebinop Oadd
                                                              (Etempvar _t'19 (tptr tuchar))
                                                              (Etempvar _lo tuint)
                                                              (tptr tuchar))
                                                            tuchar))
                                                        (Scall (Some _t'8)
                                                          (Evar _crc32c_u8 
                                                          (Tfunction
                                                            (Tcons tuint
                                                              (Tcons tuchar
                                                                Tnil)) tuint
                                                            cc_default))
                                                          ((Etempvar _loh tuint) ::
                                                           (Etempvar _t'20 tuchar) ::
                                                           nil))))
                                                    (Sset _loh
                                                      (Etempvar _t'8 tuint)))
                                                  (Ssequence
                                                    (Sset _lo
                                                      (Ebinop Oadd
                                                        (Etempvar _lo tuint)
                                                        (Econst_int (Int.repr 1) tint)
                                                        tuint))
                                                    (Ssequence
                                                      (Sset _gd
                                                        (Ebinop Osub
                                                          (Etempvar _gd tuint)
                                                          (Econst_int (Int.repr 1) tint)
                                                          tuint))
                                                      (Sset _ret
                                                        (Ecast
                                                          (Econst_int (Int.repr 0) tint)
                                                          (tptr tvoid))))))
                                                (Ssequence
                                                  (Sset _gd
                                                    (Econst_int (Int.repr 1) tint))
                                                  Sbreak)))))))
                                    (Sset _gd (Etempvar _inc__2 tuint)))))))
                          (Ssequence
                            (Swhile
                              (Ebinop Olt (Econst_int (Int.repr 1) tint)
                                (Etempvar _gd tuint) tint)
                              (Ssequence
                                (Sset _inc__3
                                  (Ebinop Oshr
                                    (Ebinop Omul (Etempvar _gd tuint)
                                      (Econst_int (Int.repr 3) tint) tuint)
                                    (Econst_int (Int.repr 2) tint) tuint))
                                (Ssequence
                                  (Scall None
                                    (Evar _wormhole_kref_inc_123 (Tfunction
                                                                   (Tcons
                                                                    (tptr (Tstruct _kref noattr))
                                                                    (Tcons
                                                                    tuint
                                                                    (Tcons
                                                                    tuint
                                                                    (Tcons
                                                                    tuint
                                                                    Tnil))))
                                                                   tvoid
                                                                   cc_default))
                                    ((Etempvar _kref__1 (tptr (Tstruct _kref noattr))) ::
                                     (Etempvar _lo tuint) ::
                                     (Etempvar _loh tuint) ::
                                     (Etempvar _inc__3 tuint) :: nil))
                                  (Ssequence
                                    (Ssequence
                                      (Scall (Some _t'10)
                                        (Evar _wormhmap_get_kref (Tfunction
                                                                   (Tcons
                                                                    (tptr (Tstruct _wormhmap noattr))
                                                                    (Tcons
                                                                    (tptr (Tstruct _kref noattr))
                                                                    Tnil))
                                                                   (tptr (Tstruct _wormmeta noattr))
                                                                   cc_default))
                                        ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                                         (Etempvar _kref__1 (tptr (Tstruct _kref noattr))) ::
                                         nil))
                                      (Sset _tmp__1
                                        (Etempvar _t'10 (tptr (Tstruct _wormmeta noattr)))))
                                    (Sifthenelse (Etempvar _tmp__1 (tptr (Tstruct _wormmeta noattr)))
                                      (Ssequence
                                        (Sset _loh
                                          (Efield
                                            (Efield
                                              (Ederef
                                                (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
                                                (Tstruct _kref noattr))
                                              18727075383868559167%positive
                                              (Tunion __6653 noattr)) _hash32
                                            tuint))
                                        (Ssequence
                                          (Sset _lo
                                            (Ebinop Oadd (Etempvar _lo tuint)
                                              (Etempvar _inc__3 tuint) tuint))
                                          (Ssequence
                                            (Sset _gd
                                              (Ebinop Osub
                                                (Etempvar _gd tuint)
                                                (Etempvar _inc__3 tuint)
                                                tuint))
                                            (Ssequence
                                              (Sset _ret
                                                (Etempvar _tmp__1 (tptr (Tstruct _wormmeta noattr))))
                                              (Ssequence
                                                (Ssequence
                                                  (Sset _t'17
                                                    (Efield
                                                      (Ederef
                                                        (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
                                                        (Tstruct _kref noattr))
                                                      _ptr (tptr tuchar)))
                                                  (Ssequence
                                                    (Sset _t'18
                                                      (Ederef
                                                        (Ebinop Oadd
                                                          (Etempvar _t'17 (tptr tuchar))
                                                          (Etempvar _lo tuint)
                                                          (tptr tuchar))
                                                        tuchar))
                                                    (Scall (Some _t'12)
                                                      (Evar _wormmeta_bm_test 
                                                      (Tfunction
                                                        (Tcons
                                                          (tptr (Tstruct _wormmeta noattr))
                                                          (Tcons tuint Tnil))
                                                        tbool cc_default))
                                                      ((Etempvar _tmp__1 (tptr (Tstruct _wormmeta noattr))) ::
                                                       (Etempvar _t'18 tuchar) ::
                                                       nil))))
                                                (Sifthenelse (Etempvar _t'12 tbool)
                                                  (Ssequence
                                                    (Ssequence
                                                      (Ssequence
                                                        (Sset _t'15
                                                          (Efield
                                                            (Ederef
                                                              (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
                                                              (Tstruct _kref noattr))
                                                            _ptr
                                                            (tptr tuchar)))
                                                        (Ssequence
                                                          (Sset _t'16
                                                            (Ederef
                                                              (Ebinop Oadd
                                                                (Etempvar _t'15 (tptr tuchar))
                                                                (Etempvar _lo tuint)
                                                                (tptr tuchar))
                                                              tuchar))
                                                          (Scall (Some _t'11)
                                                            (Evar _crc32c_u8 
                                                            (Tfunction
                                                              (Tcons tuint
                                                                (Tcons tuchar
                                                                  Tnil))
                                                              tuint
                                                              cc_default))
                                                            ((Etempvar _loh tuint) ::
                                                             (Etempvar _t'16 tuchar) ::
                                                             nil))))
                                                      (Sset _loh
                                                        (Etempvar _t'11 tuint)))
                                                    (Ssequence
                                                      (Sset _lo
                                                        (Ebinop Oadd
                                                          (Etempvar _lo tuint)
                                                          (Econst_int (Int.repr 1) tint)
                                                          tuint))
                                                      (Ssequence
                                                        (Sset _gd
                                                          (Ebinop Osub
                                                            (Etempvar _gd tuint)
                                                            (Econst_int (Int.repr 1) tint)
                                                            tuint))
                                                        (Sset _ret
                                                          (Ecast
                                                            (Econst_int (Int.repr 0) tint)
                                                            (tptr tvoid))))))
                                                  Sbreak))))))
                                      (Sset _gd (Etempvar _inc__3 tuint)))))))
                            (Ssequence
                              (Ssequence
                                (Sset _t'14
                                  (Efield
                                    (Ederef
                                      (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
                                      (Tstruct _kref noattr)) _len tuint))
                                (Sifthenelse (Ebinop One
                                               (Etempvar _t'14 tuint)
                                               (Etempvar _lo tuint) tint)
                                  (Ssequence
                                    (Sassign
                                      (Efield
                                        (Efield
                                          (Ederef
                                            (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
                                            (Tstruct _kref noattr))
                                          18727075383868559167%positive
                                          (Tunion __6653 noattr)) _hash32
                                        tuint) (Etempvar _loh tuint))
                                    (Sassign
                                      (Efield
                                        (Ederef
                                          (Etempvar _kref__1 (tptr (Tstruct _kref noattr)))
                                          (Tstruct _kref noattr)) _len tuint)
                                      (Etempvar _lo tuint)))
                                  Sskip))
                              (Ssequence
                                (Sifthenelse (Ebinop Oeq
                                               (Etempvar _ret (tptr (Tstruct _wormmeta noattr)))
                                               (Ecast
                                                 (Econst_int (Int.repr 0) tint)
                                                 (tptr tvoid)) tint)
                                  (Ssequence
                                    (Scall (Some _t'13)
                                      (Evar _wormhmap_get_kref (Tfunction
                                                                 (Tcons
                                                                   (tptr (Tstruct _wormhmap noattr))
                                                                   (Tcons
                                                                    (tptr (Tstruct _kref noattr))
                                                                    Tnil))
                                                                 (tptr (Tstruct _wormmeta noattr))
                                                                 cc_default))
                                      ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                                       (Etempvar _kref__1 (tptr (Tstruct _kref noattr))) ::
                                       nil))
                                    (Sset _ret
                                      (Etempvar _t'13 (tptr (Tstruct _wormmeta noattr)))))
                                  Sskip)
                                (Ssequence
                                  (Scall None
                                    (Evar _debug_assert (Tfunction
                                                          (Tcons tbool Tnil)
                                                          tvoid cc_default))
                                    ((Etempvar _ret (tptr (Tstruct _wormmeta noattr))) ::
                                     nil))
                                  (Sreturn (Some (Etempvar _ret (tptr (Tstruct _wormmeta noattr))))))))))))))))))))))
|}.

Definition f_wormhole_meta_down := {|
  fn_return := (tptr (Tstruct _wormleaf noattr));
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_lcp, (tptr (Tstruct _kref noattr))) ::
                (_meta, (tptr (Tstruct _wormmeta noattr))) ::
                (_klen, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_id0, tuint) :: (_t'8, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'7, tuint) :: (_t'6, tuint) ::
               (_t'5, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'4, (tptr (Tstruct _wormmeta noattr))) :: (_t'3, tuint) ::
               (_t'2, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'1, (tptr (Tstruct _wormleaf noattr))) :: (_t'11, tuint) ::
               (_t'10, (tptr tuchar)) :: (_t'9, tuint) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'9
    (Efield
      (Ederef (Etempvar _lcp (tptr (Tstruct _kref noattr)))
        (Tstruct _kref noattr)) _len tuint))
  (Sifthenelse (Ebinop Olt (Etempvar _t'9 tuint) (Etempvar _klen tuint) tint)
    (Ssequence
      (Ssequence
        (Sset _t'10
          (Efield
            (Ederef (Etempvar _lcp (tptr (Tstruct _kref noattr)))
              (Tstruct _kref noattr)) _ptr (tptr tuchar)))
        (Ssequence
          (Sset _t'11
            (Efield
              (Ederef (Etempvar _lcp (tptr (Tstruct _kref noattr)))
                (Tstruct _kref noattr)) _len tuint))
          (Sset _id0
            (Ederef
              (Ebinop Oadd (Etempvar _t'10 (tptr tuchar))
                (Etempvar _t'11 tuint) (tptr tuchar)) tuchar))))
      (Ssequence
        (Scall (Some _t'7)
          (Evar _wormmeta_bitmin_load (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormmeta noattr))
                                          Tnil) tuint cc_default))
          ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
        (Sifthenelse (Ebinop Ogt (Etempvar _t'7 tuint) (Etempvar _id0 tuint)
                       tint)
          (Ssequence
            (Scall (Some _t'1)
              (Evar _wormmeta_lpath_load (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormmeta noattr))
                                             Tnil)
                                           (tptr (Tstruct _wormleaf noattr))
                                           cc_default))
              ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
            (Sreturn (Some (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr))))))
          (Ssequence
            (Scall (Some _t'6)
              (Evar _wormmeta_bitmax_load (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormmeta noattr))
                                              Tnil) tuint cc_default))
              ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
            (Sifthenelse (Ebinop Olt (Etempvar _t'6 tuint)
                           (Etempvar _id0 tuint) tint)
              (Ssequence
                (Scall (Some _t'2)
                  (Evar _wormmeta_rmost_load (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _wormmeta noattr))
                                                 Tnil)
                                               (tptr (Tstruct _wormleaf noattr))
                                               cc_default))
                  ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
                (Sreturn (Some (Etempvar _t'2 (tptr (Tstruct _wormleaf noattr))))))
              (Ssequence
                (Ssequence
                  (Ssequence
                    (Scall (Some _t'3)
                      (Evar _wormmeta_bm_lt (Tfunction
                                              (Tcons
                                                (tptr (Tstruct _wormmeta noattr))
                                                (Tcons tuint Tnil)) tuint
                                              cc_default))
                      ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                       (Etempvar _id0 tuint) :: nil))
                    (Scall (Some _t'4)
                      (Evar _wormhmap_get_kref1 (Tfunction
                                                  (Tcons
                                                    (tptr (Tstruct _wormhmap noattr))
                                                    (Tcons
                                                      (tptr (Tstruct _kref noattr))
                                                      (Tcons tuchar Tnil)))
                                                  (tptr (Tstruct _wormmeta noattr))
                                                  cc_default))
                      ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                       (Etempvar _lcp (tptr (Tstruct _kref noattr))) ::
                       (Ecast (Etempvar _t'3 tuint) tuchar) :: nil)))
                  (Scall (Some _t'5)
                    (Evar _wormmeta_rmost_load (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _wormmeta noattr))
                                                   Tnil)
                                                 (tptr (Tstruct _wormleaf noattr))
                                                 cc_default))
                    ((Etempvar _t'4 (tptr (Tstruct _wormmeta noattr))) ::
                     nil)))
                (Sreturn (Some (Etempvar _t'5 (tptr (Tstruct _wormleaf noattr)))))))))))
    (Ssequence
      (Scall (Some _t'8)
        (Evar _wormmeta_lpath_load (Tfunction
                                     (Tcons (tptr (Tstruct _wormmeta noattr))
                                       Tnil)
                                     (tptr (Tstruct _wormleaf noattr))
                                     cc_default))
        ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
      (Sreturn (Some (Etempvar _t'8 (tptr (Tstruct _wormleaf noattr))))))))
|}.

Definition f_wormhole_jump_leaf := {|
  fn_return := (tptr (Tstruct _wormleaf noattr));
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := ((_kref__1, (Tstruct _kref noattr)) :: nil);
  fn_temps := ((_meta, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'3, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'2, (tptr (Tstruct _wormmeta noattr))) :: (_t'1, tuint) ::
               (_t'9, (tptr tuchar)) :: (_t'8, tuint) ::
               (_t'7, (tptr tuchar)) :: (_t'6, tuint) :: (_t'5, tuint) ::
               (_t'4, tuint) :: nil);
  fn_body :=
(Ssequence
  (Sassign (Efield (Evar _kref__1 (Tstruct _kref noattr)) _len tuint)
    (Econst_int (Int.repr 0) tint))
  (Ssequence
    (Sassign
      (Efield
        (Efield (Evar _kref__1 (Tstruct _kref noattr))
          18727075383868559167%positive (Tunion __6653 noattr)) _hash32
        tuint) (Econst_int (Int.repr 0) tint))
    (Ssequence
      (Ssequence
        (Sset _t'9
          (Efield
            (Ederef (Etempvar _key (tptr (Tstruct _kref noattr)))
              (Tstruct _kref noattr)) _ptr (tptr tuchar)))
        (Sassign
          (Efield (Evar _kref__1 (Tstruct _kref noattr)) _ptr (tptr tuchar))
          (Etempvar _t'9 (tptr tuchar))))
      (Ssequence
        (Ssequence
          (Ssequence
            (Sset _t'7
              (Efield
                (Ederef (Etempvar _key (tptr (Tstruct _kref noattr)))
                  (Tstruct _kref noattr)) _ptr (tptr tuchar)))
            (Ssequence
              (Sset _t'8
                (Efield
                  (Ederef (Etempvar _key (tptr (Tstruct _kref noattr)))
                    (Tstruct _kref noattr)) _len tuint))
              (Scall (Some _t'1)
                (Evar _kv_crc32c (Tfunction
                                   (Tcons (tptr tvoid) (Tcons tuint Tnil))
                                   tuint cc_default))
                ((Etempvar _t'7 (tptr tuchar)) :: (Etempvar _t'8 tuint) ::
                 nil))))
          (Ssequence
            (Sset _t'6
              (Efield
                (Efield
                  (Ederef (Etempvar _key (tptr (Tstruct _kref noattr)))
                    (Tstruct _kref noattr)) 18727075383868559167%positive
                  (Tunion __6653 noattr)) _hash32 tuint))
            (Scall None
              (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid
                                    cc_default))
              ((Ebinop Oeq (Etempvar _t'1 tuint) (Etempvar _t'6 tuint) tint) ::
               nil))))
        (Ssequence
          (Ssequence
            (Ssequence
              (Sset _t'5
                (Efield
                  (Ederef (Etempvar _key (tptr (Tstruct _kref noattr)))
                    (Tstruct _kref noattr)) _len tuint))
              (Scall (Some _t'2)
                (Evar _wormhole_meta_lcp (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormhmap noattr))
                                             (Tcons
                                               (tptr (Tstruct _kref noattr))
                                               (Tcons tuint Tnil)))
                                           (tptr (Tstruct _wormmeta noattr))
                                           cc_default))
                ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                 (Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
                   (tptr (Tstruct _kref noattr))) :: (Etempvar _t'5 tuint) ::
                 nil)))
            (Sset _meta (Etempvar _t'2 (tptr (Tstruct _wormmeta noattr)))))
          (Ssequence
            (Ssequence
              (Sset _t'4
                (Efield
                  (Ederef (Etempvar _key (tptr (Tstruct _kref noattr)))
                    (Tstruct _kref noattr)) _len tuint))
              (Scall (Some _t'3)
                (Evar _wormhole_meta_down (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormhmap noattr))
                                              (Tcons
                                                (tptr (Tstruct _kref noattr))
                                                (Tcons
                                                  (tptr (Tstruct _wormmeta noattr))
                                                  (Tcons tuint Tnil))))
                                            (tptr (Tstruct _wormleaf noattr))
                                            cc_default))
                ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                 (Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
                   (tptr (Tstruct _kref noattr))) ::
                 (Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                 (Etempvar _t'4 tuint) :: nil)))
            (Sreturn (Some (Etempvar _t'3 (tptr (Tstruct _wormleaf noattr)))))))))))
|}.

Definition f_wormhole_jump_leaf_read := {|
  fn_return := (tptr (Tstruct _wormleaf noattr));
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_map, (tptr (Tstruct _wormhole noattr))) ::
               (_hmap, (tptr (Tstruct _wormhmap noattr))) :: (_v, tulong) ::
               (_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_v1, tulong) ::
               (_t'8, tulong) :: (_t'7, tulong) ::
               (_t'6, (tptr (Tstruct _wormhmap noattr))) :: (_t'5, tbool) ::
               (_t'4, tulong) :: (_t'3, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'2, tulong) :: (_t'1, (tptr (Tstruct _wormhmap noattr))) ::
               (_t'9, tuint) :: nil);
  fn_body :=
(Ssequence
  (Sset _map
    (Efield
      (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
        (Tstruct _wormref noattr)) _map (tptr (Tstruct _wormhole noattr))))
  (Sloop
    (Ssequence
      (Ssequence
        (Scall (Some _t'1)
          (Evar _wormhmap_load (Tfunction
                                 (Tcons (tptr (Tstruct _wormhole noattr))
                                   Tnil) (tptr (Tstruct _wormhmap noattr))
                                 cc_default))
          ((Etempvar _map (tptr (Tstruct _wormhole noattr))) :: nil))
        (Sset _hmap (Etempvar _t'1 (tptr (Tstruct _wormhmap noattr)))))
      (Ssequence
        (Ssequence
          (Scall (Some _t'2)
            (Evar _wormhmap_version_load (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormhmap noattr))
                                             Tnil) tulong cc_default))
            ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) :: nil))
          (Sset _v (Etempvar _t'2 tulong)))
        (Ssequence
          (Scall None
            (Evar _qsbr_update (Tfunction
                                 (Tcons (tptr (Tstruct _qsbr_ref noattr))
                                   (Tcons tulong Tnil)) tvoid cc_default))
            ((Eaddrof
               (Efield
                 (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
                   (Tstruct _wormref noattr)) _qref
                 (Tstruct _qsbr_ref noattr))
               (tptr (Tstruct _qsbr_ref noattr))) :: (Etempvar _v tulong) ::
             nil))
          (Ssequence
            (Ssequence
              (Scall (Some _t'3)
                (Evar _wormhole_jump_leaf (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormhmap noattr))
                                              (Tcons
                                                (tptr (Tstruct _kref noattr))
                                                Tnil))
                                            (tptr (Tstruct _wormleaf noattr))
                                            cc_default))
                ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                 (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
              (Sset _leaf (Etempvar _t'3 (tptr (Tstruct _wormleaf noattr)))))
            (Ssequence
              (Ssequence
                (Sset _t'9
                  (Efield
                    (Efield
                      (Ederef (Etempvar _key (tptr (Tstruct _kref noattr)))
                        (Tstruct _kref noattr)) 18727075383868559167%positive
                      (Tunion __6653 noattr)) _hash32 tuint))
                (Scall None
                  (Evar _wormleaf_prefetch (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _wormleaf noattr))
                                               (Tcons tuint Tnil)) tvoid
                                             cc_default))
                  ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                   (Etempvar _t'9 tuint) :: nil)))
              (Sloop
                (Ssequence
                  (Ssequence
                    (Scall (Some _t'5)
                      (Evar _rwlock_trylock_read_nr (Tfunction
                                                      (Tcons
                                                        (tptr (Tunion __6333 noattr))
                                                        (Tcons tushort Tnil))
                                                      tbool cc_default))
                      ((Eaddrof
                         (Efield
                           (Ederef
                             (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                             (Tstruct _wormleaf noattr)) _leaflock
                           (Tunion __6333 noattr))
                         (tptr (Tunion __6333 noattr))) ::
                       (Econst_int (Int.repr 64) tint) :: nil))
                    (Sifthenelse (Etempvar _t'5 tbool)
                      (Ssequence
                        (Ssequence
                          (Scall (Some _t'4)
                            (Evar _wormleaf_version_load (Tfunction
                                                           (Tcons
                                                             (tptr (Tstruct _wormleaf noattr))
                                                             Tnil) tulong
                                                           cc_default))
                            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                             nil))
                          (Sifthenelse (Ebinop Ole (Etempvar _t'4 tulong)
                                         (Etempvar _v tulong) tint)
                            (Sreturn (Some (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))))
                            Sskip))
                        (Ssequence
                          (Scall None
                            (Evar _wormleaf_unlock_read (Tfunction
                                                          (Tcons
                                                            (tptr (Tstruct _wormleaf noattr))
                                                            Tnil) tvoid
                                                          cc_default))
                            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                             nil))
                          Sbreak))
                      Sskip))
                  (Ssequence
                    (Ssequence
                      (Ssequence
                        (Scall (Some _t'6)
                          (Evar _wormhmap_load (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _wormhole noattr))
                                                   Tnil)
                                                 (tptr (Tstruct _wormhmap noattr))
                                                 cc_default))
                          ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                           nil))
                        (Scall (Some _t'7)
                          (Evar _wormhmap_version_load (Tfunction
                                                         (Tcons
                                                           (tptr (Tstruct _wormhmap noattr))
                                                           Tnil) tulong
                                                         cc_default))
                          ((Etempvar _t'6 (tptr (Tstruct _wormhmap noattr))) ::
                           nil)))
                      (Sset _v1 (Etempvar _t'7 tulong)))
                    (Ssequence
                      (Ssequence
                        (Scall (Some _t'8)
                          (Evar _wormleaf_version_load (Tfunction
                                                         (Tcons
                                                           (tptr (Tstruct _wormleaf noattr))
                                                           Tnil) tulong
                                                         cc_default))
                          ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                           nil))
                        (Sifthenelse (Ebinop Ogt (Etempvar _t'8 tulong)
                                       (Etempvar _v tulong) tint)
                          Sbreak
                          Sskip))
                      (Scall None
                        (Evar _wormhole_qsbr_update_pause (Tfunction
                                                            (Tcons
                                                              (tptr (Tstruct _wormref noattr))
                                                              (Tcons tulong
                                                                Tnil)) tvoid
                                                            cc_default))
                        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
                         (Etempvar _v1 tulong) :: nil)))))
                Sskip))))))
    Sskip))
|}.

Definition f_wormhole_jump_leaf_write := {|
  fn_return := (tptr (Tstruct _wormleaf noattr));
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_map, (tptr (Tstruct _wormhole noattr))) ::
               (_hmap, (tptr (Tstruct _wormhmap noattr))) :: (_v, tulong) ::
               (_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_v1, tulong) ::
               (_t'8, tulong) :: (_t'7, tulong) ::
               (_t'6, (tptr (Tstruct _wormhmap noattr))) :: (_t'5, tbool) ::
               (_t'4, tulong) :: (_t'3, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'2, tulong) :: (_t'1, (tptr (Tstruct _wormhmap noattr))) ::
               (_t'9, tuint) :: nil);
  fn_body :=
(Ssequence
  (Sset _map
    (Efield
      (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
        (Tstruct _wormref noattr)) _map (tptr (Tstruct _wormhole noattr))))
  (Sloop
    (Ssequence
      (Ssequence
        (Scall (Some _t'1)
          (Evar _wormhmap_load (Tfunction
                                 (Tcons (tptr (Tstruct _wormhole noattr))
                                   Tnil) (tptr (Tstruct _wormhmap noattr))
                                 cc_default))
          ((Etempvar _map (tptr (Tstruct _wormhole noattr))) :: nil))
        (Sset _hmap (Etempvar _t'1 (tptr (Tstruct _wormhmap noattr)))))
      (Ssequence
        (Ssequence
          (Scall (Some _t'2)
            (Evar _wormhmap_version_load (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormhmap noattr))
                                             Tnil) tulong cc_default))
            ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) :: nil))
          (Sset _v (Etempvar _t'2 tulong)))
        (Ssequence
          (Scall None
            (Evar _qsbr_update (Tfunction
                                 (Tcons (tptr (Tstruct _qsbr_ref noattr))
                                   (Tcons tulong Tnil)) tvoid cc_default))
            ((Eaddrof
               (Efield
                 (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
                   (Tstruct _wormref noattr)) _qref
                 (Tstruct _qsbr_ref noattr))
               (tptr (Tstruct _qsbr_ref noattr))) :: (Etempvar _v tulong) ::
             nil))
          (Ssequence
            (Ssequence
              (Scall (Some _t'3)
                (Evar _wormhole_jump_leaf (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormhmap noattr))
                                              (Tcons
                                                (tptr (Tstruct _kref noattr))
                                                Tnil))
                                            (tptr (Tstruct _wormleaf noattr))
                                            cc_default))
                ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                 (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
              (Sset _leaf (Etempvar _t'3 (tptr (Tstruct _wormleaf noattr)))))
            (Ssequence
              (Ssequence
                (Sset _t'9
                  (Efield
                    (Efield
                      (Ederef (Etempvar _key (tptr (Tstruct _kref noattr)))
                        (Tstruct _kref noattr)) 18727075383868559167%positive
                      (Tunion __6653 noattr)) _hash32 tuint))
                (Scall None
                  (Evar _wormleaf_prefetch (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _wormleaf noattr))
                                               (Tcons tuint Tnil)) tvoid
                                             cc_default))
                  ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                   (Etempvar _t'9 tuint) :: nil)))
              (Sloop
                (Ssequence
                  (Ssequence
                    (Scall (Some _t'5)
                      (Evar _rwlock_trylock_write_nr (Tfunction
                                                       (Tcons
                                                         (tptr (Tunion __6333 noattr))
                                                         (Tcons tushort Tnil))
                                                       tbool cc_default))
                      ((Eaddrof
                         (Efield
                           (Ederef
                             (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                             (Tstruct _wormleaf noattr)) _leaflock
                           (Tunion __6333 noattr))
                         (tptr (Tunion __6333 noattr))) ::
                       (Econst_int (Int.repr 64) tint) :: nil))
                    (Sifthenelse (Etempvar _t'5 tbool)
                      (Ssequence
                        (Ssequence
                          (Scall (Some _t'4)
                            (Evar _wormleaf_version_load (Tfunction
                                                           (Tcons
                                                             (tptr (Tstruct _wormleaf noattr))
                                                             Tnil) tulong
                                                           cc_default))
                            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                             nil))
                          (Sifthenelse (Ebinop Ole (Etempvar _t'4 tulong)
                                         (Etempvar _v tulong) tint)
                            (Sreturn (Some (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))))
                            Sskip))
                        (Ssequence
                          (Scall None
                            (Evar _wormleaf_unlock_write (Tfunction
                                                           (Tcons
                                                             (tptr (Tstruct _wormleaf noattr))
                                                             Tnil) tvoid
                                                           cc_default))
                            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                             nil))
                          Sbreak))
                      Sskip))
                  (Ssequence
                    (Ssequence
                      (Ssequence
                        (Scall (Some _t'6)
                          (Evar _wormhmap_load (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _wormhole noattr))
                                                   Tnil)
                                                 (tptr (Tstruct _wormhmap noattr))
                                                 cc_default))
                          ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                           nil))
                        (Scall (Some _t'7)
                          (Evar _wormhmap_version_load (Tfunction
                                                         (Tcons
                                                           (tptr (Tstruct _wormhmap noattr))
                                                           Tnil) tulong
                                                         cc_default))
                          ((Etempvar _t'6 (tptr (Tstruct _wormhmap noattr))) ::
                           nil)))
                      (Sset _v1 (Etempvar _t'7 tulong)))
                    (Ssequence
                      (Ssequence
                        (Scall (Some _t'8)
                          (Evar _wormleaf_version_load (Tfunction
                                                         (Tcons
                                                           (tptr (Tstruct _wormleaf noattr))
                                                           Tnil) tulong
                                                         cc_default))
                          ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                           nil))
                        (Sifthenelse (Ebinop Ogt (Etempvar _t'8 tulong)
                                       (Etempvar _v tulong) tint)
                          Sbreak
                          Sskip))
                      (Scall None
                        (Evar _wormhole_qsbr_update_pause (Tfunction
                                                            (Tcons
                                                              (tptr (Tstruct _wormref noattr))
                                                              (Tcons tulong
                                                                Tnil)) tvoid
                                                            cc_default))
                        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
                         (Etempvar _v1 tulong) :: nil)))))
                Sskip))))))
    Sskip))
|}.

Definition f_wormleaf_kv_at_ih := {|
  fn_return := (tptr (Tstruct _kv noattr));
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_ih, tuint) ::
                nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr tvoid)) :: (_t'2, tulong) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'2
      (Efield
        (Efield
          (Efield
            (Ederef
              (Ebinop Oadd
                (Efield
                  (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                    (Tstruct _wormleaf noattr)) _hs
                  (tarray (Tstruct _entry13__1 noattr) 128))
                (Etempvar _ih tuint) (tptr (Tstruct _entry13__1 noattr)))
              (Tstruct _entry13__1 noattr)) 18727075383868559167%positive
            (Tunion __6498 noattr)) 18727075383868559167%positive
          (Tstruct __6499 noattr)) _e3 tulong))
    (Scall (Some _t'1)
      (Evar _u64_to_ptr (Tfunction (Tcons tulong Tnil) (tptr tvoid)
                          cc_default)) ((Etempvar _t'2 tulong) :: nil)))
  (Sreturn (Some (Etempvar _t'1 (tptr tvoid)))))
|}.

Definition f_wormleaf_kv_at_is := {|
  fn_return := (tptr (Tstruct _kv noattr));
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_is, tuint) ::
                nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr tvoid)) :: (_t'3, tulong) :: (_t'2, tuchar) ::
               nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'2
      (Ederef
        (Ebinop Oadd
          (Efield
            (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
              (Tstruct _wormleaf noattr)) _ss (tarray tuchar 128))
          (Etempvar _is tuint) (tptr tuchar)) tuchar))
    (Ssequence
      (Sset _t'3
        (Efield
          (Efield
            (Efield
              (Ederef
                (Ebinop Oadd
                  (Efield
                    (Ederef
                      (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                      (Tstruct _wormleaf noattr)) _hs
                    (tarray (Tstruct _entry13__1 noattr) 128))
                  (Etempvar _t'2 tuchar) (tptr (Tstruct _entry13__1 noattr)))
                (Tstruct _entry13__1 noattr)) 18727075383868559167%positive
              (Tunion __6498 noattr)) 18727075383868559167%positive
            (Tstruct __6499 noattr)) _e3 tulong))
      (Scall (Some _t'1)
        (Evar _u64_to_ptr (Tfunction (Tcons tulong Tnil) (tptr tvoid)
                            cc_default)) ((Etempvar _t'3 tulong) :: nil))))
  (Sreturn (Some (Etempvar _t'1 (tptr tvoid)))))
|}.

Definition f_wormleaf_prefetch_ss := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_i, tuint) :: nil);
  fn_body :=
(Ssequence
  (Sset _i (Econst_int (Int.repr 0) tint))
  (Sloop
    (Ssequence
      (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                     (Econst_int (Int.repr 128) tuint) tint)
        Sskip
        Sbreak)
      (Scall None
        (Evar _cpu_prefetch0 (Tfunction (Tcons (tptr tvoid) Tnil) tvoid
                               cc_default))
        ((Ebinop Oadd
           (Efield
             (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
               (Tstruct _wormleaf noattr)) _ss (tarray tuchar 128))
           (Etempvar _i tuint) (tptr tuchar)) :: nil)))
    (Sset _i
      (Ebinop Oadd (Etempvar _i tuint) (Econst_int (Int.repr 64) tint) tuint))))
|}.

Definition f_wormleaf_kv_at_is1 := {|
  fn_return := (tptr (Tstruct _kv noattr));
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_i, tuint) ::
                (_is1, tuint) :: (_k1, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'2, (tptr (Tstruct _kv noattr))) ::
               (_t'1, (tptr (Tstruct _kv noattr))) :: (_t'5, tuint) ::
               (_t'4, tuint) :: (_t'3, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'4
      (Efield
        (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _nr_keys tuint))
    (Ssequence
      (Sset _t'5
        (Efield
          (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _nr_sorted tuint))
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Ebinop Oeq (Etempvar _t'4 tuint) (Etempvar _t'5 tuint) tint) ::
         nil))))
  (Ssequence
    (Ssequence
      (Sset _t'3
        (Efield
          (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _nr_sorted tuint))
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Ebinop Ole (Etempvar _is1 tuint) (Etempvar _t'3 tuint) tint) ::
         nil)))
    (Sifthenelse (Ebinop Olt (Etempvar _i tuint) (Etempvar _is1 tuint) tint)
      (Ssequence
        (Scall (Some _t'1)
          (Evar _wormleaf_kv_at_is (Tfunction
                                     (Tcons (tptr (Tstruct _wormleaf noattr))
                                       (Tcons tuint Tnil))
                                     (tptr (Tstruct _kv noattr)) cc_default))
          ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
           (Etempvar _i tuint) :: nil))
        (Sreturn (Some (Etempvar _t'1 (tptr (Tstruct _kv noattr))))))
      (Sifthenelse (Ebinop Ogt (Etempvar _i tuint) (Etempvar _is1 tuint)
                     tint)
        (Ssequence
          (Scall (Some _t'2)
            (Evar _wormleaf_kv_at_is (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormleaf noattr))
                                         (Tcons tuint Tnil))
                                       (tptr (Tstruct _kv noattr))
                                       cc_default))
            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
             (Ebinop Osub (Etempvar _i tuint) (Econst_int (Int.repr 1) tint)
               tuint) :: nil))
          (Sreturn (Some (Etempvar _t'2 (tptr (Tstruct _kv noattr))))))
        (Sreturn (Some (Etempvar _k1 (tptr (Tstruct _kv noattr)))))))))
|}.

Definition f_wormleaf_match_hs := {|
  fn_return := tuint;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_pkey, tushort) :: (_i0, tuint) ::
               (_hs, (tptr (Tstruct _entry13__1 noattr))) ::
               (_curr, (tptr (Tstruct _kv noattr))) :: (_i, tuint) ::
               (_curr__1, (tptr (Tstruct _kv noattr))) ::
               (_curr__2, (tptr (Tstruct _kv noattr))) :: (_t'8, tint) ::
               (_t'7, tbool) :: (_t'6, (tptr tvoid)) :: (_t'5, tbool) ::
               (_t'4, (tptr tvoid)) :: (_t'3, tbool) ::
               (_t'2, (tptr tvoid)) :: (_t'1, tushort) :: (_t'19, tuint) ::
               (_t'18, tulong) :: (_t'17, tushort) :: (_t'16, tushort) ::
               (_t'15, tulong) :: (_t'14, tushort) :: (_t'13, tushort) ::
               (_t'12, tulong) :: (_t'11, tushort) :: (_t'10, tushort) ::
               (_t'9, tushort) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'19
        (Efield
          (Efield
            (Ederef (Etempvar _key (tptr (Tstruct _kref noattr)))
              (Tstruct _kref noattr)) 18727075383868559167%positive
            (Tunion __6653 noattr)) _hash32 tuint))
      (Scall (Some _t'1)
        (Evar _wormhole_pkey (Tfunction (Tcons tuint Tnil) tushort
                               cc_default)) ((Etempvar _t'19 tuint) :: nil)))
    (Sset _pkey (Ecast (Etempvar _t'1 tushort) tushort)))
  (Ssequence
    (Sset _i0
      (Ebinop Odiv (Etempvar _pkey tushort)
        (Ebinop Odiv
          (Ebinop Oshl (Econst_int (Int.repr 1) tuint)
            (Econst_int (Int.repr 16) tint) tuint)
          (Econst_int (Int.repr 128) tuint) tuint) tuint))
    (Ssequence
      (Sset _hs
        (Efield
          (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _hs
          (tarray (Tstruct _entry13__1 noattr) 128)))
      (Ssequence
        (Ssequence
          (Sset _t'17
            (Efield
              (Efield
                (Ederef
                  (Ebinop Oadd
                    (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                    (Etempvar _i0 tuint) (tptr (Tstruct _entry13__1 noattr)))
                  (Tstruct _entry13__1 noattr)) 18727075383868559167%positive
                (Tunion __6498 noattr)) _e1 tushort))
          (Sifthenelse (Ebinop Oeq (Etempvar _t'17 tushort)
                         (Etempvar _pkey tushort) tint)
            (Ssequence
              (Ssequence
                (Ssequence
                  (Sset _t'18
                    (Efield
                      (Efield
                        (Efield
                          (Ederef
                            (Ebinop Oadd
                              (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                              (Etempvar _i0 tuint)
                              (tptr (Tstruct _entry13__1 noattr)))
                            (Tstruct _entry13__1 noattr))
                          18727075383868559167%positive
                          (Tunion __6498 noattr))
                        18727075383868559167%positive
                        (Tstruct __6499 noattr)) _e3 tulong))
                  (Scall (Some _t'2)
                    (Evar _u64_to_ptr (Tfunction (Tcons tulong Tnil)
                                        (tptr tvoid) cc_default))
                    ((Etempvar _t'18 tulong) :: nil)))
                (Sset _curr (Etempvar _t'2 (tptr tvoid))))
              (Ssequence
                (Scall (Some _t'3)
                  (Evar _wormhole_kref_kv_match (Tfunction
                                                  (Tcons
                                                    (tptr (Tstruct _kref noattr))
                                                    (Tcons
                                                      (tptr (Tstruct _kv noattr))
                                                      Tnil)) tbool
                                                  cc_default))
                  ((Etempvar _key (tptr (Tstruct _kref noattr))) ::
                   (Etempvar _curr (tptr (Tstruct _kv noattr))) :: nil))
                (Sifthenelse (Etempvar _t'3 tbool)
                  (Sreturn (Some (Etempvar _i0 tuint)))
                  Sskip)))
            Sskip))
        (Ssequence
          (Ssequence
            (Sset _t'16
              (Efield
                (Efield
                  (Ederef
                    (Ebinop Oadd
                      (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                      (Etempvar _i0 tuint)
                      (tptr (Tstruct _entry13__1 noattr)))
                    (Tstruct _entry13__1 noattr))
                  18727075383868559167%positive (Tunion __6498 noattr)) _e1
                tushort))
            (Sifthenelse (Ebinop Oeq (Etempvar _t'16 tushort)
                           (Econst_int (Int.repr 0) tint) tint)
              (Sreturn (Some (Econst_int (Int.repr 128) tuint)))
              Sskip))
          (Ssequence
            (Sset _i
              (Ebinop Osub (Etempvar _i0 tuint)
                (Econst_int (Int.repr 1) tint) tuint))
            (Ssequence
              (Swhile
                (Ebinop Olt (Etempvar _i tuint)
                  (Econst_int (Int.repr 128) tuint) tint)
                (Ssequence
                  (Ssequence
                    (Sset _t'13
                      (Efield
                        (Efield
                          (Ederef
                            (Ebinop Oadd
                              (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                              (Etempvar _i tuint)
                              (tptr (Tstruct _entry13__1 noattr)))
                            (Tstruct _entry13__1 noattr))
                          18727075383868559167%positive
                          (Tunion __6498 noattr)) _e1 tushort))
                    (Sifthenelse (Ebinop Oeq (Etempvar _t'13 tushort)
                                   (Etempvar _pkey tushort) tint)
                      (Ssequence
                        (Ssequence
                          (Ssequence
                            (Sset _t'15
                              (Efield
                                (Efield
                                  (Efield
                                    (Ederef
                                      (Ebinop Oadd
                                        (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                        (Etempvar _i tuint)
                                        (tptr (Tstruct _entry13__1 noattr)))
                                      (Tstruct _entry13__1 noattr))
                                    18727075383868559167%positive
                                    (Tunion __6498 noattr))
                                  18727075383868559167%positive
                                  (Tstruct __6499 noattr)) _e3 tulong))
                            (Scall (Some _t'4)
                              (Evar _u64_to_ptr (Tfunction
                                                  (Tcons tulong Tnil)
                                                  (tptr tvoid) cc_default))
                              ((Etempvar _t'15 tulong) :: nil)))
                          (Sset _curr__1 (Etempvar _t'4 (tptr tvoid))))
                        (Ssequence
                          (Scall (Some _t'5)
                            (Evar _wormhole_kref_kv_match (Tfunction
                                                            (Tcons
                                                              (tptr (Tstruct _kref noattr))
                                                              (Tcons
                                                                (tptr (Tstruct _kv noattr))
                                                                Tnil)) tbool
                                                            cc_default))
                            ((Etempvar _key (tptr (Tstruct _kref noattr))) ::
                             (Etempvar _curr__1 (tptr (Tstruct _kv noattr))) ::
                             nil))
                          (Sifthenelse (Etempvar _t'5 tbool)
                            (Sreturn (Some (Etempvar _i tuint)))
                            Sskip)))
                      (Ssequence
                        (Sset _t'14
                          (Efield
                            (Efield
                              (Ederef
                                (Ebinop Oadd
                                  (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                  (Etempvar _i tuint)
                                  (tptr (Tstruct _entry13__1 noattr)))
                                (Tstruct _entry13__1 noattr))
                              18727075383868559167%positive
                              (Tunion __6498 noattr)) _e1 tushort))
                        (Sifthenelse (Ebinop Olt (Etempvar _t'14 tushort)
                                       (Etempvar _pkey tushort) tint)
                          Sbreak
                          Sskip))))
                  (Sset _i
                    (Ebinop Osub (Etempvar _i tuint)
                      (Econst_int (Int.repr 1) tint) tuint))))
              (Ssequence
                (Sset _i
                  (Ebinop Oadd (Etempvar _i0 tuint)
                    (Econst_int (Int.repr 1) tint) tuint))
                (Ssequence
                  (Swhile
                    (Ebinop Olt (Etempvar _i tuint)
                      (Econst_int (Int.repr 128) tuint) tint)
                    (Ssequence
                      (Ssequence
                        (Sset _t'9
                          (Efield
                            (Efield
                              (Ederef
                                (Ebinop Oadd
                                  (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                  (Etempvar _i tuint)
                                  (tptr (Tstruct _entry13__1 noattr)))
                                (Tstruct _entry13__1 noattr))
                              18727075383868559167%positive
                              (Tunion __6498 noattr)) _e1 tushort))
                        (Sifthenelse (Ebinop Oeq (Etempvar _t'9 tushort)
                                       (Etempvar _pkey tushort) tint)
                          (Ssequence
                            (Ssequence
                              (Ssequence
                                (Sset _t'12
                                  (Efield
                                    (Efield
                                      (Efield
                                        (Ederef
                                          (Ebinop Oadd
                                            (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                            (Etempvar _i tuint)
                                            (tptr (Tstruct _entry13__1 noattr)))
                                          (Tstruct _entry13__1 noattr))
                                        18727075383868559167%positive
                                        (Tunion __6498 noattr))
                                      18727075383868559167%positive
                                      (Tstruct __6499 noattr)) _e3 tulong))
                                (Scall (Some _t'6)
                                  (Evar _u64_to_ptr (Tfunction
                                                      (Tcons tulong Tnil)
                                                      (tptr tvoid)
                                                      cc_default))
                                  ((Etempvar _t'12 tulong) :: nil)))
                              (Sset _curr__2 (Etempvar _t'6 (tptr tvoid))))
                            (Ssequence
                              (Scall (Some _t'7)
                                (Evar _wormhole_kref_kv_match (Tfunction
                                                                (Tcons
                                                                  (tptr (Tstruct _kref noattr))
                                                                  (Tcons
                                                                    (tptr (Tstruct _kv noattr))
                                                                    Tnil))
                                                                tbool
                                                                cc_default))
                                ((Etempvar _key (tptr (Tstruct _kref noattr))) ::
                                 (Etempvar _curr__2 (tptr (Tstruct _kv noattr))) ::
                                 nil))
                              (Sifthenelse (Etempvar _t'7 tbool)
                                (Sreturn (Some (Etempvar _i tuint)))
                                Sskip)))
                          (Ssequence
                            (Ssequence
                              (Sset _t'10
                                (Efield
                                  (Efield
                                    (Ederef
                                      (Ebinop Oadd
                                        (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                        (Etempvar _i tuint)
                                        (tptr (Tstruct _entry13__1 noattr)))
                                      (Tstruct _entry13__1 noattr))
                                    18727075383868559167%positive
                                    (Tunion __6498 noattr)) _e1 tushort))
                              (Sifthenelse (Ebinop Ogt
                                             (Etempvar _t'10 tushort)
                                             (Etempvar _pkey tushort) tint)
                                (Sset _t'8 (Econst_int (Int.repr 1) tint))
                                (Ssequence
                                  (Sset _t'11
                                    (Efield
                                      (Efield
                                        (Ederef
                                          (Ebinop Oadd
                                            (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                            (Etempvar _i tuint)
                                            (tptr (Tstruct _entry13__1 noattr)))
                                          (Tstruct _entry13__1 noattr))
                                        18727075383868559167%positive
                                        (Tunion __6498 noattr)) _e1 tushort))
                                  (Sset _t'8
                                    (Ecast
                                      (Ebinop Oeq (Etempvar _t'11 tushort)
                                        (Econst_int (Int.repr 0) tint) tint)
                                      tbool)))))
                            (Sifthenelse (Etempvar _t'8 tint) Sbreak Sskip))))
                      (Sset _i
                        (Ebinop Oadd (Etempvar _i tuint)
                          (Econst_int (Int.repr 1) tint) tuint))))
                  (Sreturn (Some (Econst_int (Int.repr 128) tuint))))))))))))
|}.

Definition f_wormleaf_search_ih := {|
  fn_return := tuint;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) ::
                (_e, (Tstruct _entry13__1 noattr)) :: nil);
  fn_vars := ((_e, (Tstruct _entry13__1 noattr)) ::
              (_e0, (Tstruct _entry13__1 noattr)) ::
              (_ei, (Tstruct _entry13__1 noattr)) ::
              (_ei__1, (Tstruct _entry13__1 noattr)) :: nil);
  fn_temps := ((_pkey, tushort) :: (_i0, tuint) ::
               (_hs, (tptr (Tstruct _entry13__1 noattr))) :: (_i, tuint) ::
               (_t'1, tint) :: (_t'12, tushort) :: (_t'11, tulong) ::
               (_t'10, tulong) :: (_t'9, tushort) :: (_t'8, tushort) ::
               (_t'7, tulong) :: (_t'6, tulong) :: (_t'5, tushort) ::
               (_t'4, tushort) :: (_t'3, tulong) :: (_t'2, tulong) :: nil);
  fn_body :=
(Ssequence
  (Sassign (Evar _e (Tstruct _entry13__1 noattr))
    (Etempvar _e (Tstruct _entry13__1 noattr)))
  (Ssequence
    (Ssequence
      (Sset _t'12
        (Efield
          (Efield (Evar _e (Tstruct _entry13__1 noattr))
            18727075383868559167%positive (Tunion __6498 noattr)) _e1
          tushort))
      (Sset _pkey (Ecast (Etempvar _t'12 tushort) tushort)))
    (Ssequence
      (Sset _i0
        (Ebinop Odiv (Etempvar _pkey tushort)
          (Ebinop Odiv
            (Ebinop Oshl (Econst_int (Int.repr 1) tuint)
              (Econst_int (Int.repr 16) tint) tuint)
            (Econst_int (Int.repr 128) tuint) tuint) tuint))
      (Ssequence
        (Sset _hs
          (Efield
            (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
              (Tstruct _wormleaf noattr)) _hs
            (tarray (Tstruct _entry13__1 noattr) 128)))
        (Ssequence
          (Sassign (Evar _e0 (Tstruct _entry13__1 noattr))
            (Ederef
              (Ebinop Oadd (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                (Etempvar _i0 tuint) (tptr (Tstruct _entry13__1 noattr)))
              (Tstruct _entry13__1 noattr)))
          (Ssequence
            (Ssequence
              (Sset _t'10
                (Efield
                  (Efield (Evar _e0 (Tstruct _entry13__1 noattr))
                    18727075383868559167%positive (Tunion __6498 noattr))
                  _v64 tulong))
              (Ssequence
                (Sset _t'11
                  (Efield
                    (Efield (Evar _e (Tstruct _entry13__1 noattr))
                      18727075383868559167%positive (Tunion __6498 noattr))
                    _v64 tulong))
                (Sifthenelse (Ebinop Oeq (Etempvar _t'10 tulong)
                               (Etempvar _t'11 tulong) tint)
                  (Sreturn (Some (Etempvar _i0 tuint)))
                  Sskip)))
            (Ssequence
              (Ssequence
                (Sset _t'9
                  (Efield
                    (Efield (Evar _e0 (Tstruct _entry13__1 noattr))
                      18727075383868559167%positive (Tunion __6498 noattr))
                    _e1 tushort))
                (Sifthenelse (Ebinop Oeq (Etempvar _t'9 tushort)
                               (Econst_int (Int.repr 0) tint) tint)
                  (Sreturn (Some (Econst_int (Int.repr 128) tuint)))
                  Sskip))
              (Ssequence
                (Sset _i
                  (Ebinop Osub (Etempvar _i0 tuint)
                    (Econst_int (Int.repr 1) tint) tuint))
                (Ssequence
                  (Swhile
                    (Ebinop Olt (Etempvar _i tuint)
                      (Econst_int (Int.repr 128) tuint) tint)
                    (Ssequence
                      (Sassign (Evar _ei (Tstruct _entry13__1 noattr))
                        (Ederef
                          (Ebinop Oadd
                            (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                            (Etempvar _i tuint)
                            (tptr (Tstruct _entry13__1 noattr)))
                          (Tstruct _entry13__1 noattr)))
                      (Ssequence
                        (Ssequence
                          (Sset _t'6
                            (Efield
                              (Efield (Evar _ei (Tstruct _entry13__1 noattr))
                                18727075383868559167%positive
                                (Tunion __6498 noattr)) _v64 tulong))
                          (Ssequence
                            (Sset _t'7
                              (Efield
                                (Efield
                                  (Evar _e (Tstruct _entry13__1 noattr))
                                  18727075383868559167%positive
                                  (Tunion __6498 noattr)) _v64 tulong))
                            (Sifthenelse (Ebinop Oeq (Etempvar _t'6 tulong)
                                           (Etempvar _t'7 tulong) tint)
                              (Sreturn (Some (Etempvar _i tuint)))
                              (Ssequence
                                (Sset _t'8
                                  (Efield
                                    (Efield
                                      (Evar _ei (Tstruct _entry13__1 noattr))
                                      18727075383868559167%positive
                                      (Tunion __6498 noattr)) _e1 tushort))
                                (Sifthenelse (Ebinop Olt
                                               (Etempvar _t'8 tushort)
                                               (Etempvar _pkey tushort) tint)
                                  Sbreak
                                  Sskip)))))
                        (Sset _i
                          (Ebinop Osub (Etempvar _i tuint)
                            (Econst_int (Int.repr 1) tint) tuint)))))
                  (Ssequence
                    (Sset _i
                      (Ebinop Oadd (Etempvar _i0 tuint)
                        (Econst_int (Int.repr 1) tint) tuint))
                    (Ssequence
                      (Swhile
                        (Ebinop Olt (Etempvar _i tuint)
                          (Econst_int (Int.repr 128) tuint) tint)
                        (Ssequence
                          (Sassign (Evar _ei__1 (Tstruct _entry13__1 noattr))
                            (Ederef
                              (Ebinop Oadd
                                (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                (Etempvar _i tuint)
                                (tptr (Tstruct _entry13__1 noattr)))
                              (Tstruct _entry13__1 noattr)))
                          (Ssequence
                            (Ssequence
                              (Sset _t'2
                                (Efield
                                  (Efield
                                    (Evar _ei__1 (Tstruct _entry13__1 noattr))
                                    18727075383868559167%positive
                                    (Tunion __6498 noattr)) _v64 tulong))
                              (Ssequence
                                (Sset _t'3
                                  (Efield
                                    (Efield
                                      (Evar _e (Tstruct _entry13__1 noattr))
                                      18727075383868559167%positive
                                      (Tunion __6498 noattr)) _v64 tulong))
                                (Sifthenelse (Ebinop Oeq
                                               (Etempvar _t'2 tulong)
                                               (Etempvar _t'3 tulong) tint)
                                  (Sreturn (Some (Etempvar _i tuint)))
                                  (Ssequence
                                    (Ssequence
                                      (Sset _t'4
                                        (Efield
                                          (Efield
                                            (Evar _ei__1 (Tstruct _entry13__1 noattr))
                                            18727075383868559167%positive
                                            (Tunion __6498 noattr)) _e1
                                          tushort))
                                      (Sifthenelse (Ebinop Ogt
                                                     (Etempvar _t'4 tushort)
                                                     (Etempvar _pkey tushort)
                                                     tint)
                                        (Sset _t'1
                                          (Econst_int (Int.repr 1) tint))
                                        (Ssequence
                                          (Sset _t'5
                                            (Efield
                                              (Efield
                                                (Evar _ei__1 (Tstruct _entry13__1 noattr))
                                                18727075383868559167%positive
                                                (Tunion __6498 noattr)) _e1
                                              tushort))
                                          (Sset _t'1
                                            (Ecast
                                              (Ebinop Oeq
                                                (Etempvar _t'5 tushort)
                                                (Econst_int (Int.repr 0) tint)
                                                tint) tbool)))))
                                    (Sifthenelse (Etempvar _t'1 tint)
                                      Sbreak
                                      Sskip)))))
                            (Sset _i
                              (Ebinop Oadd (Etempvar _i tuint)
                                (Econst_int (Int.repr 1) tint) tuint)))))
                      (Sreturn (Some (Econst_int (Int.repr 128) tuint))))))))))))))
|}.

Definition f_wormleaf_search_is := {|
  fn_return := tuint;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) ::
                (_ih, tuchar) :: nil);
  fn_vars := ((_i1, (Tstruct __m128 noattr)) ::
              (_sv, (Tstruct __m128 noattr)) ::
              (__res, (Tstruct __m128 noattr)) ::
              (__res__1, (Tstruct __m128 noattr)) :: nil);
  fn_temps := ((_i, tuint) :: (_mask, tuint) :: (_t'3, tint) ::
               (_t'2, tint) :: (_t'1, tint) :: (_t'4, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall None
      (Evar __mm_set1_epi8 (Tfunction
                             (Tcons (tptr (Tstruct __m128 noattr))
                               (Tcons tschar Tnil)) tvoid
                             {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
      ((Eaddrof (Evar __res__1 (Tstruct __m128 noattr))
         (tptr (Tstruct __m128 noattr))) ::
       (Ecast (Etempvar _ih tuchar) tschar) :: nil))
    (Sassign (Evar _i1 (Tstruct __m128 noattr))
      (Evar __res__1 (Tstruct __m128 noattr))))
  (Ssequence
    (Ssequence
      (Sset _i (Econst_int (Int.repr 0) tint))
      (Sloop
        (Ssequence
          (Ssequence
            (Sset _t'4
              (Efield
                (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _nr_keys tuint))
            (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                           (Etempvar _t'4 tuint) tint)
              Sskip
              Sbreak))
          (Ssequence
            (Ssequence
              (Scall None
                (Evar __mm_load_si128 (Tfunction
                                        (Tcons (tptr (Tstruct __m128 noattr))
                                          (Tcons
                                            (tptr (Tstruct __m128 noattr))
                                            Tnil)) tvoid
                                        {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
                ((Eaddrof (Evar __res (Tstruct __m128 noattr))
                   (tptr (Tstruct __m128 noattr))) ::
                 (Ecast
                   (Ebinop Oadd
                     (Efield
                       (Ederef
                         (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                         (Tstruct _wormleaf noattr)) _ss (tarray tuchar 128))
                     (Etempvar _i tuint) (tptr tuchar))
                   (tptr (Tstruct __m128 noattr))) :: nil))
              (Sassign (Evar _sv (Tstruct __m128 noattr))
                (Evar __res (Tstruct __m128 noattr))))
            (Ssequence
              (Ssequence
                (Ssequence
                  (Scall (Some _t'1)
                    (Evar __mm_cmpeq_epi8 (Tfunction Tnil tint
                                            {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
                    ((Evar _sv (Tstruct __m128 noattr)) ::
                     (Evar _i1 (Tstruct __m128 noattr)) :: nil))
                  (Scall (Some _t'2)
                    (Evar __mm_movemask_epi8 (Tfunction Tnil tint
                                               {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
                    ((Etempvar _t'1 tint) :: nil)))
                (Sset _mask (Ecast (Etempvar _t'2 tint) tuint)))
              (Sifthenelse (Etempvar _mask tuint)
                (Ssequence
                  (Scall (Some _t'3)
                    (Evar ___builtin_ctz (Tfunction (Tcons tuint Tnil) tint
                                           cc_default))
                    ((Etempvar _mask tuint) :: nil))
                  (Sreturn (Some (Ebinop Oadd (Etempvar _i tuint)
                                   (Ecast (Etempvar _t'3 tint) tuint) tuint))))
                Sskip))))
        (Sset _i
          (Ecast
            (Ebinop Oadd (Etempvar _i tuint)
              (Esizeof (Tstruct __m128 noattr) tulong) tulong) tuint))))
    (Scall None (Evar _debug_die (Tfunction Tnil tvoid cc_default)) nil)))
|}.

Definition f_wormleaf_search_ss := {|
  fn_return := tuint;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_lo, tuint) :: (_hi, tuint) :: (_i, tuint) ::
               (_curr, (tptr (Tstruct _kv noattr))) :: (_cmp, tint) ::
               (_i__1, tuint) :: (_curr__1, (tptr (Tstruct _kv noattr))) ::
               (_cmp__1, tint) :: (_t'4, tint) ::
               (_t'3, (tptr (Tstruct _kv noattr))) :: (_t'2, tint) ::
               (_t'1, (tptr (Tstruct _kv noattr))) :: (_t'6, tuchar) ::
               (_t'5, tuchar) :: nil);
  fn_body :=
(Ssequence
  (Sset _lo (Econst_int (Int.repr 0) tint))
  (Ssequence
    (Sset _hi
      (Efield
        (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _nr_sorted tuint))
    (Ssequence
      (Swhile
        (Ebinop Olt
          (Ebinop Oadd (Etempvar _lo tuint) (Econst_int (Int.repr 2) tint)
            tuint) (Etempvar _hi tuint) tint)
        (Ssequence
          (Sset _i
            (Ebinop Oshr
              (Ebinop Oadd (Etempvar _lo tuint) (Etempvar _hi tuint) tuint)
              (Econst_int (Int.repr 1) tint) tuint))
          (Ssequence
            (Ssequence
              (Scall (Some _t'1)
                (Evar _wormleaf_kv_at_is (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormleaf noattr))
                                             (Tcons tuint Tnil))
                                           (tptr (Tstruct _kv noattr))
                                           cc_default))
                ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                 (Etempvar _i tuint) :: nil))
              (Sset _curr (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
            (Ssequence
              (Scall None
                (Evar _cpu_prefetch0 (Tfunction (Tcons (tptr tvoid) Tnil)
                                       tvoid cc_default))
                ((Etempvar _curr (tptr (Tstruct _kv noattr))) :: nil))
              (Ssequence
                (Ssequence
                  (Sset _t'6
                    (Ederef
                      (Ebinop Oadd
                        (Efield
                          (Ederef
                            (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                            (Tstruct _wormleaf noattr)) _ss
                          (tarray tuchar 128))
                        (Ebinop Oshr
                          (Ebinop Oadd (Etempvar _lo tuint)
                            (Etempvar _i tuint) tuint)
                          (Econst_int (Int.repr 1) tint) tuint)
                        (tptr tuchar)) tuchar))
                  (Scall None
                    (Evar _cpu_prefetch0 (Tfunction (Tcons (tptr tvoid) Tnil)
                                           tvoid cc_default))
                    ((Ebinop Oadd
                       (Efield
                         (Ederef
                           (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                           (Tstruct _wormleaf noattr)) _hs
                         (tarray (Tstruct _entry13__1 noattr) 128))
                       (Etempvar _t'6 tuchar)
                       (tptr (Tstruct _entry13__1 noattr))) :: nil)))
                (Ssequence
                  (Ssequence
                    (Sset _t'5
                      (Ederef
                        (Ebinop Oadd
                          (Efield
                            (Ederef
                              (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                              (Tstruct _wormleaf noattr)) _ss
                            (tarray tuchar 128))
                          (Ebinop Oshr
                            (Ebinop Oadd
                              (Ebinop Oadd (Etempvar _i tuint)
                                (Econst_int (Int.repr 1) tint) tuint)
                              (Etempvar _hi tuint) tuint)
                            (Econst_int (Int.repr 1) tint) tuint)
                          (tptr tuchar)) tuchar))
                    (Scall None
                      (Evar _cpu_prefetch0 (Tfunction
                                             (Tcons (tptr tvoid) Tnil) tvoid
                                             cc_default))
                      ((Ebinop Oadd
                         (Efield
                           (Ederef
                             (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                             (Tstruct _wormleaf noattr)) _hs
                           (tarray (Tstruct _entry13__1 noattr) 128))
                         (Etempvar _t'5 tuchar)
                         (tptr (Tstruct _entry13__1 noattr))) :: nil)))
                  (Ssequence
                    (Ssequence
                      (Scall (Some _t'2)
                        (Evar _kref_kv_compare (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _kref noattr))
                                                   (Tcons
                                                     (tptr (Tstruct _kv noattr))
                                                     Tnil)) tint cc_default))
                        ((Etempvar _key (tptr (Tstruct _kref noattr))) ::
                         (Etempvar _curr (tptr (Tstruct _kv noattr))) :: nil))
                      (Sset _cmp (Etempvar _t'2 tint)))
                    (Ssequence
                      (Scall None
                        (Evar _debug_assert (Tfunction (Tcons tbool Tnil)
                                              tvoid cc_default))
                        ((Ebinop One (Etempvar _cmp tint)
                           (Econst_int (Int.repr 0) tint) tint) :: nil))
                      (Sifthenelse (Ebinop Olt (Etempvar _cmp tint)
                                     (Econst_int (Int.repr 0) tint) tint)
                        (Sset _hi (Etempvar _i tuint))
                        (Sset _lo
                          (Ebinop Oadd (Etempvar _i tuint)
                            (Econst_int (Int.repr 1) tint) tuint)))))))))))
      (Ssequence
        (Swhile
          (Ebinop Olt (Etempvar _lo tuint) (Etempvar _hi tuint) tint)
          (Ssequence
            (Sset _i__1
              (Ebinop Oshr
                (Ebinop Oadd (Etempvar _lo tuint) (Etempvar _hi tuint) tuint)
                (Econst_int (Int.repr 1) tint) tuint))
            (Ssequence
              (Ssequence
                (Scall (Some _t'3)
                  (Evar _wormleaf_kv_at_is (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _wormleaf noattr))
                                               (Tcons tuint Tnil))
                                             (tptr (Tstruct _kv noattr))
                                             cc_default))
                  ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                   (Etempvar _i__1 tuint) :: nil))
                (Sset _curr__1 (Etempvar _t'3 (tptr (Tstruct _kv noattr)))))
              (Ssequence
                (Ssequence
                  (Scall (Some _t'4)
                    (Evar _kref_kv_compare (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _kref noattr))
                                               (Tcons
                                                 (tptr (Tstruct _kv noattr))
                                                 Tnil)) tint cc_default))
                    ((Etempvar _key (tptr (Tstruct _kref noattr))) ::
                     (Etempvar _curr__1 (tptr (Tstruct _kv noattr))) :: nil))
                  (Sset _cmp__1 (Etempvar _t'4 tint)))
                (Ssequence
                  (Scall None
                    (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid
                                          cc_default))
                    ((Ebinop One (Etempvar _cmp__1 tint)
                       (Econst_int (Int.repr 0) tint) tint) :: nil))
                  (Sifthenelse (Ebinop Olt (Etempvar _cmp__1 tint)
                                 (Econst_int (Int.repr 0) tint) tint)
                    (Sset _hi (Etempvar _i__1 tuint))
                    (Sset _lo
                      (Ebinop Oadd (Etempvar _i__1 tuint)
                        (Econst_int (Int.repr 1) tint) tuint))))))))
        (Sreturn (Some (Etempvar _lo tuint)))))))
|}.

Definition f_wormleaf_seek := {|
  fn_return := tuint;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_ih, tuint) :: (_t'3, tuint) :: (_t'2, tuint) ::
               (_t'1, tuint) :: (_t'5, tuint) :: (_t'4, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'4
      (Efield
        (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _nr_sorted tuint))
    (Ssequence
      (Sset _t'5
        (Efield
          (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _nr_keys tuint))
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Ebinop Oeq (Etempvar _t'4 tuint) (Etempvar _t'5 tuint) tint) ::
         nil))))
  (Ssequence
    (Scall None
      (Evar _wormleaf_prefetch_ss (Tfunction
                                    (Tcons (tptr (Tstruct _wormleaf noattr))
                                      Tnil) tvoid cc_default))
      ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
    (Ssequence
      (Ssequence
        (Scall (Some _t'1)
          (Evar _wormleaf_match_hs (Tfunction
                                     (Tcons (tptr (Tstruct _wormleaf noattr))
                                       (Tcons (tptr (Tstruct _kref noattr))
                                         Tnil)) tuint cc_default))
          ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
           (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
        (Sset _ih (Etempvar _t'1 tuint)))
      (Sifthenelse (Ebinop Olt (Etempvar _ih tuint)
                     (Econst_int (Int.repr 128) tuint) tint)
        (Ssequence
          (Scall (Some _t'2)
            (Evar _wormleaf_search_is (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormleaf noattr))
                                          (Tcons tuchar Tnil)) tuint
                                        cc_default))
            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
             (Ecast (Etempvar _ih tuint) tuchar) :: nil))
          (Sreturn (Some (Etempvar _t'2 tuint))))
        (Ssequence
          (Scall (Some _t'3)
            (Evar _wormleaf_search_ss (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormleaf noattr))
                                          (Tcons
                                            (tptr (Tstruct _kref noattr))
                                            Tnil)) tuint cc_default))
            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
             (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
          (Sreturn (Some (Etempvar _t'3 tuint))))))))
|}.

Definition f_wormleaf_seek_end := {|
  fn_return := tuint;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_cmp, tint) :: (_t'3, tuint) :: (_t'2, tint) ::
               (_t'1, (tptr (Tstruct _kv noattr))) :: (_t'9, tuint) ::
               (_t'8, tuint) :: (_t'7, tuint) :: (_t'6, tuint) ::
               (_t'5, tuint) :: (_t'4, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'8
      (Efield
        (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _nr_keys tuint))
    (Ssequence
      (Sset _t'9
        (Efield
          (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _nr_sorted tuint))
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Ebinop Oeq (Etempvar _t'8 tuint) (Etempvar _t'9 tuint) tint) ::
         nil))))
  (Ssequence
    (Sset _t'4
      (Efield
        (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _nr_sorted tuint))
    (Sifthenelse (Etempvar _t'4 tuint)
      (Ssequence
        (Ssequence
          (Ssequence
            (Ssequence
              (Sset _t'7
                (Efield
                  (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                    (Tstruct _wormleaf noattr)) _nr_sorted tuint))
              (Scall (Some _t'1)
                (Evar _wormleaf_kv_at_is (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormleaf noattr))
                                             (Tcons tuint Tnil))
                                           (tptr (Tstruct _kv noattr))
                                           cc_default))
                ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                 (Ebinop Osub (Etempvar _t'7 tuint)
                   (Econst_int (Int.repr 1) tint) tuint) :: nil)))
            (Scall (Some _t'2)
              (Evar _kref_kv_compare (Tfunction
                                       (Tcons (tptr (Tstruct _kref noattr))
                                         (Tcons (tptr (Tstruct _kv noattr))
                                           Tnil)) tint cc_default))
              ((Etempvar _key (tptr (Tstruct _kref noattr))) ::
               (Etempvar _t'1 (tptr (Tstruct _kv noattr))) :: nil)))
          (Sset _cmp (Etempvar _t'2 tint)))
        (Sifthenelse (Ebinop Ogt (Etempvar _cmp tint)
                       (Econst_int (Int.repr 0) tint) tint)
          (Ssequence
            (Sset _t'6
              (Efield
                (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _nr_sorted tuint))
            (Sreturn (Some (Etempvar _t'6 tuint))))
          (Sifthenelse (Ebinop Oeq (Etempvar _cmp tint)
                         (Econst_int (Int.repr 0) tint) tint)
            (Ssequence
              (Sset _t'5
                (Efield
                  (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                    (Tstruct _wormleaf noattr)) _nr_sorted tuint))
              (Sreturn (Some (Ebinop Osub (Etempvar _t'5 tuint)
                               (Econst_int (Int.repr 1) tint) tuint))))
            (Ssequence
              (Scall (Some _t'3)
                (Evar _wormleaf_seek (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormleaf noattr))
                                         (Tcons (tptr (Tstruct _kref noattr))
                                           Tnil)) tuint cc_default))
                ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                 (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
              (Sreturn (Some (Etempvar _t'3 tuint)))))))
      (Sreturn (Some (Econst_int (Int.repr 0) tint))))))
|}.

Definition f_wormleaf_sort_m2 := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_n1, tuint) ::
                (_n2, tuint) :: nil);
  fn_vars := ((_et, (tarray tuchar 64)) :: nil);
  fn_temps := ((_ss, (tptr tuchar)) :: (_eo, (tptr tuchar)) ::
               (_e1, (tptr tuchar)) :: (_e2, (tptr tuchar)) ::
               (_z1, (tptr tuchar)) :: (_z2, (tptr tuchar)) ::
               (_cmp, tint) :: (_eo__1, (tptr tuchar)) ::
               (_e1__1, (tptr tuchar)) :: (_e2__1, (tptr tuchar)) ::
               (_z1__1, (tptr tuchar)) :: (_z2__1, (tptr tuchar)) ::
               (_cmp__1, tint) :: (_t'17, (tptr tuchar)) ::
               (_t'16, (tptr tuchar)) :: (_t'15, (tptr tuchar)) ::
               (_t'14, (tptr tuchar)) :: (_t'13, tint) ::
               (_t'12, (tptr (Tstruct _kv noattr))) ::
               (_t'11, (tptr (Tstruct _kv noattr))) :: (_t'10, tint) ::
               (_t'9, (tptr tuchar)) :: (_t'8, (tptr tuchar)) ::
               (_t'7, (tptr tuchar)) :: (_t'6, (tptr tuchar)) ::
               (_t'5, tint) :: (_t'4, (tptr (Tstruct _kv noattr))) ::
               (_t'3, (tptr (Tstruct _kv noattr))) :: (_t'2, tint) ::
               (_t'1, tint) :: (_t'25, tuchar) :: (_t'24, tuchar) ::
               (_t'23, tuchar) :: (_t'22, tuchar) :: (_t'21, tuchar) ::
               (_t'20, tuchar) :: (_t'19, tuchar) :: (_t'18, tuchar) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sifthenelse (Ebinop Oeq (Etempvar _n1 tuint)
                   (Econst_int (Int.repr 0) tint) tint)
      (Sset _t'1 (Econst_int (Int.repr 1) tint))
      (Sset _t'1
        (Ecast
          (Ebinop Oeq (Etempvar _n2 tuint) (Econst_int (Int.repr 0) tint)
            tint) tbool)))
    (Sifthenelse (Etempvar _t'1 tint) (Sreturn None) Sskip))
  (Ssequence
    (Sset _ss
      (Efield
        (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _ss (tarray tuchar 128)))
    (Sifthenelse (Ebinop Ole (Etempvar _n1 tuint) (Etempvar _n2 tuint) tint)
      (Ssequence
        (Scall None
          (Evar _memcpy (Tfunction
                          (Tcons (tptr tvoid)
                            (Tcons (tptr tvoid) (Tcons tulong Tnil)))
                          (tptr tvoid) cc_default))
          ((Evar _et (tarray tuchar 64)) ::
           (Ebinop Oadd (Etempvar _ss (tptr tuchar))
             (Econst_int (Int.repr 0) tint) (tptr tuchar)) ::
           (Ebinop Omul (Esizeof tuchar tulong) (Etempvar _n1 tuint) tulong) ::
           nil))
        (Ssequence
          (Sset _eo (Etempvar _ss (tptr tuchar)))
          (Ssequence
            (Sset _e1 (Evar _et (tarray tuchar 64)))
            (Ssequence
              (Sset _e2
                (Ebinop Oadd (Etempvar _ss (tptr tuchar))
                  (Etempvar _n1 tuint) (tptr tuchar)))
              (Ssequence
                (Sset _z1
                  (Ebinop Oadd (Etempvar _e1 (tptr tuchar))
                    (Etempvar _n1 tuint) (tptr tuchar)))
                (Ssequence
                  (Sset _z2
                    (Ebinop Oadd (Etempvar _e2 (tptr tuchar))
                      (Etempvar _n2 tuint) (tptr tuchar)))
                  (Ssequence
                    (Sloop
                      (Ssequence
                        (Ssequence
                          (Sifthenelse (Ebinop Olt
                                         (Etempvar _e1 (tptr tuchar))
                                         (Etempvar _z1 (tptr tuchar)) tint)
                            (Sset _t'2
                              (Ecast
                                (Ebinop Olt (Etempvar _e2 (tptr tuchar))
                                  (Etempvar _z2 (tptr tuchar)) tint) tbool))
                            (Sset _t'2 (Econst_int (Int.repr 0) tint)))
                          (Sifthenelse (Etempvar _t'2 tint) Sskip Sbreak))
                        (Ssequence
                          (Ssequence
                            (Ssequence
                              (Ssequence
                                (Ssequence
                                  (Sset _t'25
                                    (Ederef (Etempvar _e1 (tptr tuchar))
                                      tuchar))
                                  (Scall (Some _t'3)
                                    (Evar _wormleaf_kv_at_ih (Tfunction
                                                               (Tcons
                                                                 (tptr (Tstruct _wormleaf noattr))
                                                                 (Tcons tuint
                                                                   Tnil))
                                                               (tptr (Tstruct _kv noattr))
                                                               cc_default))
                                    ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                                     (Etempvar _t'25 tuchar) :: nil)))
                                (Ssequence
                                  (Sset _t'24
                                    (Ederef (Etempvar _e2 (tptr tuchar))
                                      tuchar))
                                  (Scall (Some _t'4)
                                    (Evar _wormleaf_kv_at_ih (Tfunction
                                                               (Tcons
                                                                 (tptr (Tstruct _wormleaf noattr))
                                                                 (Tcons tuint
                                                                   Tnil))
                                                               (tptr (Tstruct _kv noattr))
                                                               cc_default))
                                    ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                                     (Etempvar _t'24 tuchar) :: nil))))
                              (Scall (Some _t'5)
                                (Evar _kv_compare (Tfunction
                                                    (Tcons
                                                      (tptr (Tstruct _kv noattr))
                                                      (Tcons
                                                        (tptr (Tstruct _kv noattr))
                                                        Tnil)) tint
                                                    cc_default))
                                ((Etempvar _t'3 (tptr (Tstruct _kv noattr))) ::
                                 (Etempvar _t'4 (tptr (Tstruct _kv noattr))) ::
                                 nil)))
                            (Sset _cmp (Etempvar _t'5 tint)))
                          (Ssequence
                            (Sifthenelse (Ebinop Olt (Etempvar _cmp tint)
                                           (Econst_int (Int.repr 0) tint)
                                           tint)
                              (Ssequence
                                (Ssequence
                                  (Ssequence
                                    (Ssequence
                                      (Sset _t'6
                                        (Etempvar _eo (tptr tuchar)))
                                      (Sset _eo
                                        (Ebinop Oadd
                                          (Etempvar _t'6 (tptr tuchar))
                                          (Econst_int (Int.repr 1) tint)
                                          (tptr tuchar))))
                                    (Sset _t'7 (Etempvar _e1 (tptr tuchar))))
                                  (Sset _e1
                                    (Ebinop Oadd
                                      (Etempvar _t'7 (tptr tuchar))
                                      (Econst_int (Int.repr 1) tint)
                                      (tptr tuchar))))
                                (Ssequence
                                  (Sset _t'23
                                    (Ederef (Etempvar _t'7 (tptr tuchar))
                                      tuchar))
                                  (Sassign
                                    (Ederef (Etempvar _t'6 (tptr tuchar))
                                      tuchar) (Etempvar _t'23 tuchar))))
                              (Sifthenelse (Ebinop Ogt (Etempvar _cmp tint)
                                             (Econst_int (Int.repr 0) tint)
                                             tint)
                                (Ssequence
                                  (Ssequence
                                    (Ssequence
                                      (Ssequence
                                        (Sset _t'8
                                          (Etempvar _eo (tptr tuchar)))
                                        (Sset _eo
                                          (Ebinop Oadd
                                            (Etempvar _t'8 (tptr tuchar))
                                            (Econst_int (Int.repr 1) tint)
                                            (tptr tuchar))))
                                      (Sset _t'9
                                        (Etempvar _e2 (tptr tuchar))))
                                    (Sset _e2
                                      (Ebinop Oadd
                                        (Etempvar _t'9 (tptr tuchar))
                                        (Econst_int (Int.repr 1) tint)
                                        (tptr tuchar))))
                                  (Ssequence
                                    (Sset _t'22
                                      (Ederef (Etempvar _t'9 (tptr tuchar))
                                        tuchar))
                                    (Sassign
                                      (Ederef (Etempvar _t'8 (tptr tuchar))
                                        tuchar) (Etempvar _t'22 tuchar))))
                                (Scall None
                                  (Evar _debug_die (Tfunction Tnil tvoid
                                                     cc_default)) nil)))
                            (Sifthenelse (Ebinop Oeq
                                           (Etempvar _eo (tptr tuchar))
                                           (Etempvar _e2 (tptr tuchar)) tint)
                              Sbreak
                              Sskip))))
                      Sskip)
                    (Sifthenelse (Ebinop Olt (Etempvar _eo (tptr tuchar))
                                   (Etempvar _e2 (tptr tuchar)) tint)
                      (Scall None
                        (Evar _memcpy (Tfunction
                                        (Tcons (tptr tvoid)
                                          (Tcons (tptr tvoid)
                                            (Tcons tulong Tnil)))
                                        (tptr tvoid) cc_default))
                        ((Etempvar _eo (tptr tuchar)) ::
                         (Etempvar _e1 (tptr tuchar)) ::
                         (Ebinop Omul (Esizeof tuchar tulong)
                           (Ecast
                             (Ebinop Osub (Etempvar _e2 (tptr tuchar))
                               (Etempvar _eo (tptr tuchar)) tlong) tulong)
                           tulong) :: nil))
                      Sskip))))))))
      (Ssequence
        (Scall None
          (Evar _memcpy (Tfunction
                          (Tcons (tptr tvoid)
                            (Tcons (tptr tvoid) (Tcons tulong Tnil)))
                          (tptr tvoid) cc_default))
          ((Evar _et (tarray tuchar 64)) ::
           (Ebinop Oadd (Etempvar _ss (tptr tuchar)) (Etempvar _n1 tuint)
             (tptr tuchar)) ::
           (Ebinop Omul (Esizeof tuchar tulong) (Etempvar _n2 tuint) tulong) ::
           nil))
        (Ssequence
          (Sset _eo__1
            (Ebinop Oadd (Etempvar _ss (tptr tuchar))
              (Ebinop Osub
                (Ebinop Oadd (Etempvar _n1 tuint) (Etempvar _n2 tuint) tuint)
                (Econst_int (Int.repr 1) tint) tuint) (tptr tuchar)))
          (Ssequence
            (Sset _e1__1
              (Ebinop Oadd (Etempvar _ss (tptr tuchar))
                (Ebinop Osub (Etempvar _n1 tuint)
                  (Econst_int (Int.repr 1) tint) tuint) (tptr tuchar)))
            (Ssequence
              (Sset _e2__1
                (Ebinop Oadd (Evar _et (tarray tuchar 64))
                  (Ebinop Osub (Etempvar _n2 tuint)
                    (Econst_int (Int.repr 1) tint) tuint) (tptr tuchar)))
              (Ssequence
                (Sset _z1__1
                  (Ebinop Osub (Etempvar _e1__1 (tptr tuchar))
                    (Etempvar _n1 tuint) (tptr tuchar)))
                (Ssequence
                  (Sset _z2__1
                    (Ebinop Osub (Etempvar _e2__1 (tptr tuchar))
                      (Etempvar _n2 tuint) (tptr tuchar)))
                  (Ssequence
                    (Sloop
                      (Ssequence
                        (Ssequence
                          (Sifthenelse (Ebinop Ogt
                                         (Etempvar _e1__1 (tptr tuchar))
                                         (Etempvar _z1__1 (tptr tuchar))
                                         tint)
                            (Sset _t'10
                              (Ecast
                                (Ebinop Ogt (Etempvar _e2__1 (tptr tuchar))
                                  (Etempvar _z2__1 (tptr tuchar)) tint)
                                tbool))
                            (Sset _t'10 (Econst_int (Int.repr 0) tint)))
                          (Sifthenelse (Etempvar _t'10 tint) Sskip Sbreak))
                        (Ssequence
                          (Ssequence
                            (Ssequence
                              (Ssequence
                                (Ssequence
                                  (Sset _t'21
                                    (Ederef (Etempvar _e1__1 (tptr tuchar))
                                      tuchar))
                                  (Scall (Some _t'11)
                                    (Evar _wormleaf_kv_at_ih (Tfunction
                                                               (Tcons
                                                                 (tptr (Tstruct _wormleaf noattr))
                                                                 (Tcons tuint
                                                                   Tnil))
                                                               (tptr (Tstruct _kv noattr))
                                                               cc_default))
                                    ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                                     (Etempvar _t'21 tuchar) :: nil)))
                                (Ssequence
                                  (Sset _t'20
                                    (Ederef (Etempvar _e2__1 (tptr tuchar))
                                      tuchar))
                                  (Scall (Some _t'12)
                                    (Evar _wormleaf_kv_at_ih (Tfunction
                                                               (Tcons
                                                                 (tptr (Tstruct _wormleaf noattr))
                                                                 (Tcons tuint
                                                                   Tnil))
                                                               (tptr (Tstruct _kv noattr))
                                                               cc_default))
                                    ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                                     (Etempvar _t'20 tuchar) :: nil))))
                              (Scall (Some _t'13)
                                (Evar _kv_compare (Tfunction
                                                    (Tcons
                                                      (tptr (Tstruct _kv noattr))
                                                      (Tcons
                                                        (tptr (Tstruct _kv noattr))
                                                        Tnil)) tint
                                                    cc_default))
                                ((Etempvar _t'11 (tptr (Tstruct _kv noattr))) ::
                                 (Etempvar _t'12 (tptr (Tstruct _kv noattr))) ::
                                 nil)))
                            (Sset _cmp__1 (Etempvar _t'13 tint)))
                          (Ssequence
                            (Sifthenelse (Ebinop Olt (Etempvar _cmp__1 tint)
                                           (Econst_int (Int.repr 0) tint)
                                           tint)
                              (Ssequence
                                (Ssequence
                                  (Ssequence
                                    (Ssequence
                                      (Sset _t'14
                                        (Etempvar _eo__1 (tptr tuchar)))
                                      (Sset _eo__1
                                        (Ebinop Osub
                                          (Etempvar _t'14 (tptr tuchar))
                                          (Econst_int (Int.repr 1) tint)
                                          (tptr tuchar))))
                                    (Sset _t'15
                                      (Etempvar _e2__1 (tptr tuchar))))
                                  (Sset _e2__1
                                    (Ebinop Osub
                                      (Etempvar _t'15 (tptr tuchar))
                                      (Econst_int (Int.repr 1) tint)
                                      (tptr tuchar))))
                                (Ssequence
                                  (Sset _t'19
                                    (Ederef (Etempvar _t'15 (tptr tuchar))
                                      tuchar))
                                  (Sassign
                                    (Ederef (Etempvar _t'14 (tptr tuchar))
                                      tuchar) (Etempvar _t'19 tuchar))))
                              (Sifthenelse (Ebinop Ogt
                                             (Etempvar _cmp__1 tint)
                                             (Econst_int (Int.repr 0) tint)
                                             tint)
                                (Ssequence
                                  (Ssequence
                                    (Ssequence
                                      (Ssequence
                                        (Sset _t'16
                                          (Etempvar _eo__1 (tptr tuchar)))
                                        (Sset _eo__1
                                          (Ebinop Osub
                                            (Etempvar _t'16 (tptr tuchar))
                                            (Econst_int (Int.repr 1) tint)
                                            (tptr tuchar))))
                                      (Sset _t'17
                                        (Etempvar _e1__1 (tptr tuchar))))
                                    (Sset _e1__1
                                      (Ebinop Osub
                                        (Etempvar _t'17 (tptr tuchar))
                                        (Econst_int (Int.repr 1) tint)
                                        (tptr tuchar))))
                                  (Ssequence
                                    (Sset _t'18
                                      (Ederef (Etempvar _t'17 (tptr tuchar))
                                        tuchar))
                                    (Sassign
                                      (Ederef (Etempvar _t'16 (tptr tuchar))
                                        tuchar) (Etempvar _t'18 tuchar))))
                                (Scall None
                                  (Evar _debug_die (Tfunction Tnil tvoid
                                                     cc_default)) nil)))
                            (Sifthenelse (Ebinop Oeq
                                           (Etempvar _eo__1 (tptr tuchar))
                                           (Etempvar _e1__1 (tptr tuchar))
                                           tint)
                              Sbreak
                              Sskip))))
                      Sskip)
                    (Sifthenelse (Ebinop Ogt (Etempvar _eo__1 (tptr tuchar))
                                   (Etempvar _e1__1 (tptr tuchar)) tint)
                      (Scall None
                        (Evar _memcpy (Tfunction
                                        (Tcons (tptr tvoid)
                                          (Tcons (tptr tvoid)
                                            (Tcons tulong Tnil)))
                                        (tptr tvoid) cc_default))
                        ((Ebinop Oadd (Etempvar _e1__1 (tptr tuchar))
                           (Econst_int (Int.repr 1) tint) (tptr tuchar)) ::
                         (Evar _et (tarray tuchar 64)) ::
                         (Ebinop Omul (Esizeof tuchar tulong)
                           (Ecast
                             (Ebinop Osub (Etempvar _eo__1 (tptr tuchar))
                               (Etempvar _e1__1 (tptr tuchar)) tlong) tulong)
                           tulong) :: nil))
                      Sskip)))))))))))
|}.

Definition f_wormleaf_ss_cmp := {|
  fn_return := tint;
  fn_callconv := cc_default;
  fn_params := ((_p1, (tptr tvoid)) :: (_p2, (tptr tvoid)) ::
                (_priv, (tptr tvoid)) :: nil);
  fn_vars := nil;
  fn_temps := ((_k1, (tptr (Tstruct _kv noattr))) ::
               (_k2, (tptr (Tstruct _kv noattr))) :: (_t'3, tint) ::
               (_t'2, (tptr (Tstruct _kv noattr))) ::
               (_t'1, (tptr (Tstruct _kv noattr))) :: (_t'5, tuchar) ::
               (_t'4, tuchar) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'5
        (Ederef (Ecast (Etempvar _p1 (tptr tvoid)) (tptr tuchar)) tuchar))
      (Scall (Some _t'1)
        (Evar _wormleaf_kv_at_ih (Tfunction
                                   (Tcons (tptr (Tstruct _wormleaf noattr))
                                     (Tcons tuint Tnil))
                                   (tptr (Tstruct _kv noattr)) cc_default))
        ((Etempvar _priv (tptr tvoid)) :: (Etempvar _t'5 tuchar) :: nil)))
    (Sset _k1 (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
  (Ssequence
    (Ssequence
      (Ssequence
        (Sset _t'4
          (Ederef (Ecast (Etempvar _p2 (tptr tvoid)) (tptr tuchar)) tuchar))
        (Scall (Some _t'2)
          (Evar _wormleaf_kv_at_ih (Tfunction
                                     (Tcons (tptr (Tstruct _wormleaf noattr))
                                       (Tcons tuint Tnil))
                                     (tptr (Tstruct _kv noattr)) cc_default))
          ((Etempvar _priv (tptr tvoid)) :: (Etempvar _t'4 tuchar) :: nil)))
      (Sset _k2 (Etempvar _t'2 (tptr (Tstruct _kv noattr)))))
    (Ssequence
      (Scall (Some _t'3)
        (Evar _kv_compare (Tfunction
                            (Tcons (tptr (Tstruct _kv noattr))
                              (Tcons (tptr (Tstruct _kv noattr)) Tnil)) tint
                            cc_default))
        ((Etempvar _k1 (tptr (Tstruct _kv noattr))) ::
         (Etempvar _k2 (tptr (Tstruct _kv noattr))) :: nil))
      (Sreturn (Some (Etempvar _t'3 tint))))))
|}.

Definition f_wormleaf_sort_range := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_i0, tuint) ::
                (_nr, tuint) :: nil);
  fn_vars := nil;
  fn_temps := nil;
  fn_body :=
(Scall None
  (Evar _qsort_r (Tfunction
                   (Tcons (tptr tvoid)
                     (Tcons tulong
                       (Tcons tulong
                         (Tcons
                           (tptr (Tfunction
                                   (Tcons (tptr tvoid)
                                     (Tcons (tptr tvoid)
                                       (Tcons (tptr tvoid) Tnil))) tint
                                   cc_default)) (Tcons (tptr tvoid) Tnil)))))
                   tvoid cc_default))
  ((Ebinop Oadd
     (Efield
       (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
         (Tstruct _wormleaf noattr)) _ss (tarray tuchar 128))
     (Etempvar _i0 tuint) (tptr tuchar)) :: (Etempvar _nr tuint) ::
   (Esizeof tuchar tulong) ::
   (Evar _wormleaf_ss_cmp (Tfunction
                            (Tcons (tptr tvoid)
                              (Tcons (tptr tvoid) (Tcons (tptr tvoid) Tnil)))
                            tint cc_default)) ::
   (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
|}.

Definition f_wormleaf_sync_sorted := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_s, tuint) :: (_n, tuint) :: nil);
  fn_body :=
(Ssequence
  (Sset _s
    (Efield
      (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
        (Tstruct _wormleaf noattr)) _nr_sorted tuint))
  (Ssequence
    (Sset _n
      (Efield
        (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _nr_keys tuint))
    (Ssequence
      (Sifthenelse (Ebinop Oeq (Etempvar _s tuint) (Etempvar _n tuint) tint)
        (Sreturn None)
        Sskip)
      (Ssequence
        (Scall None
          (Evar _wormleaf_sort_range (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormleaf noattr))
                                         (Tcons tuint (Tcons tuint Tnil)))
                                       tvoid cc_default))
          ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
           (Etempvar _s tuint) ::
           (Ebinop Osub (Etempvar _n tuint) (Etempvar _s tuint) tuint) ::
           nil))
        (Ssequence
          (Scall None
            (Evar _wormleaf_sort_m2 (Tfunction
                                      (Tcons
                                        (tptr (Tstruct _wormleaf noattr))
                                        (Tcons tuint (Tcons tuint Tnil)))
                                      tvoid cc_default))
            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
             (Etempvar _s tuint) ::
             (Ebinop Osub (Etempvar _n tuint) (Etempvar _s tuint) tuint) ::
             nil))
          (Sassign
            (Efield
              (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                (Tstruct _wormleaf noattr)) _nr_sorted tuint)
            (Etempvar _n tuint)))))))
|}.

Definition f_wormleaf_shift_inc := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_to, tuint) ::
                (_from, tuint) :: (_nr, tuint) :: nil);
  fn_vars := ((_ones, (Tstruct __m128 noattr)) ::
              (_addx, (Tstruct __m128 noattr)) ::
              (_cmpx, (Tstruct __m128 noattr)) ::
              (_sv, (Tstruct __m128 noattr)) ::
              (_add1, (Tstruct __m128 noattr)) ::
              (__res, (Tstruct __m128 noattr)) ::
              (__res__1, (Tstruct __m128 noattr)) ::
              (__res__2, (Tstruct __m128 noattr)) ::
              (__res__3, (Tstruct __m128 noattr)) ::
              (__res__4, (Tstruct __m128 noattr)) ::
              (__res__5, (Tstruct __m128 noattr)) ::
              (__res__6, (Tstruct __m128 noattr)) ::
              (__res__7, (Tstruct __m128 noattr)) :: nil);
  fn_temps := ((_hs, (tptr (Tstruct _entry13__1 noattr))) :: (_i, tuint) ::
               (_t'1, tuint) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
    ((Ebinop Oeq (Etempvar _to tuint)
       (Ebinop Oadd (Etempvar _from tuint) (Econst_int (Int.repr 1) tint)
         tuint) tint) :: nil))
  (Ssequence
    (Sset _hs
      (Efield
        (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _hs
        (tarray (Tstruct _entry13__1 noattr) 128)))
    (Ssequence
      (Scall None
        (Evar _memmove (Tfunction
                         (Tcons (tptr tvoid)
                           (Tcons (tptr tvoid) (Tcons tulong Tnil)))
                         (tptr tvoid) cc_default))
        ((Ebinop Oadd (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
           (Etempvar _to tuint) (tptr (Tstruct _entry13__1 noattr))) ::
         (Ebinop Oadd (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
           (Etempvar _from tuint) (tptr (Tstruct _entry13__1 noattr))) ::
         (Ebinop Omul (Esizeof (Tstruct _entry13__1 noattr) tulong)
           (Etempvar _nr tuint) tulong) :: nil))
      (Ssequence
        (Ssequence
          (Scall None
            (Evar __mm_set1_epi8 (Tfunction
                                   (Tcons (tptr (Tstruct __m128 noattr))
                                     (Tcons tschar Tnil)) tvoid
                                   {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
            ((Eaddrof (Evar __res__7 (Tstruct __m128 noattr))
               (tptr (Tstruct __m128 noattr))) ::
             (Econst_int (Int.repr 1) tint) :: nil))
          (Sassign (Evar _ones (Tstruct __m128 noattr))
            (Evar __res__7 (Tstruct __m128 noattr))))
        (Ssequence
          (Ssequence
            (Scall None
              (Evar __mm_set1_epi8 (Tfunction
                                     (Tcons (tptr (Tstruct __m128 noattr))
                                       (Tcons tschar Tnil)) tvoid
                                     {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
              ((Eaddrof (Evar __res__6 (Tstruct __m128 noattr))
                 (tptr (Tstruct __m128 noattr))) ::
               (Ecast
                 (Ecast
                   (Ebinop Osub
                     (Ebinop Osub
                       (Ebinop Oadd (Econst_int (Int.repr 127) tint)
                         (Econst_int (Int.repr 1) tint) tint)
                       (Etempvar _from tuint) tuint) (Etempvar _nr tuint)
                     tuint) tuchar) tschar) :: nil))
            (Sassign (Evar _addx (Tstruct __m128 noattr))
              (Evar __res__6 (Tstruct __m128 noattr))))
          (Ssequence
            (Ssequence
              (Scall None
                (Evar __mm_set1_epi8 (Tfunction
                                       (Tcons (tptr (Tstruct __m128 noattr))
                                         (Tcons tschar Tnil)) tvoid
                                       {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
                ((Eaddrof (Evar __res__5 (Tstruct __m128 noattr))
                   (tptr (Tstruct __m128 noattr))) ::
                 (Ecast
                   (Ecast
                     (Ebinop Osub (Econst_int (Int.repr 127) tint)
                       (Etempvar _nr tuint) tuint) tuchar) tschar) :: nil))
              (Sassign (Evar _cmpx (Tstruct __m128 noattr))
                (Evar __res__5 (Tstruct __m128 noattr))))
            (Ssequence
              (Sset _i (Econst_int (Int.repr 0) tint))
              (Sloop
                (Ssequence
                  (Ssequence
                    (Sset _t'1
                      (Efield
                        (Ederef
                          (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                          (Tstruct _wormleaf noattr)) _nr_keys tuint))
                    (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                                   (Etempvar _t'1 tuint) tint)
                      Sskip
                      Sbreak))
                  (Ssequence
                    (Ssequence
                      (Scall None
                        (Evar __mm_load_si128 (Tfunction
                                                (Tcons
                                                  (tptr (Tstruct __m128 noattr))
                                                  (Tcons
                                                    (tptr (Tstruct __m128 noattr))
                                                    Tnil)) tvoid
                                                {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
                        ((Eaddrof (Evar __res__4 (Tstruct __m128 noattr))
                           (tptr (Tstruct __m128 noattr))) ::
                         (Ecast
                           (Ebinop Oadd
                             (Efield
                               (Ederef
                                 (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                                 (Tstruct _wormleaf noattr)) _ss
                               (tarray tuchar 128)) (Etempvar _i tuint)
                             (tptr tuchar)) (tptr (Tstruct __m128 noattr))) ::
                         nil))
                      (Sassign (Evar _sv (Tstruct __m128 noattr))
                        (Evar __res__4 (Tstruct __m128 noattr))))
                    (Ssequence
                      (Ssequence
                        (Ssequence
                          (Ssequence
                            (Scall None
                              (Evar __mm_add_epi8 (Tfunction
                                                    (Tcons
                                                      (tptr (Tstruct __m128 noattr))
                                                      (Tcons
                                                        (Tstruct __m128 noattr)
                                                        (Tcons
                                                          (Tstruct __m128 noattr)
                                                          Tnil))) tvoid
                                                    {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
                              ((Eaddrof
                                 (Evar __res__1 (Tstruct __m128 noattr))
                                 (tptr (Tstruct __m128 noattr))) ::
                               (Evar _sv (Tstruct __m128 noattr)) ::
                               (Evar _addx (Tstruct __m128 noattr)) :: nil))
                            (Scall None
                              (Evar __mm_cmpgt_epi8 (Tfunction
                                                      (Tcons
                                                        (tptr (Tstruct __m128 noattr))
                                                        (Tcons
                                                          (Tstruct __m128 noattr)
                                                          (Tcons
                                                            (Tstruct __m128 noattr)
                                                            Tnil))) tvoid
                                                      {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
                              ((Eaddrof
                                 (Evar __res__2 (Tstruct __m128 noattr))
                                 (tptr (Tstruct __m128 noattr))) ::
                               (Evar __res__1 (Tstruct __m128 noattr)) ::
                               (Evar _cmpx (Tstruct __m128 noattr)) :: nil)))
                          (Scall None
                            (Evar __mm_and_si128 (Tfunction
                                                   (Tcons
                                                     (tptr (Tstruct __m128 noattr))
                                                     (Tcons
                                                       (Tstruct __m128 noattr)
                                                       (Tcons
                                                         (Tstruct __m128 noattr)
                                                         Tnil))) tvoid
                                                   {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
                            ((Eaddrof (Evar __res__3 (Tstruct __m128 noattr))
                               (tptr (Tstruct __m128 noattr))) ::
                             (Evar __res__2 (Tstruct __m128 noattr)) ::
                             (Evar _ones (Tstruct __m128 noattr)) :: nil)))
                        (Sassign (Evar _add1 (Tstruct __m128 noattr))
                          (Evar __res__3 (Tstruct __m128 noattr))))
                      (Ssequence
                        (Scall None
                          (Evar __mm_add_epi8 (Tfunction
                                                (Tcons
                                                  (tptr (Tstruct __m128 noattr))
                                                  (Tcons
                                                    (Tstruct __m128 noattr)
                                                    (Tcons
                                                      (Tstruct __m128 noattr)
                                                      Tnil))) tvoid
                                                {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
                          ((Eaddrof (Evar __res (Tstruct __m128 noattr))
                             (tptr (Tstruct __m128 noattr))) ::
                           (Evar _sv (Tstruct __m128 noattr)) ::
                           (Evar _add1 (Tstruct __m128 noattr)) :: nil))
                        (Scall None
                          (Evar __mm_store_si128 (Tfunction Tnil tint
                                                   {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
                          ((Ecast
                             (Ebinop Oadd
                               (Efield
                                 (Ederef
                                   (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                                   (Tstruct _wormleaf noattr)) _ss
                                 (tarray tuchar 128)) (Etempvar _i tuint)
                               (tptr tuchar)) (tptr (Tstruct __m128 noattr))) ::
                           (Evar __res (Tstruct __m128 noattr)) :: nil))))))
                (Sset _i
                  (Ecast
                    (Ebinop Oadd (Etempvar _i tuint)
                      (Esizeof (Tstruct __m128 noattr) tulong) tulong) tuint))))))))))
|}.

Definition f_wormleaf_shift_dec := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_to, tuint) ::
                (_from, tuint) :: (_nr, tuint) :: nil);
  fn_vars := ((_ones, (Tstruct __m128 noattr)) ::
              (_addx, (Tstruct __m128 noattr)) ::
              (_cmpx, (Tstruct __m128 noattr)) ::
              (_sv, (Tstruct __m128 noattr)) ::
              (_add1, (Tstruct __m128 noattr)) ::
              (__res, (Tstruct __m128 noattr)) ::
              (__res__1, (Tstruct __m128 noattr)) ::
              (__res__2, (Tstruct __m128 noattr)) ::
              (__res__3, (Tstruct __m128 noattr)) ::
              (__res__4, (Tstruct __m128 noattr)) ::
              (__res__5, (Tstruct __m128 noattr)) ::
              (__res__6, (Tstruct __m128 noattr)) :: nil);
  fn_temps := ((_hs, (tptr (Tstruct _entry13__1 noattr))) :: (_i, tuint) ::
               (_t'1, tint) :: (_t'2, tuint) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
    ((Ebinop Oeq (Etempvar _to tuint)
       (Ebinop Osub (Etempvar _from tuint) (Econst_int (Int.repr 1) tint)
         tuint) tint) :: nil))
  (Ssequence
    (Sset _hs
      (Efield
        (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _hs
        (tarray (Tstruct _entry13__1 noattr) 128)))
    (Ssequence
      (Scall None
        (Evar _memmove (Tfunction
                         (Tcons (tptr tvoid)
                           (Tcons (tptr tvoid) (Tcons tulong Tnil)))
                         (tptr tvoid) cc_default))
        ((Ebinop Oadd (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
           (Etempvar _to tuint) (tptr (Tstruct _entry13__1 noattr))) ::
         (Ebinop Oadd (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
           (Etempvar _from tuint) (tptr (Tstruct _entry13__1 noattr))) ::
         (Ebinop Omul (Esizeof (Tstruct _entry13__1 noattr) tulong)
           (Etempvar _nr tuint) tulong) :: nil))
      (Ssequence
        (Ssequence
          (Scall None
            (Evar __mm_set1_epi8 (Tfunction
                                   (Tcons (tptr (Tstruct __m128 noattr))
                                     (Tcons tschar Tnil)) tvoid
                                   {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
            ((Eaddrof (Evar __res__6 (Tstruct __m128 noattr))
               (tptr (Tstruct __m128 noattr))) ::
             (Econst_int (Int.repr 1) tint) :: nil))
          (Sassign (Evar _ones (Tstruct __m128 noattr))
            (Evar __res__6 (Tstruct __m128 noattr))))
        (Ssequence
          (Ssequence
            (Scall None
              (Evar __mm_set1_epi8 (Tfunction
                                     (Tcons (tptr (Tstruct __m128 noattr))
                                       (Tcons tschar Tnil)) tvoid
                                     {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
              ((Eaddrof (Evar __res__5 (Tstruct __m128 noattr))
                 (tptr (Tstruct __m128 noattr))) ::
               (Ecast
                 (Ecast
                   (Ebinop Osub
                     (Ebinop Osub
                       (Ebinop Oadd (Econst_int (Int.repr 127) tint)
                         (Econst_int (Int.repr 1) tint) tint)
                       (Etempvar _from tuint) tuint) (Etempvar _nr tuint)
                     tuint) tuchar) tschar) :: nil))
            (Sassign (Evar _addx (Tstruct __m128 noattr))
              (Evar __res__5 (Tstruct __m128 noattr))))
          (Ssequence
            (Ssequence
              (Scall None
                (Evar __mm_set1_epi8 (Tfunction
                                       (Tcons (tptr (Tstruct __m128 noattr))
                                         (Tcons tschar Tnil)) tvoid
                                       {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
                ((Eaddrof (Evar __res__4 (Tstruct __m128 noattr))
                   (tptr (Tstruct __m128 noattr))) ::
                 (Ecast
                   (Ecast
                     (Ebinop Osub (Econst_int (Int.repr 127) tint)
                       (Etempvar _nr tuint) tuint) tuchar) tschar) :: nil))
              (Sassign (Evar _cmpx (Tstruct __m128 noattr))
                (Evar __res__4 (Tstruct __m128 noattr))))
            (Ssequence
              (Sset _i (Econst_int (Int.repr 0) tint))
              (Sloop
                (Ssequence
                  (Ssequence
                    (Sset _t'2
                      (Efield
                        (Ederef
                          (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                          (Tstruct _wormleaf noattr)) _nr_keys tuint))
                    (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                                   (Etempvar _t'2 tuint) tint)
                      Sskip
                      Sbreak))
                  (Ssequence
                    (Ssequence
                      (Scall None
                        (Evar __mm_load_si128 (Tfunction
                                                (Tcons
                                                  (tptr (Tstruct __m128 noattr))
                                                  (Tcons
                                                    (tptr (Tstruct __m128 noattr))
                                                    Tnil)) tvoid
                                                {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
                        ((Eaddrof (Evar __res__3 (Tstruct __m128 noattr))
                           (tptr (Tstruct __m128 noattr))) ::
                         (Ecast
                           (Ebinop Oadd
                             (Efield
                               (Ederef
                                 (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                                 (Tstruct _wormleaf noattr)) _ss
                               (tarray tuchar 128)) (Etempvar _i tuint)
                             (tptr tuchar)) (tptr (Tstruct __m128 noattr))) ::
                         nil))
                      (Sassign (Evar _sv (Tstruct __m128 noattr))
                        (Evar __res__3 (Tstruct __m128 noattr))))
                    (Ssequence
                      (Ssequence
                        (Ssequence
                          (Ssequence
                            (Scall None
                              (Evar __mm_add_epi8 (Tfunction
                                                    (Tcons
                                                      (tptr (Tstruct __m128 noattr))
                                                      (Tcons
                                                        (Tstruct __m128 noattr)
                                                        (Tcons
                                                          (Tstruct __m128 noattr)
                                                          Tnil))) tvoid
                                                    {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
                              ((Eaddrof (Evar __res (Tstruct __m128 noattr))
                                 (tptr (Tstruct __m128 noattr))) ::
                               (Evar _sv (Tstruct __m128 noattr)) ::
                               (Evar _addx (Tstruct __m128 noattr)) :: nil))
                            (Scall None
                              (Evar __mm_cmpgt_epi8 (Tfunction
                                                      (Tcons
                                                        (tptr (Tstruct __m128 noattr))
                                                        (Tcons
                                                          (Tstruct __m128 noattr)
                                                          (Tcons
                                                            (Tstruct __m128 noattr)
                                                            Tnil))) tvoid
                                                      {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
                              ((Eaddrof
                                 (Evar __res__1 (Tstruct __m128 noattr))
                                 (tptr (Tstruct __m128 noattr))) ::
                               (Evar __res (Tstruct __m128 noattr)) ::
                               (Evar _cmpx (Tstruct __m128 noattr)) :: nil)))
                          (Scall None
                            (Evar __mm_and_si128 (Tfunction
                                                   (Tcons
                                                     (tptr (Tstruct __m128 noattr))
                                                     (Tcons
                                                       (Tstruct __m128 noattr)
                                                       (Tcons
                                                         (Tstruct __m128 noattr)
                                                         Tnil))) tvoid
                                                   {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
                            ((Eaddrof (Evar __res__2 (Tstruct __m128 noattr))
                               (tptr (Tstruct __m128 noattr))) ::
                             (Evar __res__1 (Tstruct __m128 noattr)) ::
                             (Evar _ones (Tstruct __m128 noattr)) :: nil)))
                        (Sassign (Evar _add1 (Tstruct __m128 noattr))
                          (Evar __res__2 (Tstruct __m128 noattr))))
                      (Ssequence
                        (Scall (Some _t'1)
                          (Evar __mm_sub_epi8 (Tfunction Tnil tint
                                                {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
                          ((Evar _sv (Tstruct __m128 noattr)) ::
                           (Evar _add1 (Tstruct __m128 noattr)) :: nil))
                        (Scall None
                          (Evar __mm_store_si128 (Tfunction Tnil tint
                                                   {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
                          ((Ecast
                             (Ebinop Oadd
                               (Efield
                                 (Ederef
                                   (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                                   (Tstruct _wormleaf noattr)) _ss
                                 (tarray tuchar 128)) (Etempvar _i tuint)
                               (tptr tuchar)) (tptr (Tstruct __m128 noattr))) ::
                           (Etempvar _t'1 tint) :: nil))))))
                (Sset _i
                  (Ebinop Oadd (Etempvar _i tuint)
                    (Econst_int (Int.repr 16) tint) tuint))))))))))
|}.

Definition f_wormleaf_insert_hs := {|
  fn_return := tuint;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) ::
                (_e, (Tstruct _entry13__1 noattr)) :: nil);
  fn_vars := ((_e, (Tstruct _entry13__1 noattr)) :: nil);
  fn_temps := ((_hs, (tptr (Tstruct _entry13__1 noattr))) ::
               (_pkey, tushort) :: (_i0, tuint) :: (_i, tuint) ::
               (_il, tuint) :: (_el, tuint) :: (_ir, tuint) ::
               (_er, tuint) :: (_dl, tuint) :: (_dr, tuint) ::
               (_t'11, tuint) :: (_t'10, tuint) :: (_t'9, tint) ::
               (_t'8, tint) :: (_t'7, tint) :: (_t'6, tint) ::
               (_t'5, tuint) :: (_t'4, tint) :: (_t'3, tint) ::
               (_t'2, tint) :: (_t'1, tint) :: (_t'21, tushort) ::
               (_t'20, tushort) :: (_t'19, tushort) :: (_t'18, tushort) ::
               (_t'17, tushort) :: (_t'16, tushort) :: (_t'15, tushort) ::
               (_t'14, tushort) :: (_t'13, tushort) :: (_t'12, tushort) ::
               nil);
  fn_body :=
(Ssequence
  (Sassign (Evar _e (Tstruct _entry13__1 noattr))
    (Etempvar _e (Tstruct _entry13__1 noattr)))
  (Ssequence
    (Sset _hs
      (Efield
        (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _hs
        (tarray (Tstruct _entry13__1 noattr) 128)))
    (Ssequence
      (Ssequence
        (Sset _t'21
          (Efield
            (Efield (Evar _e (Tstruct _entry13__1 noattr))
              18727075383868559167%positive (Tunion __6498 noattr)) _e1
            tushort))
        (Sset _pkey (Ecast (Etempvar _t'21 tushort) tushort)))
      (Ssequence
        (Sset _i0
          (Ebinop Odiv (Etempvar _pkey tushort)
            (Ebinop Odiv
              (Ebinop Oshl (Econst_int (Int.repr 1) tuint)
                (Econst_int (Int.repr 16) tint) tuint)
              (Econst_int (Int.repr 128) tuint) tuint) tuint))
        (Ssequence
          (Ssequence
            (Sset _t'20
              (Efield
                (Efield
                  (Ederef
                    (Ebinop Oadd
                      (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                      (Etempvar _i0 tuint)
                      (tptr (Tstruct _entry13__1 noattr)))
                    (Tstruct _entry13__1 noattr))
                  18727075383868559167%positive (Tunion __6498 noattr)) _e1
                tushort))
            (Sifthenelse (Ebinop Oeq (Etempvar _t'20 tushort)
                           (Econst_int (Int.repr 0) tint) tint)
              (Ssequence
                (Sassign
                  (Ederef
                    (Ebinop Oadd
                      (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                      (Etempvar _i0 tuint)
                      (tptr (Tstruct _entry13__1 noattr)))
                    (Tstruct _entry13__1 noattr))
                  (Evar _e (Tstruct _entry13__1 noattr)))
                (Sreturn (Some (Etempvar _i0 tuint))))
              Sskip))
          (Ssequence
            (Sset _i (Etempvar _i0 tuint))
            (Ssequence
              (Sloop
                (Ssequence
                  (Ssequence
                    (Ssequence
                      (Sifthenelse (Etempvar _i tuint)
                        (Ssequence
                          (Sset _t'19
                            (Efield
                              (Efield
                                (Ederef
                                  (Ebinop Oadd
                                    (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                    (Ebinop Osub (Etempvar _i tuint)
                                      (Econst_int (Int.repr 1) tint) tuint)
                                    (tptr (Tstruct _entry13__1 noattr)))
                                  (Tstruct _entry13__1 noattr))
                                18727075383868559167%positive
                                (Tunion __6498 noattr)) _e1 tushort))
                          (Sset _t'1 (Ecast (Etempvar _t'19 tushort) tbool)))
                        (Sset _t'1 (Econst_int (Int.repr 0) tint)))
                      (Sifthenelse (Etempvar _t'1 tint)
                        (Ssequence
                          (Sset _t'18
                            (Efield
                              (Efield
                                (Ederef
                                  (Ebinop Oadd
                                    (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                    (Ebinop Osub (Etempvar _i tuint)
                                      (Econst_int (Int.repr 1) tint) tuint)
                                    (tptr (Tstruct _entry13__1 noattr)))
                                  (Tstruct _entry13__1 noattr))
                                18727075383868559167%positive
                                (Tunion __6498 noattr)) _e1 tushort))
                          (Sset _t'2
                            (Ecast
                              (Ebinop Oge (Etempvar _t'18 tushort)
                                (Etempvar _pkey tushort) tint) tbool)))
                        (Sset _t'2 (Econst_int (Int.repr 0) tint))))
                    (Sifthenelse (Etempvar _t'2 tint) Sskip Sbreak))
                  (Sset _i
                    (Ebinop Osub (Etempvar _i tuint)
                      (Econst_int (Int.repr 1) tint) tuint)))
                Sskip)
              (Ssequence
                (Sloop
                  (Ssequence
                    (Ssequence
                      (Ssequence
                        (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                                       (Econst_int (Int.repr 128) tuint)
                                       tint)
                          (Ssequence
                            (Sset _t'17
                              (Efield
                                (Efield
                                  (Ederef
                                    (Ebinop Oadd
                                      (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                      (Etempvar _i tuint)
                                      (tptr (Tstruct _entry13__1 noattr)))
                                    (Tstruct _entry13__1 noattr))
                                  18727075383868559167%positive
                                  (Tunion __6498 noattr)) _e1 tushort))
                            (Sset _t'3
                              (Ecast (Etempvar _t'17 tushort) tbool)))
                          (Sset _t'3 (Econst_int (Int.repr 0) tint)))
                        (Sifthenelse (Etempvar _t'3 tint)
                          (Ssequence
                            (Sset _t'16
                              (Efield
                                (Efield
                                  (Ederef
                                    (Ebinop Oadd
                                      (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                      (Etempvar _i tuint)
                                      (tptr (Tstruct _entry13__1 noattr)))
                                    (Tstruct _entry13__1 noattr))
                                  18727075383868559167%positive
                                  (Tunion __6498 noattr)) _e1 tushort))
                            (Sset _t'4
                              (Ecast
                                (Ebinop Olt (Etempvar _t'16 tushort)
                                  (Etempvar _pkey tushort) tint) tbool)))
                          (Sset _t'4 (Econst_int (Int.repr 0) tint))))
                      (Sifthenelse (Etempvar _t'4 tint) Sskip Sbreak))
                    (Sset _i
                      (Ebinop Oadd (Etempvar _i tuint)
                        (Econst_int (Int.repr 1) tint) tuint)))
                  Sskip)
                (Ssequence
                  (Ssequence
                    (Ssequence
                      (Sset _t'5
                        (Ecast
                          (Ebinop Osub (Etempvar _i tuint)
                            (Econst_int (Int.repr 1) tint) tuint) tuint))
                      (Sset _i (Etempvar _t'5 tuint)))
                    (Sset _il (Etempvar _t'5 tuint)))
                  (Ssequence
                    (Sifthenelse (Ebinop Ogt (Etempvar _i tuint)
                                   (Ebinop Osub (Etempvar _i0 tuint)
                                     (Econst_int (Int.repr 1) tint) tuint)
                                   tint)
                      (Sset _i
                        (Ebinop Osub (Etempvar _i0 tuint)
                          (Econst_int (Int.repr 1) tint) tuint))
                      Sskip)
                    (Ssequence
                      (Sloop
                        (Ssequence
                          (Ssequence
                            (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                                           (Econst_int (Int.repr 128) tuint)
                                           tint)
                              (Ssequence
                                (Sset _t'15
                                  (Efield
                                    (Efield
                                      (Ederef
                                        (Ebinop Oadd
                                          (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                          (Etempvar _i tuint)
                                          (tptr (Tstruct _entry13__1 noattr)))
                                        (Tstruct _entry13__1 noattr))
                                      18727075383868559167%positive
                                      (Tunion __6498 noattr)) _e1 tushort))
                                (Sset _t'6
                                  (Ecast (Etempvar _t'15 tushort) tbool)))
                              (Sset _t'6 (Econst_int (Int.repr 0) tint)))
                            (Sifthenelse (Etempvar _t'6 tint) Sskip Sbreak))
                          (Sset _i
                            (Ebinop Osub (Etempvar _i tuint)
                              (Econst_int (Int.repr 1) tint) tuint)))
                        Sskip)
                      (Ssequence
                        (Sset _el (Etempvar _i tuint))
                        (Ssequence
                          (Sset _i
                            (Ebinop Oadd (Etempvar _il tuint)
                              (Econst_int (Int.repr 1) tint) tuint))
                          (Ssequence
                            (Sloop
                              (Ssequence
                                (Ssequence
                                  (Ssequence
                                    (Sifthenelse (Ebinop Olt
                                                   (Etempvar _i tuint)
                                                   (Econst_int (Int.repr 128) tuint)
                                                   tint)
                                      (Ssequence
                                        (Sset _t'14
                                          (Efield
                                            (Efield
                                              (Ederef
                                                (Ebinop Oadd
                                                  (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                                  (Etempvar _i tuint)
                                                  (tptr (Tstruct _entry13__1 noattr)))
                                                (Tstruct _entry13__1 noattr))
                                              18727075383868559167%positive
                                              (Tunion __6498 noattr)) _e1
                                            tushort))
                                        (Sset _t'7
                                          (Ecast (Etempvar _t'14 tushort)
                                            tbool)))
                                      (Sset _t'7
                                        (Econst_int (Int.repr 0) tint)))
                                    (Sifthenelse (Etempvar _t'7 tint)
                                      (Ssequence
                                        (Sset _t'13
                                          (Efield
                                            (Efield
                                              (Ederef
                                                (Ebinop Oadd
                                                  (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                                  (Etempvar _i tuint)
                                                  (tptr (Tstruct _entry13__1 noattr)))
                                                (Tstruct _entry13__1 noattr))
                                              18727075383868559167%positive
                                              (Tunion __6498 noattr)) _e1
                                            tushort))
                                        (Sset _t'8
                                          (Ecast
                                            (Ebinop Oeq
                                              (Etempvar _t'13 tushort)
                                              (Etempvar _pkey tushort) tint)
                                            tbool)))
                                      (Sset _t'8
                                        (Econst_int (Int.repr 0) tint))))
                                  (Sifthenelse (Etempvar _t'8 tint)
                                    Sskip
                                    Sbreak))
                                (Sset _i
                                  (Ebinop Oadd (Etempvar _i tuint)
                                    (Econst_int (Int.repr 1) tint) tuint)))
                              Sskip)
                            (Ssequence
                              (Sset _ir (Etempvar _i tuint))
                              (Ssequence
                                (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                                               (Ebinop Oadd
                                                 (Etempvar _i0 tuint)
                                                 (Econst_int (Int.repr 1) tint)
                                                 tuint) tint)
                                  (Sset _i
                                    (Ebinop Oadd (Etempvar _i0 tuint)
                                      (Econst_int (Int.repr 1) tint) tuint))
                                  Sskip)
                                (Ssequence
                                  (Sloop
                                    (Ssequence
                                      (Ssequence
                                        (Sifthenelse (Ebinop Olt
                                                       (Etempvar _i tuint)
                                                       (Econst_int (Int.repr 128) tuint)
                                                       tint)
                                          (Ssequence
                                            (Sset _t'12
                                              (Efield
                                                (Efield
                                                  (Ederef
                                                    (Ebinop Oadd
                                                      (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                                      (Etempvar _i tuint)
                                                      (tptr (Tstruct _entry13__1 noattr)))
                                                    (Tstruct _entry13__1 noattr))
                                                  18727075383868559167%positive
                                                  (Tunion __6498 noattr)) _e1
                                                tushort))
                                            (Sset _t'9
                                              (Ecast (Etempvar _t'12 tushort)
                                                tbool)))
                                          (Sset _t'9
                                            (Econst_int (Int.repr 0) tint)))
                                        (Sifthenelse (Etempvar _t'9 tint)
                                          Sskip
                                          Sbreak))
                                      (Sset _i
                                        (Ebinop Oadd (Etempvar _i tuint)
                                          (Econst_int (Int.repr 1) tint)
                                          tuint)))
                                    Sskip)
                                  (Ssequence
                                    (Sset _er (Etempvar _i tuint))
                                    (Ssequence
                                      (Ssequence
                                        (Sifthenelse (Ebinop Olt
                                                       (Etempvar _el tuint)
                                                       (Econst_int (Int.repr 128) tuint)
                                                       tint)
                                          (Sset _t'10
                                            (Ecast
                                              (Ebinop Osub
                                                (Etempvar _il tuint)
                                                (Etempvar _el tuint) tuint)
                                              tuint))
                                          (Sset _t'10
                                            (Ecast
                                              (Econst_int (Int.repr 128) tuint)
                                              tuint)))
                                        (Sset _dl (Etempvar _t'10 tuint)))
                                      (Ssequence
                                        (Ssequence
                                          (Sifthenelse (Ebinop Olt
                                                         (Etempvar _er tuint)
                                                         (Econst_int (Int.repr 128) tuint)
                                                         tint)
                                            (Sset _t'11
                                              (Ecast
                                                (Ebinop Osub
                                                  (Etempvar _er tuint)
                                                  (Etempvar _ir tuint) tuint)
                                                tuint))
                                            (Sset _t'11
                                              (Ecast
                                                (Econst_int (Int.repr 128) tuint)
                                                tuint)))
                                          (Sset _dr (Etempvar _t'11 tuint)))
                                        (Sifthenelse (Ebinop Ole
                                                       (Etempvar _dl tuint)
                                                       (Etempvar _dr tuint)
                                                       tint)
                                          (Ssequence
                                            (Scall None
                                              (Evar _debug_assert (Tfunction
                                                                    (Tcons
                                                                    tbool
                                                                    Tnil)
                                                                    tvoid
                                                                    cc_default))
                                              ((Ebinop Olt
                                                 (Etempvar _dl tuint)
                                                 (Econst_int (Int.repr 128) tuint)
                                                 tint) :: nil))
                                            (Ssequence
                                              (Sifthenelse (Etempvar _dl tuint)
                                                (Scall None
                                                  (Evar _wormleaf_shift_dec 
                                                  (Tfunction
                                                    (Tcons
                                                      (tptr (Tstruct _wormleaf noattr))
                                                      (Tcons tuint
                                                        (Tcons tuint
                                                          (Tcons tuint Tnil))))
                                                    tvoid cc_default))
                                                  ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                                                   (Etempvar _el tuint) ::
                                                   (Ebinop Oadd
                                                     (Etempvar _el tuint)
                                                     (Econst_int (Int.repr 1) tint)
                                                     tuint) ::
                                                   (Etempvar _dl tuint) ::
                                                   nil))
                                                Sskip)
                                              (Ssequence
                                                (Sassign
                                                  (Ederef
                                                    (Ebinop Oadd
                                                      (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                                      (Etempvar _il tuint)
                                                      (tptr (Tstruct _entry13__1 noattr)))
                                                    (Tstruct _entry13__1 noattr))
                                                  (Evar _e (Tstruct _entry13__1 noattr)))
                                                (Sreturn (Some (Etempvar _il tuint))))))
                                          (Ssequence
                                            (Scall None
                                              (Evar _debug_assert (Tfunction
                                                                    (Tcons
                                                                    tbool
                                                                    Tnil)
                                                                    tvoid
                                                                    cc_default))
                                              ((Ebinop Olt
                                                 (Etempvar _dr tuint)
                                                 (Econst_int (Int.repr 128) tuint)
                                                 tint) :: nil))
                                            (Ssequence
                                              (Sifthenelse (Etempvar _dr tuint)
                                                (Scall None
                                                  (Evar _wormleaf_shift_inc 
                                                  (Tfunction
                                                    (Tcons
                                                      (tptr (Tstruct _wormleaf noattr))
                                                      (Tcons tuint
                                                        (Tcons tuint
                                                          (Tcons tuint Tnil))))
                                                    tvoid cc_default))
                                                  ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                                                   (Ebinop Oadd
                                                     (Etempvar _ir tuint)
                                                     (Econst_int (Int.repr 1) tint)
                                                     tuint) ::
                                                   (Etempvar _ir tuint) ::
                                                   (Etempvar _dr tuint) ::
                                                   nil))
                                                Sskip)
                                              (Ssequence
                                                (Sassign
                                                  (Ederef
                                                    (Ebinop Oadd
                                                      (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                                      (Etempvar _ir tuint)
                                                      (tptr (Tstruct _entry13__1 noattr)))
                                                    (Tstruct _entry13__1 noattr))
                                                  (Evar _e (Tstruct _entry13__1 noattr)))
                                                (Sreturn (Some (Etempvar _ir tuint)))))))))))))))))))))))))))
|}.

Definition f_wormleaf_insert_e13 := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) ::
                (_e, (Tstruct _entry13__1 noattr)) :: nil);
  fn_vars := ((_e, (Tstruct _entry13__1 noattr)) :: nil);
  fn_temps := ((_ih, tuint) :: (_t'1, tuint) :: (_t'3, tuint) ::
               (_t'2, tuint) :: nil);
  fn_body :=
(Ssequence
  (Sassign (Evar _e (Tstruct _entry13__1 noattr))
    (Etempvar _e (Tstruct _entry13__1 noattr)))
  (Ssequence
    (Ssequence
      (Scall (Some _t'1)
        (Evar _wormleaf_insert_hs (Tfunction
                                    (Tcons (tptr (Tstruct _wormleaf noattr))
                                      (Tcons (Tstruct _entry13__1 noattr)
                                        Tnil)) tuint cc_default))
        ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
         (Evar _e (Tstruct _entry13__1 noattr)) :: nil))
      (Sset _ih (Etempvar _t'1 tuint)))
    (Ssequence
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Ebinop Olt (Etempvar _ih tuint) (Econst_int (Int.repr 128) tuint)
           tint) :: nil))
      (Ssequence
        (Ssequence
          (Sset _t'3
            (Efield
              (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                (Tstruct _wormleaf noattr)) _nr_keys tuint))
          (Sassign
            (Ederef
              (Ebinop Oadd
                (Efield
                  (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                    (Tstruct _wormleaf noattr)) _ss (tarray tuchar 128))
                (Etempvar _t'3 tuint) (tptr tuchar)) tuchar)
            (Ecast (Etempvar _ih tuint) tuchar)))
        (Ssequence
          (Sset _t'2
            (Efield
              (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                (Tstruct _wormleaf noattr)) _nr_keys tuint))
          (Sassign
            (Efield
              (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                (Tstruct _wormleaf noattr)) _nr_keys tuint)
            (Ebinop Oadd (Etempvar _t'2 tuint) (Econst_int (Int.repr 1) tint)
              tuint)))))))
|}.

Definition f_wormleaf_insert := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) ::
                (_new, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := ((_e, (Tstruct _entry13__1 noattr)) ::
              (__res, (Tstruct _entry13__1 noattr)) :: nil);
  fn_temps := ((_nr0, tuint) :: (_kvn, (tptr (Tstruct _kv noattr))) ::
               (_t'6, tint) :: (_t'5, (tptr (Tstruct _kv noattr))) ::
               (_t'4, tulong) :: (_t'3, tushort) :: (_t'2, tulong) ::
               (_t'1, tuint) :: (_t'11, tuint) :: (_t'10, tulong) ::
               (_t'9, tuint) :: (_t'8, tuint) :: (_t'7, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Ssequence
        (Sset _t'11
          (Efield
            (Efield
              (Efield
                (Ederef (Etempvar _new (tptr (Tstruct _kv noattr)))
                  (Tstruct _kv noattr)) 18727075383868559167%positive
                (Tunion __6646 noattr)) 18727075383868559167%positive
              (Tstruct __6647 noattr)) _klen tuint))
        (Scall (Some _t'1)
          (Evar _kv_crc32c (Tfunction (Tcons (tptr tvoid) (Tcons tuint Tnil))
                             tuint cc_default))
          ((Efield
             (Ederef (Etempvar _new (tptr (Tstruct _kv noattr)))
               (Tstruct _kv noattr)) _kv (tarray tuchar 0)) ::
           (Etempvar _t'11 tuint) :: nil)))
      (Scall (Some _t'2)
        (Evar _kv_crc32c_extend (Tfunction (Tcons tuint Tnil) tulong
                                  cc_default))
        ((Etempvar _t'1 tuint) :: nil)))
    (Ssequence
      (Sset _t'10
        (Efield
          (Efield
            (Ederef (Etempvar _new (tptr (Tstruct _kv noattr)))
              (Tstruct _kv noattr)) 19015305760020270911%positive
            (Tunion __6649 noattr)) _hash tulong))
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Ebinop Oeq (Etempvar _t'10 tulong) (Etempvar _t'2 tulong) tint) ::
         nil))))
  (Ssequence
    (Ssequence
      (Sset _t'9
        (Efield
          (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _nr_keys tuint))
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Ebinop Olt (Etempvar _t'9 tuint) (Econst_int (Int.repr 128) tuint)
           tint) :: nil)))
    (Ssequence
      (Ssequence
        (Ssequence
          (Ssequence
            (Ssequence
              (Sset _t'8
                (Efield
                  (Efield
                    (Efield
                      (Ederef (Etempvar _new (tptr (Tstruct _kv noattr)))
                        (Tstruct _kv noattr)) 19015305760020270911%positive
                      (Tunion __6649 noattr)) 18727075383868559167%positive
                    (Tstruct __6650 noattr)) _hashlo tuint))
              (Scall (Some _t'3)
                (Evar _wormhole_pkey (Tfunction (Tcons tuint Tnil) tushort
                                       cc_default))
                ((Etempvar _t'8 tuint) :: nil)))
            (Scall (Some _t'4)
              (Evar _ptr_to_u64 (Tfunction (Tcons (tptr tvoid) Tnil) tulong
                                  cc_default))
              ((Etempvar _new (tptr (Tstruct _kv noattr))) :: nil)))
          (Scall None
            (Evar _entry13 (Tfunction
                             (Tcons (tptr (Tstruct _entry13__1 noattr))
                               (Tcons tushort (Tcons tulong Tnil))) tvoid
                             {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
            ((Eaddrof (Evar __res (Tstruct _entry13__1 noattr))
               (tptr (Tstruct _entry13__1 noattr))) ::
             (Etempvar _t'3 tushort) :: (Etempvar _t'4 tulong) :: nil)))
        (Sassign (Evar _e (Tstruct _entry13__1 noattr))
          (Evar __res (Tstruct _entry13__1 noattr))))
      (Ssequence
        (Sset _nr0
          (Efield
            (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
              (Tstruct _wormleaf noattr)) _nr_keys tuint))
        (Ssequence
          (Scall None
            (Evar _wormleaf_insert_e13 (Tfunction
                                         (Tcons
                                           (tptr (Tstruct _wormleaf noattr))
                                           (Tcons
                                             (Tstruct _entry13__1 noattr)
                                             Tnil)) tvoid cc_default))
            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
             (Evar _e (Tstruct _entry13__1 noattr)) :: nil))
          (Ssequence
            (Sset _t'7
              (Efield
                (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _nr_sorted tuint))
            (Sifthenelse (Ebinop Oeq (Etempvar _nr0 tuint)
                           (Etempvar _t'7 tuint) tint)
              (Sifthenelse (Etempvar _nr0 tuint)
                (Ssequence
                  (Ssequence
                    (Scall (Some _t'5)
                      (Evar _wormleaf_kv_at_is (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _wormleaf noattr))
                                                   (Tcons tuint Tnil))
                                                 (tptr (Tstruct _kv noattr))
                                                 cc_default))
                      ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                       (Ebinop Osub (Etempvar _nr0 tuint)
                         (Econst_int (Int.repr 1) tint) tuint) :: nil))
                    (Sset _kvn (Etempvar _t'5 (tptr (Tstruct _kv noattr)))))
                  (Ssequence
                    (Scall (Some _t'6)
                      (Evar _kv_compare (Tfunction
                                          (Tcons (tptr (Tstruct _kv noattr))
                                            (Tcons
                                              (tptr (Tstruct _kv noattr))
                                              Tnil)) tint cc_default))
                      ((Etempvar _new (tptr (Tstruct _kv noattr))) ::
                       (Etempvar _kvn (tptr (Tstruct _kv noattr))) :: nil))
                    (Sifthenelse (Ebinop Ogt (Etempvar _t'6 tint)
                                   (Econst_int (Int.repr 0) tint) tint)
                      (Sassign
                        (Efield
                          (Ederef
                            (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                            (Tstruct _wormleaf noattr)) _nr_sorted tuint)
                        (Ebinop Oadd (Etempvar _nr0 tuint)
                          (Econst_int (Int.repr 1) tint) tuint))
                      Sskip)))
                (Sassign
                  (Efield
                    (Ederef
                      (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                      (Tstruct _wormleaf noattr)) _nr_sorted tuint)
                  (Econst_int (Int.repr 1) tint)))
              Sskip)))))))
|}.

Definition f_wormleaf_pull_ih := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_ih, tuint) ::
                nil);
  fn_vars := nil;
  fn_temps := ((_hs, (tptr (Tstruct _entry13__1 noattr))) :: (_i, tuint) ::
               (_t'6, tuint) :: (_t'5, tint) :: (_t'4, tint) ::
               (_t'3, tuint) :: (_t'2, tint) :: (_t'1, tint) ::
               (_t'10, tushort) :: (_t'9, tushort) :: (_t'8, tushort) ::
               (_t'7, tushort) :: nil);
  fn_body :=
(Ssequence
  (Sset _hs
    (Efield
      (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
        (Tstruct _wormleaf noattr)) _hs
      (tarray (Tstruct _entry13__1 noattr) 128)))
  (Ssequence
    (Sset _i
      (Ebinop Osub (Etempvar _ih tuint) (Econst_int (Int.repr 1) tint) tuint))
    (Ssequence
      (Sloop
        (Ssequence
          (Ssequence
            (Ssequence
              (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                             (Econst_int (Int.repr 128) tuint) tint)
                (Ssequence
                  (Sset _t'10
                    (Efield
                      (Efield
                        (Ederef
                          (Ebinop Oadd
                            (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                            (Etempvar _i tuint)
                            (tptr (Tstruct _entry13__1 noattr)))
                          (Tstruct _entry13__1 noattr))
                        18727075383868559167%positive (Tunion __6498 noattr))
                      _e1 tushort))
                  (Sset _t'1 (Ecast (Etempvar _t'10 tushort) tbool)))
                (Sset _t'1 (Econst_int (Int.repr 0) tint)))
              (Sifthenelse (Etempvar _t'1 tint)
                (Ssequence
                  (Sset _t'9
                    (Efield
                      (Efield
                        (Ederef
                          (Ebinop Oadd
                            (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                            (Etempvar _i tuint)
                            (tptr (Tstruct _entry13__1 noattr)))
                          (Tstruct _entry13__1 noattr))
                        18727075383868559167%positive (Tunion __6498 noattr))
                      _e1 tushort))
                  (Sset _t'2
                    (Ecast
                      (Ebinop Ogt
                        (Ebinop Odiv (Etempvar _t'9 tushort)
                          (Ebinop Odiv
                            (Ebinop Oshl (Econst_int (Int.repr 1) tuint)
                              (Econst_int (Int.repr 16) tint) tuint)
                            (Econst_int (Int.repr 128) tuint) tuint) tuint)
                        (Etempvar _i tuint) tint) tbool)))
                (Sset _t'2 (Econst_int (Int.repr 0) tint))))
            (Sifthenelse (Etempvar _t'2 tint) Sskip Sbreak))
          (Sset _i
            (Ebinop Osub (Etempvar _i tuint) (Econst_int (Int.repr 1) tint)
              tuint)))
        Sskip)
      (Ssequence
        (Ssequence
          (Ssequence
            (Sset _t'3
              (Ecast
                (Ebinop Oadd (Etempvar _i tuint)
                  (Econst_int (Int.repr 1) tint) tuint) tuint))
            (Sset _i (Etempvar _t'3 tuint)))
          (Sifthenelse (Ebinop Olt (Etempvar _t'3 tuint) (Etempvar _ih tuint)
                         tint)
            (Ssequence
              (Scall None
                (Evar _wormleaf_shift_inc (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormleaf noattr))
                                              (Tcons tuint
                                                (Tcons tuint
                                                  (Tcons tuint Tnil)))) tvoid
                                            cc_default))
                ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                 (Ebinop Oadd (Etempvar _i tuint)
                   (Econst_int (Int.repr 1) tint) tuint) ::
                 (Etempvar _i tuint) ::
                 (Ebinop Osub (Etempvar _ih tuint) (Etempvar _i tuint) tuint) ::
                 nil))
              (Ssequence
                (Sassign
                  (Efield
                    (Efield
                      (Ederef
                        (Ebinop Oadd
                          (Efield
                            (Ederef
                              (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                              (Tstruct _wormleaf noattr)) _hs
                            (tarray (Tstruct _entry13__1 noattr) 128))
                          (Etempvar _i tuint)
                          (tptr (Tstruct _entry13__1 noattr)))
                        (Tstruct _entry13__1 noattr))
                      18727075383868559167%positive (Tunion __6498 noattr))
                    _v64 tulong) (Econst_int (Int.repr 0) tint))
                (Sreturn None)))
            Sskip))
        (Ssequence
          (Sset _i
            (Ebinop Oadd (Etempvar _ih tuint) (Econst_int (Int.repr 1) tint)
              tuint))
          (Ssequence
            (Sloop
              (Ssequence
                (Ssequence
                  (Ssequence
                    (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                                   (Econst_int (Int.repr 128) tuint) tint)
                      (Ssequence
                        (Sset _t'8
                          (Efield
                            (Efield
                              (Ederef
                                (Ebinop Oadd
                                  (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                  (Etempvar _i tuint)
                                  (tptr (Tstruct _entry13__1 noattr)))
                                (Tstruct _entry13__1 noattr))
                              18727075383868559167%positive
                              (Tunion __6498 noattr)) _e1 tushort))
                        (Sset _t'4 (Ecast (Etempvar _t'8 tushort) tbool)))
                      (Sset _t'4 (Econst_int (Int.repr 0) tint)))
                    (Sifthenelse (Etempvar _t'4 tint)
                      (Ssequence
                        (Sset _t'7
                          (Efield
                            (Efield
                              (Ederef
                                (Ebinop Oadd
                                  (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                                  (Etempvar _i tuint)
                                  (tptr (Tstruct _entry13__1 noattr)))
                                (Tstruct _entry13__1 noattr))
                              18727075383868559167%positive
                              (Tunion __6498 noattr)) _e1 tushort))
                        (Sset _t'5
                          (Ecast
                            (Ebinop Olt
                              (Ebinop Odiv (Etempvar _t'7 tushort)
                                (Ebinop Odiv
                                  (Ebinop Oshl
                                    (Econst_int (Int.repr 1) tuint)
                                    (Econst_int (Int.repr 16) tint) tuint)
                                  (Econst_int (Int.repr 128) tuint) tuint)
                                tuint) (Etempvar _i tuint) tint) tbool)))
                      (Sset _t'5 (Econst_int (Int.repr 0) tint))))
                  (Sifthenelse (Etempvar _t'5 tint) Sskip Sbreak))
                (Sset _i
                  (Ebinop Oadd (Etempvar _i tuint)
                    (Econst_int (Int.repr 1) tint) tuint)))
              Sskip)
            (Ssequence
              (Ssequence
                (Sset _t'6
                  (Ecast
                    (Ebinop Osub (Etempvar _i tuint)
                      (Econst_int (Int.repr 1) tint) tuint) tuint))
                (Sset _i (Etempvar _t'6 tuint)))
              (Sifthenelse (Ebinop Ogt (Etempvar _t'6 tuint)
                             (Etempvar _ih tuint) tint)
                (Ssequence
                  (Scall None
                    (Evar _wormleaf_shift_dec (Tfunction
                                                (Tcons
                                                  (tptr (Tstruct _wormleaf noattr))
                                                  (Tcons tuint
                                                    (Tcons tuint
                                                      (Tcons tuint Tnil))))
                                                tvoid cc_default))
                    ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                     (Etempvar _ih tuint) ::
                     (Ebinop Oadd (Etempvar _ih tuint)
                       (Econst_int (Int.repr 1) tint) tuint) ::
                     (Ebinop Osub (Etempvar _i tuint) (Etempvar _ih tuint)
                       tuint) :: nil))
                  (Sassign
                    (Efield
                      (Efield
                        (Ederef
                          (Ebinop Oadd
                            (Etempvar _hs (tptr (Tstruct _entry13__1 noattr)))
                            (Etempvar _i tuint)
                            (tptr (Tstruct _entry13__1 noattr)))
                          (Tstruct _entry13__1 noattr))
                        18727075383868559167%positive (Tunion __6498 noattr))
                      _v64 tulong) (Econst_int (Int.repr 0) tint)))
                Sskip))))))))
|}.

Definition f_wormleaf_remove := {|
  fn_return := (tptr (Tstruct _kv noattr));
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_ih, tuint) ::
                (_is, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_victim, (tptr (Tstruct _kv noattr))) ::
               (_t'1, (tptr (Tstruct _kv noattr))) :: (_t'5, tuchar) ::
               (_t'4, tuint) :: (_t'3, tuint) :: (_t'2, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'4
      (Efield
        (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _nr_keys tuint))
    (Ssequence
      (Sset _t'5
        (Ederef
          (Ebinop Oadd
            (Efield
              (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                (Tstruct _wormleaf noattr)) _ss (tarray tuchar 128))
            (Ebinop Osub (Etempvar _t'4 tuint) (Econst_int (Int.repr 1) tint)
              tuint) (tptr tuchar)) tuchar))
      (Sassign
        (Ederef
          (Ebinop Oadd
            (Efield
              (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                (Tstruct _wormleaf noattr)) _ss (tarray tuchar 128))
            (Etempvar _is tuint) (tptr tuchar)) tuchar)
        (Etempvar _t'5 tuchar))))
  (Ssequence
    (Ssequence
      (Sset _t'3
        (Efield
          (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _nr_sorted tuint))
      (Sifthenelse (Ebinop Ogt (Etempvar _t'3 tuint) (Etempvar _is tuint)
                     tint)
        (Sassign
          (Efield
            (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
              (Tstruct _wormleaf noattr)) _nr_sorted tuint)
          (Etempvar _is tuint))
        Sskip))
    (Ssequence
      (Ssequence
        (Scall (Some _t'1)
          (Evar _wormleaf_kv_at_ih (Tfunction
                                     (Tcons (tptr (Tstruct _wormleaf noattr))
                                       (Tcons tuint Tnil))
                                     (tptr (Tstruct _kv noattr)) cc_default))
          ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
           (Etempvar _ih tuint) :: nil))
        (Sset _victim (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
      (Ssequence
        (Sassign
          (Efield
            (Efield
              (Ederef
                (Ebinop Oadd
                  (Efield
                    (Ederef
                      (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                      (Tstruct _wormleaf noattr)) _hs
                    (tarray (Tstruct _entry13__1 noattr) 128))
                  (Etempvar _ih tuint) (tptr (Tstruct _entry13__1 noattr)))
                (Tstruct _entry13__1 noattr)) 18727075383868559167%positive
              (Tunion __6498 noattr)) _v64 tulong)
          (Econst_int (Int.repr 0) tint))
        (Ssequence
          (Ssequence
            (Sset _t'2
              (Efield
                (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _nr_keys tuint))
            (Sassign
              (Efield
                (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _nr_keys tuint)
              (Ebinop Osub (Etempvar _t'2 tuint)
                (Econst_int (Int.repr 1) tint) tuint)))
          (Ssequence
            (Scall None
              (Evar _wormleaf_pull_ih (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormleaf noattr))
                                          (Tcons tuint Tnil)) tvoid
                                        cc_default))
              ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
               (Etempvar _ih tuint) :: nil))
            (Sreturn (Some (Etempvar _victim (tptr (Tstruct _kv noattr)))))))))))
|}.

Definition f_wormleaf_remove_ih := {|
  fn_return := (tptr (Tstruct _kv noattr));
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_ih, tuint) ::
                nil);
  fn_vars := nil;
  fn_temps := ((_is, tuint) :: (_t'2, (tptr (Tstruct _kv noattr))) ::
               (_t'1, tuint) :: (_t'3, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormleaf_search_is (Tfunction
                                  (Tcons (tptr (Tstruct _wormleaf noattr))
                                    (Tcons tuchar Tnil)) tuint cc_default))
      ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
       (Ecast (Etempvar _ih tuint) tuchar) :: nil))
    (Sset _is (Etempvar _t'1 tuint)))
  (Ssequence
    (Ssequence
      (Sset _t'3
        (Efield
          (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _nr_keys tuint))
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Ebinop Olt (Etempvar _is tuint) (Etempvar _t'3 tuint) tint) :: nil)))
    (Ssequence
      (Scall (Some _t'2)
        (Evar _wormleaf_remove (Tfunction
                                 (Tcons (tptr (Tstruct _wormleaf noattr))
                                   (Tcons tuint (Tcons tuint Tnil)))
                                 (tptr (Tstruct _kv noattr)) cc_default))
        ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
         (Etempvar _ih tuint) :: (Etempvar _is tuint) :: nil))
      (Sreturn (Some (Etempvar _t'2 (tptr (Tstruct _kv noattr))))))))
|}.

Definition f_wormleaf_remove_is := {|
  fn_return := (tptr (Tstruct _kv noattr));
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_is, tuint) ::
                nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr (Tstruct _kv noattr))) :: (_t'2, tuchar) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'2
      (Ederef
        (Ebinop Oadd
          (Efield
            (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
              (Tstruct _wormleaf noattr)) _ss (tarray tuchar 128))
          (Etempvar _is tuint) (tptr tuchar)) tuchar))
    (Scall (Some _t'1)
      (Evar _wormleaf_remove (Tfunction
                               (Tcons (tptr (Tstruct _wormleaf noattr))
                                 (Tcons tuint (Tcons tuint Tnil)))
                               (tptr (Tstruct _kv noattr)) cc_default))
      ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
       (Etempvar _t'2 tuchar) :: (Etempvar _is tuint) :: nil)))
  (Sreturn (Some (Etempvar _t'1 (tptr (Tstruct _kv noattr))))))
|}.

Definition f_wormleaf_delete_range := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_i0, tuint) ::
                (_end, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_i, tuint) :: (_ir, tuint) ::
               (_victim, (tptr (Tstruct _kv noattr))) ::
               (_t'1, (tptr (Tstruct _kv noattr))) :: (_t'5, tuint) ::
               (_t'4, tuint) :: (_t'3, (tptr tvoid)) ::
               (_t'2,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
               nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'4
      (Efield
        (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _nr_keys tuint))
    (Ssequence
      (Sset _t'5
        (Efield
          (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _nr_sorted tuint))
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Ebinop Oeq (Etempvar _t'4 tuint) (Etempvar _t'5 tuint) tint) ::
         nil))))
  (Ssequence
    (Sset _i (Etempvar _end tuint))
    (Sloop
      (Ssequence
        (Sifthenelse (Ebinop Ogt (Etempvar _i tuint) (Etempvar _i0 tuint)
                       tint)
          Sskip
          Sbreak)
        (Ssequence
          (Sset _ir
            (Ebinop Osub (Etempvar _i tuint) (Econst_int (Int.repr 1) tint)
              tuint))
          (Ssequence
            (Ssequence
              (Scall (Some _t'1)
                (Evar _wormleaf_remove_is (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormleaf noattr))
                                              (Tcons tuint Tnil))
                                            (tptr (Tstruct _kv noattr))
                                            cc_default))
                ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                 (Etempvar _ir tuint) :: nil))
              (Sset _victim (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
            (Ssequence
              (Sset _t'2
                (Efield
                  (Efield
                    (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                      (Tstruct _wormhole noattr)) _mm
                    (Tstruct _kvmap_mm noattr)) _free
                  (tptr (Tfunction
                          (Tcons (tptr (Tstruct _kv noattr))
                            (Tcons (tptr tvoid) Tnil)) tvoid cc_default))))
              (Ssequence
                (Sset _t'3
                  (Efield
                    (Efield
                      (Ederef
                        (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                        (Tstruct _wormhole noattr)) _mm
                      (Tstruct _kvmap_mm noattr)) _priv (tptr tvoid)))
                (Scall None
                  (Etempvar _t'2 (tptr (Tfunction
                                         (Tcons (tptr (Tstruct _kv noattr))
                                           (Tcons (tptr tvoid) Tnil)) tvoid
                                         cc_default)))
                  ((Etempvar _victim (tptr (Tstruct _kv noattr))) ::
                   (Etempvar _t'3 (tptr tvoid)) :: nil)))))))
      (Sset _i
        (Ebinop Osub (Etempvar _i tuint) (Econst_int (Int.repr 1) tint)
          tuint)))))
|}.

Definition f_wormleaf_update := {|
  fn_return := (tptr (Tstruct _kv noattr));
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_ih, tuint) ::
                (_new, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_old, (tptr (Tstruct _kv noattr))) ::
               (_t'3, (tptr (Tstruct _kv noattr))) :: (_t'2, tulong) ::
               (_t'1, tuint) :: (_t'5, tuint) :: (_t'4, tulong) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Ssequence
        (Sset _t'5
          (Efield
            (Efield
              (Efield
                (Ederef (Etempvar _new (tptr (Tstruct _kv noattr)))
                  (Tstruct _kv noattr)) 18727075383868559167%positive
                (Tunion __6646 noattr)) 18727075383868559167%positive
              (Tstruct __6647 noattr)) _klen tuint))
        (Scall (Some _t'1)
          (Evar _kv_crc32c (Tfunction (Tcons (tptr tvoid) (Tcons tuint Tnil))
                             tuint cc_default))
          ((Efield
             (Ederef (Etempvar _new (tptr (Tstruct _kv noattr)))
               (Tstruct _kv noattr)) _kv (tarray tuchar 0)) ::
           (Etempvar _t'5 tuint) :: nil)))
      (Scall (Some _t'2)
        (Evar _kv_crc32c_extend (Tfunction (Tcons tuint Tnil) tulong
                                  cc_default))
        ((Etempvar _t'1 tuint) :: nil)))
    (Ssequence
      (Sset _t'4
        (Efield
          (Efield
            (Ederef (Etempvar _new (tptr (Tstruct _kv noattr)))
              (Tstruct _kv noattr)) 19015305760020270911%positive
            (Tunion __6649 noattr)) _hash tulong))
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Ebinop Oeq (Etempvar _t'4 tulong) (Etempvar _t'2 tulong) tint) ::
         nil))))
  (Ssequence
    (Ssequence
      (Scall (Some _t'3)
        (Evar _wormleaf_kv_at_ih (Tfunction
                                   (Tcons (tptr (Tstruct _wormleaf noattr))
                                     (Tcons tuint Tnil))
                                   (tptr (Tstruct _kv noattr)) cc_default))
        ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
         (Etempvar _ih tuint) :: nil))
      (Sset _old (Etempvar _t'3 (tptr (Tstruct _kv noattr)))))
    (Ssequence
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Etempvar _old (tptr (Tstruct _kv noattr))) :: nil))
      (Ssequence
        (Scall None
          (Evar _entry13_update_e3 (Tfunction
                                     (Tcons
                                       (tptr (Tstruct _entry13__1 noattr))
                                       (Tcons tulong Tnil)) tvoid cc_default))
          ((Ebinop Oadd
             (Efield
               (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                 (Tstruct _wormleaf noattr)) _hs
               (tarray (Tstruct _entry13__1 noattr) 128))
             (Etempvar _ih tuint) (tptr (Tstruct _entry13__1 noattr))) ::
           (Ecast (Etempvar _new (tptr (Tstruct _kv noattr))) tulong) :: nil))
        (Sreturn (Some (Etempvar _old (tptr (Tstruct _kv noattr)))))))))
|}.

Definition f_wormhole_split_cut_alen_check := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_alen, tuint) :: (_k1, (tptr (Tstruct _kv noattr))) ::
                (_k2, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tint) :: (_t'5, tuint) :: (_t'4, tuchar) ::
               (_t'3, tuchar) :: (_t'2, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'5
      (Efield
        (Efield
          (Efield
            (Ederef (Etempvar _k2 (tptr (Tstruct _kv noattr)))
              (Tstruct _kv noattr)) 18727075383868559167%positive
            (Tunion __6646 noattr)) 18727075383868559167%positive
          (Tstruct __6647 noattr)) _klen tuint))
    (Scall None
      (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
      ((Ebinop Oge (Etempvar _t'5 tuint) (Etempvar _alen tuint) tint) :: nil)))
  (Ssequence
    (Ssequence
      (Sset _t'2
        (Efield
          (Efield
            (Efield
              (Ederef (Etempvar _k1 (tptr (Tstruct _kv noattr)))
                (Tstruct _kv noattr)) 18727075383868559167%positive
              (Tunion __6646 noattr)) 18727075383868559167%positive
            (Tstruct __6647 noattr)) _klen tuint))
      (Sifthenelse (Ebinop Olt (Etempvar _t'2 tuint) (Etempvar _alen tuint)
                     tint)
        (Sset _t'1 (Econst_int (Int.repr 1) tint))
        (Ssequence
          (Sset _t'3
            (Ederef
              (Ebinop Oadd
                (Efield
                  (Ederef (Etempvar _k1 (tptr (Tstruct _kv noattr)))
                    (Tstruct _kv noattr)) _kv (tarray tuchar 0))
                (Ebinop Osub (Etempvar _alen tuint)
                  (Econst_int (Int.repr 1) tint) tuint) (tptr tuchar))
              tuchar))
          (Ssequence
            (Sset _t'4
              (Ederef
                (Ebinop Oadd
                  (Efield
                    (Ederef (Etempvar _k2 (tptr (Tstruct _kv noattr)))
                      (Tstruct _kv noattr)) _kv (tarray tuchar 0))
                  (Ebinop Osub (Etempvar _alen tuint)
                    (Econst_int (Int.repr 1) tint) tuint) (tptr tuchar))
                tuchar))
            (Sset _t'1
              (Ecast
                (Ebinop One (Etempvar _t'3 tuchar) (Etempvar _t'4 tuchar)
                  tint) tbool))))))
    (Sreturn (Some (Etempvar _t'1 tint)))))
|}.

Definition f_wormhole_split_cut_search1 := {|
  fn_return := tuint;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_l, tuint) ::
                (_h, tuint) :: (_is1, tuint) ::
                (_new, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_kl0, (tptr (Tstruct _kv noattr))) ::
               (_kh0, (tptr (Tstruct _kv noattr))) :: (_alen, tuint) ::
               (_target, tuint) :: (_m, tuint) ::
               (_k1, (tptr (Tstruct _kv noattr))) ::
               (_k2, (tptr (Tstruct _kv noattr))) ::
               (_k1__1, (tptr (Tstruct _kv noattr))) ::
               (_k2__1, (tptr (Tstruct _kv noattr))) :: (_t'11, tbool) ::
               (_t'10, (tptr (Tstruct _kv noattr))) ::
               (_t'9, (tptr (Tstruct _kv noattr))) :: (_t'8, tbool) ::
               (_t'7, (tptr (Tstruct _kv noattr))) ::
               (_t'6, (tptr (Tstruct _kv noattr))) :: (_t'5, tuint) ::
               (_t'4, tuint) :: (_t'3, (tptr (Tstruct _kv noattr))) ::
               (_t'2, (tptr (Tstruct _kv noattr))) :: (_t'1, tint) ::
               (_t'16, tuint) :: (_t'15, tuint) :: (_t'14, tuint) ::
               (_t'13, tuint) ::
               (_t'12, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'15
      (Efield
        (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _nr_keys tuint))
    (Ssequence
      (Sset _t'16
        (Efield
          (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _nr_sorted tuint))
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Ebinop Oeq (Etempvar _t'15 tuint) (Etempvar _t'16 tuint) tint) ::
         nil))))
  (Ssequence
    (Ssequence
      (Sset _t'14
        (Efield
          (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _nr_keys tuint))
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Etempvar _t'14 tuint) :: nil)))
    (Ssequence
      (Ssequence
        (Sifthenelse (Ebinop Olt (Etempvar _l tuint) (Etempvar _h tuint)
                       tint)
          (Ssequence
            (Sset _t'13
              (Efield
                (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _nr_sorted tuint))
            (Sset _t'1
              (Ecast
                (Ebinop Ole (Etempvar _h tuint) (Etempvar _t'13 tuint) tint)
                tbool)))
          (Sset _t'1 (Econst_int (Int.repr 0) tint)))
        (Scall None
          (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
          ((Etempvar _t'1 tint) :: nil)))
      (Ssequence
        (Ssequence
          (Scall (Some _t'2)
            (Evar _wormleaf_kv_at_is1 (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormleaf noattr))
                                          (Tcons tuint
                                            (Tcons tuint
                                              (Tcons
                                                (tptr (Tstruct _kv noattr))
                                                Tnil))))
                                        (tptr (Tstruct _kv noattr))
                                        cc_default))
            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
             (Etempvar _l tuint) :: (Etempvar _is1 tuint) ::
             (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil))
          (Sset _kl0 (Etempvar _t'2 (tptr (Tstruct _kv noattr)))))
        (Ssequence
          (Ssequence
            (Scall (Some _t'3)
              (Evar _wormleaf_kv_at_is1 (Tfunction
                                          (Tcons
                                            (tptr (Tstruct _wormleaf noattr))
                                            (Tcons tuint
                                              (Tcons tuint
                                                (Tcons
                                                  (tptr (Tstruct _kv noattr))
                                                  Tnil))))
                                          (tptr (Tstruct _kv noattr))
                                          cc_default))
              ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
               (Etempvar _h tuint) :: (Etempvar _is1 tuint) ::
               (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil))
            (Sset _kh0 (Etempvar _t'3 (tptr (Tstruct _kv noattr)))))
          (Ssequence
            (Ssequence
              (Scall (Some _t'4)
                (Evar _kv_key_lcp (Tfunction
                                    (Tcons (tptr (Tstruct _kv noattr))
                                      (Tcons (tptr (Tstruct _kv noattr))
                                        Tnil)) tuint cc_default))
                ((Etempvar _kl0 (tptr (Tstruct _kv noattr))) ::
                 (Etempvar _kh0 (tptr (Tstruct _kv noattr))) :: nil))
              (Sset _alen
                (Ebinop Oadd (Etempvar _t'4 tuint)
                  (Econst_int (Int.repr 1) tint) tuint)))
            (Ssequence
              (Sifthenelse (Ebinop Ogt (Etempvar _alen tuint)
                             (Econst_int (Int.repr 65535) tint) tint)
                (Sreturn (Some (Ebinop Oadd (Econst_int (Int.repr 128) tuint)
                                 (Econst_int (Int.repr 128) tuint) tuint)))
                Sskip)
              (Ssequence
                (Ssequence
                  (Ssequence
                    (Sset _t'12
                      (Efield
                        (Ederef
                          (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                          (Tstruct _wormleaf noattr)) _next
                        (tptr (Tstruct _wormleaf noattr))))
                    (Sifthenelse (Etempvar _t'12 (tptr (Tstruct _wormleaf noattr)))
                      (Sset _t'5
                        (Ecast
                          (Ebinop Oshr (Econst_int (Int.repr 128) tuint)
                            (Econst_int (Int.repr 1) tint) tuint) tuint))
                      (Sset _t'5
                        (Ecast
                          (Ebinop Oshr
                            (Ebinop Oadd (Econst_int (Int.repr 128) tuint)
                              (Ebinop Oshr (Econst_int (Int.repr 128) tuint)
                                (Econst_int (Int.repr 1) tint) tuint) tuint)
                            (Econst_int (Int.repr 1) tint) tuint) tuint))))
                  (Sset _target (Etempvar _t'5 tuint)))
                (Ssequence
                  (Swhile
                    (Ebinop Olt
                      (Ebinop Oadd (Etempvar _l tuint)
                        (Econst_int (Int.repr 1) tint) tuint)
                      (Etempvar _h tuint) tint)
                    (Ssequence
                      (Sset _m
                        (Ebinop Oshr
                          (Ebinop Oadd
                            (Ebinop Oadd (Etempvar _l tuint)
                              (Etempvar _h tuint) tuint)
                            (Econst_int (Int.repr 1) tint) tuint)
                          (Econst_int (Int.repr 1) tint) tuint))
                      (Sifthenelse (Ebinop Ole (Etempvar _m tuint)
                                     (Etempvar _target tuint) tint)
                        (Ssequence
                          (Ssequence
                            (Scall (Some _t'6)
                              (Evar _wormleaf_kv_at_is1 (Tfunction
                                                          (Tcons
                                                            (tptr (Tstruct _wormleaf noattr))
                                                            (Tcons tuint
                                                              (Tcons tuint
                                                                (Tcons
                                                                  (tptr (Tstruct _kv noattr))
                                                                  Tnil))))
                                                          (tptr (Tstruct _kv noattr))
                                                          cc_default))
                              ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                               (Etempvar _m tuint) ::
                               (Etempvar _is1 tuint) ::
                               (Etempvar _new (tptr (Tstruct _kv noattr))) ::
                               nil))
                            (Sset _k1
                              (Etempvar _t'6 (tptr (Tstruct _kv noattr)))))
                          (Ssequence
                            (Ssequence
                              (Scall (Some _t'7)
                                (Evar _wormleaf_kv_at_is1 (Tfunction
                                                            (Tcons
                                                              (tptr (Tstruct _wormleaf noattr))
                                                              (Tcons tuint
                                                                (Tcons tuint
                                                                  (Tcons
                                                                    (tptr (Tstruct _kv noattr))
                                                                    Tnil))))
                                                            (tptr (Tstruct _kv noattr))
                                                            cc_default))
                                ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                                 (Etempvar _h tuint) ::
                                 (Etempvar _is1 tuint) ::
                                 (Etempvar _new (tptr (Tstruct _kv noattr))) ::
                                 nil))
                              (Sset _k2
                                (Etempvar _t'7 (tptr (Tstruct _kv noattr)))))
                            (Ssequence
                              (Scall (Some _t'8)
                                (Evar _wormhole_split_cut_alen_check 
                                (Tfunction
                                  (Tcons tuint
                                    (Tcons (tptr (Tstruct _kv noattr))
                                      (Tcons (tptr (Tstruct _kv noattr))
                                        Tnil))) tbool cc_default))
                                ((Etempvar _alen tuint) ::
                                 (Etempvar _k1 (tptr (Tstruct _kv noattr))) ::
                                 (Etempvar _k2 (tptr (Tstruct _kv noattr))) ::
                                 nil))
                              (Sifthenelse (Etempvar _t'8 tbool)
                                (Sset _l (Etempvar _m tuint))
                                (Sset _h (Etempvar _m tuint))))))
                        (Ssequence
                          (Ssequence
                            (Scall (Some _t'9)
                              (Evar _wormleaf_kv_at_is1 (Tfunction
                                                          (Tcons
                                                            (tptr (Tstruct _wormleaf noattr))
                                                            (Tcons tuint
                                                              (Tcons tuint
                                                                (Tcons
                                                                  (tptr (Tstruct _kv noattr))
                                                                  Tnil))))
                                                          (tptr (Tstruct _kv noattr))
                                                          cc_default))
                              ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                               (Etempvar _l tuint) ::
                               (Etempvar _is1 tuint) ::
                               (Etempvar _new (tptr (Tstruct _kv noattr))) ::
                               nil))
                            (Sset _k1__1
                              (Etempvar _t'9 (tptr (Tstruct _kv noattr)))))
                          (Ssequence
                            (Ssequence
                              (Scall (Some _t'10)
                                (Evar _wormleaf_kv_at_is1 (Tfunction
                                                            (Tcons
                                                              (tptr (Tstruct _wormleaf noattr))
                                                              (Tcons tuint
                                                                (Tcons tuint
                                                                  (Tcons
                                                                    (tptr (Tstruct _kv noattr))
                                                                    Tnil))))
                                                            (tptr (Tstruct _kv noattr))
                                                            cc_default))
                                ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                                 (Etempvar _m tuint) ::
                                 (Etempvar _is1 tuint) ::
                                 (Etempvar _new (tptr (Tstruct _kv noattr))) ::
                                 nil))
                              (Sset _k2__1
                                (Etempvar _t'10 (tptr (Tstruct _kv noattr)))))
                            (Ssequence
                              (Scall (Some _t'11)
                                (Evar _wormhole_split_cut_alen_check 
                                (Tfunction
                                  (Tcons tuint
                                    (Tcons (tptr (Tstruct _kv noattr))
                                      (Tcons (tptr (Tstruct _kv noattr))
                                        Tnil))) tbool cc_default))
                                ((Etempvar _alen tuint) ::
                                 (Etempvar _k1__1 (tptr (Tstruct _kv noattr))) ::
                                 (Etempvar _k2__1 (tptr (Tstruct _kv noattr))) ::
                                 nil))
                              (Sifthenelse (Etempvar _t'11 tbool)
                                (Sset _h (Etempvar _m tuint))
                                (Sset _l (Etempvar _m tuint)))))))))
                  (Sreturn (Some (Etempvar _h tuint))))))))))))
|}.

Definition f_wormhole_split_leaf_move := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_leaf1, (tptr (Tstruct _wormleaf noattr))) ::
                (_leaf2, (tptr (Tstruct _wormleaf noattr))) ::
                (_cut, tuint) :: nil);
  fn_vars := ((_es, (tarray (Tstruct _entry13__1 noattr) 128)) :: nil);
  fn_temps := ((_nr_keys, tuint) :: (_i, tuint) :: (_i__1, tuint) ::
               (_i__2, tuint) :: (_t'2, tuchar) :: (_t'1, tuchar) :: nil);
  fn_body :=
(Ssequence
  (Sset _nr_keys
    (Efield
      (Ederef (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
        (Tstruct _wormleaf noattr)) _nr_keys tuint))
  (Ssequence
    (Ssequence
      (Sset _i (Etempvar _cut tuint))
      (Sloop
        (Ssequence
          (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                         (Etempvar _nr_keys tuint) tint)
            Sskip
            Sbreak)
          (Ssequence
            (Sset _t'2
              (Ederef
                (Ebinop Oadd
                  (Efield
                    (Ederef
                      (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
                      (Tstruct _wormleaf noattr)) _ss (tarray tuchar 128))
                  (Etempvar _i tuint) (tptr tuchar)) tuchar))
            (Scall None
              (Evar _wormleaf_insert_e13 (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormleaf noattr))
                                             (Tcons
                                               (Tstruct _entry13__1 noattr)
                                               Tnil)) tvoid cc_default))
              ((Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) ::
               (Ederef
                 (Ebinop Oadd
                   (Efield
                     (Ederef
                       (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
                       (Tstruct _wormleaf noattr)) _hs
                     (tarray (Tstruct _entry13__1 noattr) 128))
                   (Etempvar _t'2 tuchar)
                   (tptr (Tstruct _entry13__1 noattr)))
                 (Tstruct _entry13__1 noattr)) :: nil))))
        (Sset _i
          (Ebinop Oadd (Etempvar _i tuint) (Econst_int (Int.repr 1) tint)
            tuint))))
    (Ssequence
      (Sassign
        (Efield
          (Ederef (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _nr_sorted tuint)
        (Ebinop Osub (Etempvar _nr_keys tuint) (Etempvar _cut tuint) tuint))
      (Ssequence
        (Ssequence
          (Sset _i__1 (Econst_int (Int.repr 0) tint))
          (Sloop
            (Ssequence
              (Sifthenelse (Ebinop Olt (Etempvar _i__1 tuint)
                             (Etempvar _cut tuint) tint)
                Sskip
                Sbreak)
              (Ssequence
                (Sset _t'1
                  (Ederef
                    (Ebinop Oadd
                      (Efield
                        (Ederef
                          (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
                          (Tstruct _wormleaf noattr)) _ss
                        (tarray tuchar 128)) (Etempvar _i__1 tuint)
                      (tptr tuchar)) tuchar))
                (Sassign
                  (Ederef
                    (Ebinop Oadd
                      (Evar _es (tarray (Tstruct _entry13__1 noattr) 128))
                      (Etempvar _i__1 tuint)
                      (tptr (Tstruct _entry13__1 noattr)))
                    (Tstruct _entry13__1 noattr))
                  (Ederef
                    (Ebinop Oadd
                      (Efield
                        (Ederef
                          (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
                          (Tstruct _wormleaf noattr)) _hs
                        (tarray (Tstruct _entry13__1 noattr) 128))
                      (Etempvar _t'1 tuchar)
                      (tptr (Tstruct _entry13__1 noattr)))
                    (Tstruct _entry13__1 noattr)))))
            (Sset _i__1
              (Ebinop Oadd (Etempvar _i__1 tuint)
                (Econst_int (Int.repr 1) tint) tuint))))
        (Ssequence
          (Scall None
            (Evar _memset (Tfunction
                            (Tcons (tptr tvoid)
                              (Tcons tint (Tcons tulong Tnil))) (tptr tvoid)
                            cc_default))
            ((Efield
               (Ederef (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
                 (Tstruct _wormleaf noattr)) _hs
               (tarray (Tstruct _entry13__1 noattr) 128)) ::
             (Econst_int (Int.repr 0) tint) ::
             (Ebinop Omul (Esizeof (Tstruct _entry13__1 noattr) tulong)
               (Econst_int (Int.repr 128) tuint) tulong) :: nil))
          (Ssequence
            (Sassign
              (Efield
                (Ederef (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _nr_keys tuint)
              (Econst_int (Int.repr 0) tint))
            (Ssequence
              (Ssequence
                (Sset _i__2 (Econst_int (Int.repr 0) tint))
                (Sloop
                  (Ssequence
                    (Sifthenelse (Ebinop Olt (Etempvar _i__2 tuint)
                                   (Etempvar _cut tuint) tint)
                      Sskip
                      Sbreak)
                    (Scall None
                      (Evar _wormleaf_insert_e13 (Tfunction
                                                   (Tcons
                                                     (tptr (Tstruct _wormleaf noattr))
                                                     (Tcons
                                                       (Tstruct _entry13__1 noattr)
                                                       Tnil)) tvoid
                                                   cc_default))
                      ((Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
                       (Ederef
                         (Ebinop Oadd
                           (Evar _es (tarray (Tstruct _entry13__1 noattr) 128))
                           (Etempvar _i__2 tuint)
                           (tptr (Tstruct _entry13__1 noattr)))
                         (Tstruct _entry13__1 noattr)) :: nil)))
                  (Sset _i__2
                    (Ebinop Oadd (Etempvar _i__2 tuint)
                      (Econst_int (Int.repr 1) tint) tuint))))
              (Sassign
                (Efield
                  (Ederef (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
                    (Tstruct _wormleaf noattr)) _nr_sorted tuint)
                (Etempvar _cut tuint)))))))))
|}.

Definition f_wormhole_split_alloc_anchor := {|
  fn_return := (tptr (Tstruct _kv noattr));
  fn_callconv := cc_default;
  fn_params := ((_key1, (tptr (Tstruct _kv noattr))) ::
                (_key2, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_alen, tuint) :: (_anchor, (tptr (Tstruct _kv noattr))) ::
               (_t'2, (tptr (Tstruct _kv noattr))) :: (_t'1, tuint) ::
               (_t'3, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _kv_key_lcp (Tfunction
                          (Tcons (tptr (Tstruct _kv noattr))
                            (Tcons (tptr (Tstruct _kv noattr)) Tnil)) tuint
                          cc_default))
      ((Etempvar _key1 (tptr (Tstruct _kv noattr))) ::
       (Etempvar _key2 (tptr (Tstruct _kv noattr))) :: nil))
    (Sset _alen
      (Ebinop Oadd (Etempvar _t'1 tuint) (Econst_int (Int.repr 1) tint)
        tuint)))
  (Ssequence
    (Ssequence
      (Sset _t'3
        (Efield
          (Efield
            (Efield
              (Ederef (Etempvar _key2 (tptr (Tstruct _kv noattr)))
                (Tstruct _kv noattr)) 18727075383868559167%positive
              (Tunion __6646 noattr)) 18727075383868559167%positive
            (Tstruct __6647 noattr)) _klen tuint))
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Ebinop Ole (Etempvar _alen tuint) (Etempvar _t'3 tuint) tint) ::
         nil)))
    (Ssequence
      (Ssequence
        (Scall (Some _t'2)
          (Evar _wormhole_alloc_akey (Tfunction (Tcons tulong Tnil)
                                       (tptr (Tstruct _kv noattr))
                                       cc_default))
          ((Etempvar _alen tuint) :: nil))
        (Sset _anchor (Etempvar _t'2 (tptr (Tstruct _kv noattr)))))
      (Ssequence
        (Sifthenelse (Etempvar _anchor (tptr (Tstruct _kv noattr)))
          (Scall None
            (Evar _kv_refill (Tfunction
                               (Tcons (tptr (Tstruct _kv noattr))
                                 (Tcons (tptr tvoid)
                                   (Tcons tuint
                                     (Tcons (tptr tvoid) (Tcons tuint Tnil)))))
                               tvoid cc_default))
            ((Etempvar _anchor (tptr (Tstruct _kv noattr))) ::
             (Efield
               (Ederef (Etempvar _key2 (tptr (Tstruct _kv noattr)))
                 (Tstruct _kv noattr)) _kv (tarray tuchar 0)) ::
             (Etempvar _alen tuint) ::
             (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) ::
             (Econst_int (Int.repr 0) tint) :: nil))
          Sskip)
        (Sreturn (Some (Etempvar _anchor (tptr (Tstruct _kv noattr)))))))))
|}.

Definition f_wormhole_split_leaf := {|
  fn_return := (tptr (Tstruct _wormleaf noattr));
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_leaf1, (tptr (Tstruct _wormleaf noattr))) ::
                (_new, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := ((_kref_new, (Tstruct _kref noattr)) :: nil);
  fn_temps := ((_is1, tuint) :: (_cut, tuint) ::
               (_key1, (tptr (Tstruct _kv noattr))) ::
               (_key2, (tptr (Tstruct _kv noattr))) ::
               (_anchor2, (tptr (Tstruct _kv noattr))) ::
               (_leaf2, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'9, (tptr (Tstruct _wormleaf noattr))) :: (_t'8, tuint) ::
               (_t'7, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'6, (tptr (Tstruct _kv noattr))) ::
               (_t'5, (tptr (Tstruct _kv noattr))) ::
               (_t'4, (tptr (Tstruct _kv noattr))) :: (_t'3, tint) ::
               (_t'2, tuint) :: (_t'1, tuint) :: (_t'12, tuint) ::
               (_t'11, tuint) ::
               (_t'10, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _wormleaf_sync_sorted (Tfunction
                                  (Tcons (tptr (Tstruct _wormleaf noattr))
                                    Tnil) tvoid cc_default))
    ((Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) :: nil))
  (Ssequence
    (Scall None
      (Evar _kref_ref_kv (Tfunction
                           (Tcons (tptr (Tstruct _kref noattr))
                             (Tcons (tptr (Tstruct _kv noattr)) Tnil)) tvoid
                           cc_default))
      ((Eaddrof (Evar _kref_new (Tstruct _kref noattr))
         (tptr (Tstruct _kref noattr))) ::
       (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil))
    (Ssequence
      (Ssequence
        (Scall (Some _t'1)
          (Evar _wormleaf_search_ss (Tfunction
                                      (Tcons
                                        (tptr (Tstruct _wormleaf noattr))
                                        (Tcons (tptr (Tstruct _kref noattr))
                                          Tnil)) tuint cc_default))
          ((Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
           (Eaddrof (Evar _kref_new (Tstruct _kref noattr))
             (tptr (Tstruct _kref noattr))) :: nil))
        (Sset _is1 (Etempvar _t'1 tuint)))
      (Ssequence
        (Ssequence
          (Ssequence
            (Sset _t'12
              (Efield
                (Ederef (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _nr_keys tuint))
            (Scall (Some _t'2)
              (Evar _wormhole_split_cut_search1 (Tfunction
                                                  (Tcons
                                                    (tptr (Tstruct _wormleaf noattr))
                                                    (Tcons tuint
                                                      (Tcons tuint
                                                        (Tcons tuint
                                                          (Tcons
                                                            (tptr (Tstruct _kv noattr))
                                                            Tnil))))) tuint
                                                  cc_default))
              ((Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
               (Econst_int (Int.repr 0) tint) :: (Etempvar _t'12 tuint) ::
               (Etempvar _is1 tuint) ::
               (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil)))
          (Sset _cut (Etempvar _t'2 tuint)))
        (Ssequence
          (Sifthenelse (Ebinop Oeq (Etempvar _cut tuint)
                         (Ebinop Oadd (Econst_int (Int.repr 128) tuint)
                           (Econst_int (Int.repr 128) tuint) tuint) tint)
            (Sreturn (Some (Ecast (Econst_int (Int.repr 0) tint)
                             (tptr tvoid))))
            Sskip)
          (Ssequence
            (Ssequence
              (Sifthenelse (Etempvar _cut tuint)
                (Ssequence
                  (Sset _t'11
                    (Efield
                      (Ederef
                        (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
                        (Tstruct _wormleaf noattr)) _nr_keys tuint))
                  (Sset _t'3
                    (Ecast
                      (Ebinop Ole (Etempvar _cut tuint)
                        (Etempvar _t'11 tuint) tint) tbool)))
                (Sset _t'3 (Econst_int (Int.repr 0) tint)))
              (Scall None
                (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid
                                      cc_default))
                ((Etempvar _t'3 tint) :: nil)))
            (Ssequence
              (Ssequence
                (Scall (Some _t'4)
                  (Evar _wormleaf_kv_at_is1 (Tfunction
                                              (Tcons
                                                (tptr (Tstruct _wormleaf noattr))
                                                (Tcons tuint
                                                  (Tcons tuint
                                                    (Tcons
                                                      (tptr (Tstruct _kv noattr))
                                                      Tnil))))
                                              (tptr (Tstruct _kv noattr))
                                              cc_default))
                  ((Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
                   (Ebinop Osub (Etempvar _cut tuint)
                     (Econst_int (Int.repr 1) tint) tuint) ::
                   (Etempvar _is1 tuint) ::
                   (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil))
                (Sset _key1 (Etempvar _t'4 (tptr (Tstruct _kv noattr)))))
              (Ssequence
                (Ssequence
                  (Scall (Some _t'5)
                    (Evar _wormleaf_kv_at_is1 (Tfunction
                                                (Tcons
                                                  (tptr (Tstruct _wormleaf noattr))
                                                  (Tcons tuint
                                                    (Tcons tuint
                                                      (Tcons
                                                        (tptr (Tstruct _kv noattr))
                                                        Tnil))))
                                                (tptr (Tstruct _kv noattr))
                                                cc_default))
                    ((Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
                     (Etempvar _cut tuint) :: (Etempvar _is1 tuint) ::
                     (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil))
                  (Sset _key2 (Etempvar _t'5 (tptr (Tstruct _kv noattr)))))
                (Ssequence
                  (Ssequence
                    (Scall (Some _t'6)
                      (Evar _wormhole_split_alloc_anchor (Tfunction
                                                           (Tcons
                                                             (tptr (Tstruct _kv noattr))
                                                             (Tcons
                                                               (tptr (Tstruct _kv noattr))
                                                               Tnil))
                                                           (tptr (Tstruct _kv noattr))
                                                           cc_default))
                      ((Etempvar _key1 (tptr (Tstruct _kv noattr))) ::
                       (Etempvar _key2 (tptr (Tstruct _kv noattr))) :: nil))
                    (Sset _anchor2
                      (Etempvar _t'6 (tptr (Tstruct _kv noattr)))))
                  (Ssequence
                    (Sifthenelse (Ebinop Oeq
                                   (Etempvar _anchor2 (tptr (Tstruct _kv noattr)))
                                   (Ecast (Econst_int (Int.repr 0) tint)
                                     (tptr tvoid)) tint)
                      (Sreturn (Some (Ecast (Econst_int (Int.repr 0) tint)
                                       (tptr tvoid))))
                      Sskip)
                    (Ssequence
                      (Ssequence
                        (Ssequence
                          (Sset _t'10
                            (Efield
                              (Ederef
                                (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
                                (Tstruct _wormleaf noattr)) _next
                              (tptr (Tstruct _wormleaf noattr))))
                          (Scall (Some _t'7)
                            (Evar _wormleaf_alloc (Tfunction
                                                    (Tcons
                                                      (tptr (Tstruct _wormhole noattr))
                                                      (Tcons
                                                        (tptr (Tstruct _wormleaf noattr))
                                                        (Tcons
                                                          (tptr (Tstruct _wormleaf noattr))
                                                          (Tcons
                                                            (tptr (Tstruct _kv noattr))
                                                            Tnil))))
                                                    (tptr (Tstruct _wormleaf noattr))
                                                    cc_default))
                            ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                             (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
                             (Etempvar _t'10 (tptr (Tstruct _wormleaf noattr))) ::
                             (Etempvar _anchor2 (tptr (Tstruct _kv noattr))) ::
                             nil)))
                        (Sset _leaf2
                          (Etempvar _t'7 (tptr (Tstruct _wormleaf noattr)))))
                      (Ssequence
                        (Sifthenelse (Ebinop Oeq
                                       (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                                       (Ecast (Econst_int (Int.repr 0) tint)
                                         (tptr tvoid)) tint)
                          (Ssequence
                            (Scall None
                              (Evar _wormhole_free_akey (Tfunction
                                                          (Tcons
                                                            (tptr (Tstruct _kv noattr))
                                                            Tnil) tvoid
                                                          cc_default))
                              ((Etempvar _anchor2 (tptr (Tstruct _kv noattr))) ::
                               nil))
                            (Sreturn (Some (Ecast
                                             (Econst_int (Int.repr 0) tint)
                                             (tptr tvoid)))))
                          Sskip)
                        (Ssequence
                          (Ssequence
                            (Sifthenelse (Ebinop Ole (Etempvar _cut tuint)
                                           (Etempvar _is1 tuint) tint)
                              (Sset _t'8 (Ecast (Etempvar _cut tuint) tuint))
                              (Sset _t'8
                                (Ecast
                                  (Ebinop Osub (Etempvar _cut tuint)
                                    (Econst_int (Int.repr 1) tint) tuint)
                                  tuint)))
                            (Scall None
                              (Evar _wormhole_split_leaf_move (Tfunction
                                                                (Tcons
                                                                  (tptr (Tstruct _wormleaf noattr))
                                                                  (Tcons
                                                                    (tptr (Tstruct _wormleaf noattr))
                                                                    (Tcons
                                                                    tuint
                                                                    Tnil)))
                                                                tvoid
                                                                cc_default))
                              ((Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
                               (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) ::
                               (Etempvar _t'8 tuint) :: nil)))
                          (Ssequence
                            (Ssequence
                              (Sifthenelse (Ebinop Ole (Etempvar _cut tuint)
                                             (Etempvar _is1 tuint) tint)
                                (Sset _t'9
                                  (Ecast
                                    (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                                    (tptr (Tstruct _wormleaf noattr))))
                                (Sset _t'9
                                  (Ecast
                                    (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
                                    (tptr (Tstruct _wormleaf noattr)))))
                              (Scall None
                                (Evar _wormleaf_insert (Tfunction
                                                         (Tcons
                                                           (tptr (Tstruct _wormleaf noattr))
                                                           (Tcons
                                                             (tptr (Tstruct _kv noattr))
                                                             Tnil)) tvoid
                                                         cc_default))
                                ((Etempvar _t'9 (tptr (Tstruct _wormleaf noattr))) ::
                                 (Etempvar _new (tptr (Tstruct _kv noattr))) ::
                                 nil)))
                            (Sreturn (Some (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))))))))))))))))))
|}.

Definition f_wormleaf_merge := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_leaf1, (tptr (Tstruct _wormleaf noattr))) ::
                (_leaf2, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_leaf1_sorted, tbool) :: (_i, tuint) :: (_t'8, tuint) ::
               (_t'7, tuint) :: (_t'6, tuint) :: (_t'5, tuint) ::
               (_t'4, tuint) :: (_t'3, tuchar) :: (_t'2, tuint) ::
               (_t'1, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'7
      (Efield
        (Ederef (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _nr_keys tuint))
    (Ssequence
      (Sset _t'8
        (Efield
          (Ederef (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _nr_keys tuint))
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Ebinop Ole
           (Ebinop Oadd (Etempvar _t'7 tuint) (Etempvar _t'8 tuint) tuint)
           (Econst_int (Int.repr 128) tuint) tint) :: nil))))
  (Ssequence
    (Ssequence
      (Sset _t'5
        (Efield
          (Ederef (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _nr_keys tuint))
      (Ssequence
        (Sset _t'6
          (Efield
            (Ederef (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
              (Tstruct _wormleaf noattr)) _nr_sorted tuint))
        (Sset _leaf1_sorted
          (Ecast
            (Ebinop Oeq (Etempvar _t'5 tuint) (Etempvar _t'6 tuint) tint)
            tbool))))
    (Ssequence
      (Ssequence
        (Sset _i (Econst_int (Int.repr 0) tint))
        (Sloop
          (Ssequence
            (Ssequence
              (Sset _t'4
                (Efield
                  (Ederef (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                    (Tstruct _wormleaf noattr)) _nr_keys tuint))
              (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                             (Etempvar _t'4 tuint) tint)
                Sskip
                Sbreak))
            (Ssequence
              (Sset _t'3
                (Ederef
                  (Ebinop Oadd
                    (Efield
                      (Ederef
                        (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                        (Tstruct _wormleaf noattr)) _ss (tarray tuchar 128))
                    (Etempvar _i tuint) (tptr tuchar)) tuchar))
              (Scall None
                (Evar _wormleaf_insert_e13 (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _wormleaf noattr))
                                               (Tcons
                                                 (Tstruct _entry13__1 noattr)
                                                 Tnil)) tvoid cc_default))
                ((Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
                 (Ederef
                   (Ebinop Oadd
                     (Efield
                       (Ederef
                         (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                         (Tstruct _wormleaf noattr)) _hs
                       (tarray (Tstruct _entry13__1 noattr) 128))
                     (Etempvar _t'3 tuchar)
                     (tptr (Tstruct _entry13__1 noattr)))
                   (Tstruct _entry13__1 noattr)) :: nil))))
          (Sset _i
            (Ebinop Oadd (Etempvar _i tuint) (Econst_int (Int.repr 1) tint)
              tuint))))
      (Ssequence
        (Sifthenelse (Etempvar _leaf1_sorted tbool)
          (Ssequence
            (Sset _t'1
              (Efield
                (Ederef (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _nr_sorted tuint))
            (Ssequence
              (Sset _t'2
                (Efield
                  (Ederef (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                    (Tstruct _wormleaf noattr)) _nr_sorted tuint))
              (Sassign
                (Efield
                  (Ederef (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
                    (Tstruct _wormleaf noattr)) _nr_sorted tuint)
                (Ebinop Oadd (Etempvar _t'1 tuint) (Etempvar _t'2 tuint)
                  tuint))))
          Sskip)
        (Sreturn (Some (Econst_int (Int.repr 1) tint)))))))
|}.

Definition f_wormleaf_split_undo := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_leaf1, (tptr (Tstruct _wormleaf noattr))) ::
                (_leaf2, (tptr (Tstruct _wormleaf noattr))) ::
                (_new, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := ((_e, (Tstruct _entry13__1 noattr)) ::
              (__res, (Tstruct _entry13__1 noattr)) :: nil);
  fn_temps := ((_im1, tuint) :: (_im2, tuint) :: (_t'5, tbool) ::
               (_t'4, tuint) :: (_t'3, tuint) :: (_t'2, tulong) ::
               (_t'1, tushort) :: (_t'7, tuint) ::
               (_t'6, (tptr (Tstruct _slab noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sifthenelse (Etempvar _new (tptr (Tstruct _kv noattr)))
    (Ssequence
      (Ssequence
        (Ssequence
          (Ssequence
            (Ssequence
              (Sset _t'7
                (Efield
                  (Efield
                    (Efield
                      (Ederef (Etempvar _new (tptr (Tstruct _kv noattr)))
                        (Tstruct _kv noattr)) 19015305760020270911%positive
                      (Tunion __6649 noattr)) 18727075383868559167%positive
                    (Tstruct __6650 noattr)) _hashlo tuint))
              (Scall (Some _t'1)
                (Evar _wormhole_pkey (Tfunction (Tcons tuint Tnil) tushort
                                       cc_default))
                ((Etempvar _t'7 tuint) :: nil)))
            (Scall (Some _t'2)
              (Evar _ptr_to_u64 (Tfunction (Tcons (tptr tvoid) Tnil) tulong
                                  cc_default))
              ((Etempvar _new (tptr (Tstruct _kv noattr))) :: nil)))
          (Scall None
            (Evar _entry13 (Tfunction
                             (Tcons (tptr (Tstruct _entry13__1 noattr))
                               (Tcons tushort (Tcons tulong Tnil))) tvoid
                             {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
            ((Eaddrof (Evar __res (Tstruct _entry13__1 noattr))
               (tptr (Tstruct _entry13__1 noattr))) ::
             (Etempvar _t'1 tushort) :: (Etempvar _t'2 tulong) :: nil)))
        (Sassign (Evar _e (Tstruct _entry13__1 noattr))
          (Evar __res (Tstruct _entry13__1 noattr))))
      (Ssequence
        (Ssequence
          (Scall (Some _t'3)
            (Evar _wormleaf_search_ih (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormleaf noattr))
                                          (Tcons (Tstruct _entry13__1 noattr)
                                            Tnil)) tuint cc_default))
            ((Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
             (Evar _e (Tstruct _entry13__1 noattr)) :: nil))
          (Sset _im1 (Etempvar _t'3 tuint)))
        (Sifthenelse (Ebinop Olt (Etempvar _im1 tuint)
                       (Econst_int (Int.repr 128) tuint) tint)
          (Scall None
            (Evar _wormleaf_remove_ih (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormleaf noattr))
                                          (Tcons tuint Tnil))
                                        (tptr (Tstruct _kv noattr))
                                        cc_default))
            ((Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
             (Etempvar _im1 tuint) :: nil))
          (Ssequence
            (Ssequence
              (Scall (Some _t'4)
                (Evar _wormleaf_search_ih (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormleaf noattr))
                                              (Tcons
                                                (Tstruct _entry13__1 noattr)
                                                Tnil)) tuint cc_default))
                ((Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) ::
                 (Evar _e (Tstruct _entry13__1 noattr)) :: nil))
              (Sset _im2 (Etempvar _t'4 tuint)))
            (Ssequence
              (Scall None
                (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid
                                      cc_default))
                ((Ebinop Olt (Etempvar _im2 tuint)
                   (Econst_int (Int.repr 128) tuint) tint) :: nil))
              (Scall None
                (Evar _wormleaf_remove_ih (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormleaf noattr))
                                              (Tcons tuint Tnil))
                                            (tptr (Tstruct _kv noattr))
                                            cc_default))
                ((Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) ::
                 (Etempvar _im2 tuint) :: nil)))))))
    Sskip)
  (Ssequence
    (Ssequence
      (Scall (Some _t'5)
        (Evar _wormleaf_merge (Tfunction
                                (Tcons (tptr (Tstruct _wormleaf noattr))
                                  (Tcons (tptr (Tstruct _wormleaf noattr))
                                    Tnil)) tbool cc_default))
        ((Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
         (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) :: nil))
      (Sifthenelse (Eunop Onotbool (Etempvar _t'5 tbool) tint)
        (Scall None (Evar _debug_die (Tfunction Tnil tvoid cc_default)) nil)
        Sskip))
    (Ssequence
      (Sassign
        (Efield
          (Efield
            (Ederef (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
              (Tstruct _wormleaf noattr)) _leaflock (Tunion __6333 noattr))
          _opaque tuint) (Econst_int (Int.repr 0) tint))
      (Ssequence
        (Sset _t'6
          (Efield
            (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
              (Tstruct _wormhole noattr)) _slab_leaf
            (tptr (Tstruct _slab noattr))))
        (Scall None
          (Evar _wormleaf_free (Tfunction
                                 (Tcons (tptr (Tstruct _slab noattr))
                                   (Tcons (tptr (Tstruct _wormleaf noattr))
                                     Tnil)) tvoid cc_default))
          ((Etempvar _t'6 (tptr (Tstruct _slab noattr))) ::
           (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) :: nil))))))
|}.

Definition f_wormhole_get := {|
  fn_return := (tptr (Tstruct _kv noattr));
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) ::
                (_out, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_i, tuint) ::
               (_tmp, (tptr (Tstruct _kv noattr))) ::
               (_t'5, (tptr (Tstruct _kv noattr))) ::
               (_t'4, (tptr (Tstruct _kv noattr))) :: (_t'3, (tptr tvoid)) ::
               (_t'2, tuint) :: (_t'1, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'7,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                        (tptr (Tstruct _kv noattr)) cc_default))) ::
               (_t'6, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhole_jump_leaf_read (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormref noattr))
                                         (Tcons (tptr (Tstruct _kref noattr))
                                           Tnil))
                                       (tptr (Tstruct _wormleaf noattr))
                                       cc_default))
      ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
       (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
    (Sset _leaf (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))))
  (Ssequence
    (Ssequence
      (Scall (Some _t'2)
        (Evar _wormleaf_match_hs (Tfunction
                                   (Tcons (tptr (Tstruct _wormleaf noattr))
                                     (Tcons (tptr (Tstruct _kref noattr))
                                       Tnil)) tuint cc_default))
        ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
         (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
      (Sset _i (Etempvar _t'2 tuint)))
    (Ssequence
      (Ssequence
        (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                       (Econst_int (Int.repr 128) tuint) tint)
          (Ssequence
            (Ssequence
              (Scall (Some _t'4)
                (Evar _wormleaf_kv_at_ih (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormleaf noattr))
                                             (Tcons tuint Tnil))
                                           (tptr (Tstruct _kv noattr))
                                           cc_default))
                ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                 (Etempvar _i tuint) :: nil))
              (Ssequence
                (Sset _t'6
                  (Efield
                    (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
                      (Tstruct _wormref noattr)) _map
                    (tptr (Tstruct _wormhole noattr))))
                (Ssequence
                  (Sset _t'7
                    (Efield
                      (Efield
                        (Ederef
                          (Etempvar _t'6 (tptr (Tstruct _wormhole noattr)))
                          (Tstruct _wormhole noattr)) _mm
                        (Tstruct _kvmap_mm noattr)) _out
                      (tptr (Tfunction
                              (Tcons (tptr (Tstruct _kv noattr))
                                (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                              (tptr (Tstruct _kv noattr)) cc_default))))
                  (Scall (Some _t'5)
                    (Etempvar _t'7 (tptr (Tfunction
                                           (Tcons (tptr (Tstruct _kv noattr))
                                             (Tcons
                                               (tptr (Tstruct _kv noattr))
                                               Tnil))
                                           (tptr (Tstruct _kv noattr))
                                           cc_default)))
                    ((Etempvar _t'4 (tptr (Tstruct _kv noattr))) ::
                     (Etempvar _out (tptr (Tstruct _kv noattr))) :: nil)))))
            (Sset _t'3
              (Ecast (Etempvar _t'5 (tptr (Tstruct _kv noattr)))
                (tptr tvoid))))
          (Sset _t'3
            (Ecast (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))
              (tptr tvoid))))
        (Sset _tmp (Etempvar _t'3 (tptr tvoid))))
      (Ssequence
        (Scall None
          (Evar _wormleaf_unlock_read (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormleaf noattr))
                                          Tnil) tvoid cc_default))
          ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
        (Sreturn (Some (Etempvar _tmp (tptr (Tstruct _kv noattr)))))))))
|}.

Definition f_whsafe_get := {|
  fn_return := (tptr (Tstruct _kv noattr));
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) ::
                (_out, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_ret, (tptr (Tstruct _kv noattr))) ::
               (_t'1, (tptr (Tstruct _kv noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _wormhole_resume (Tfunction
                             (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                             tvoid cc_default))
    ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
  (Ssequence
    (Ssequence
      (Scall (Some _t'1)
        (Evar _wormhole_get (Tfunction
                              (Tcons (tptr (Tstruct _wormref noattr))
                                (Tcons (tptr (Tstruct _kref noattr))
                                  (Tcons (tptr (Tstruct _kv noattr)) Tnil)))
                              (tptr (Tstruct _kv noattr)) cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
         (Etempvar _key (tptr (Tstruct _kref noattr))) ::
         (Etempvar _out (tptr (Tstruct _kv noattr))) :: nil))
      (Sset _ret (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
    (Ssequence
      (Scall None
        (Evar _wormhole_park (Tfunction
                               (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                               tvoid cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
      (Sreturn (Some (Etempvar _ret (tptr (Tstruct _kv noattr))))))))
|}.

Definition f_whunsafe_get := {|
  fn_return := (tptr (Tstruct _kv noattr));
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) ::
                (_out, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_i, tuint) ::
               (_t'5, (tptr (Tstruct _kv noattr))) ::
               (_t'4, (tptr (Tstruct _kv noattr))) :: (_t'3, (tptr tvoid)) ::
               (_t'2, tuint) :: (_t'1, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'7, (tptr (Tstruct _wormhmap noattr))) ::
               (_t'6,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                        (tptr (Tstruct _kv noattr)) cc_default))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'7
        (Efield
          (Efield
            (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
              (Tstruct _wormhole noattr)) 18727075383868559167%positive
            (Tunion __7371 noattr)) _hmap (tptr (Tstruct _wormhmap noattr))))
      (Scall (Some _t'1)
        (Evar _wormhole_jump_leaf (Tfunction
                                    (Tcons (tptr (Tstruct _wormhmap noattr))
                                      (Tcons (tptr (Tstruct _kref noattr))
                                        Tnil))
                                    (tptr (Tstruct _wormleaf noattr))
                                    cc_default))
        ((Etempvar _t'7 (tptr (Tstruct _wormhmap noattr))) ::
         (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil)))
    (Sset _leaf (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))))
  (Ssequence
    (Ssequence
      (Scall (Some _t'2)
        (Evar _wormleaf_match_hs (Tfunction
                                   (Tcons (tptr (Tstruct _wormleaf noattr))
                                     (Tcons (tptr (Tstruct _kref noattr))
                                       Tnil)) tuint cc_default))
        ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
         (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
      (Sset _i (Etempvar _t'2 tuint)))
    (Ssequence
      (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                     (Econst_int (Int.repr 128) tuint) tint)
        (Ssequence
          (Ssequence
            (Scall (Some _t'4)
              (Evar _wormleaf_kv_at_ih (Tfunction
                                         (Tcons
                                           (tptr (Tstruct _wormleaf noattr))
                                           (Tcons tuint Tnil))
                                         (tptr (Tstruct _kv noattr))
                                         cc_default))
              ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
               (Etempvar _i tuint) :: nil))
            (Ssequence
              (Sset _t'6
                (Efield
                  (Efield
                    (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                      (Tstruct _wormhole noattr)) _mm
                    (Tstruct _kvmap_mm noattr)) _out
                  (tptr (Tfunction
                          (Tcons (tptr (Tstruct _kv noattr))
                            (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                          (tptr (Tstruct _kv noattr)) cc_default))))
              (Scall (Some _t'5)
                (Etempvar _t'6 (tptr (Tfunction
                                       (Tcons (tptr (Tstruct _kv noattr))
                                         (Tcons (tptr (Tstruct _kv noattr))
                                           Tnil)) (tptr (Tstruct _kv noattr))
                                       cc_default)))
                ((Etempvar _t'4 (tptr (Tstruct _kv noattr))) ::
                 (Etempvar _out (tptr (Tstruct _kv noattr))) :: nil))))
          (Sset _t'3
            (Ecast (Etempvar _t'5 (tptr (Tstruct _kv noattr))) (tptr tvoid))))
        (Sset _t'3
          (Ecast (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))
            (tptr tvoid))))
      (Sreturn (Some (Etempvar _t'3 (tptr tvoid)))))))
|}.

Definition f_wormhole_probe := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_i, tuint) ::
               (_t'2, tuint) :: (_t'1, (tptr (Tstruct _wormleaf noattr))) ::
               nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhole_jump_leaf_read (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormref noattr))
                                         (Tcons (tptr (Tstruct _kref noattr))
                                           Tnil))
                                       (tptr (Tstruct _wormleaf noattr))
                                       cc_default))
      ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
       (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
    (Sset _leaf (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))))
  (Ssequence
    (Ssequence
      (Scall (Some _t'2)
        (Evar _wormleaf_match_hs (Tfunction
                                   (Tcons (tptr (Tstruct _wormleaf noattr))
                                     (Tcons (tptr (Tstruct _kref noattr))
                                       Tnil)) tuint cc_default))
        ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
         (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
      (Sset _i (Etempvar _t'2 tuint)))
    (Ssequence
      (Scall None
        (Evar _wormleaf_unlock_read (Tfunction
                                      (Tcons
                                        (tptr (Tstruct _wormleaf noattr))
                                        Tnil) tvoid cc_default))
        ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
      (Sreturn (Some (Ebinop Olt (Etempvar _i tuint)
                       (Econst_int (Int.repr 128) tuint) tint))))))
|}.

Definition f_whsafe_probe := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_r, tbool) :: (_t'1, tbool) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _wormhole_resume (Tfunction
                             (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                             tvoid cc_default))
    ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
  (Ssequence
    (Ssequence
      (Scall (Some _t'1)
        (Evar _wormhole_probe (Tfunction
                                (Tcons (tptr (Tstruct _wormref noattr))
                                  (Tcons (tptr (Tstruct _kref noattr)) Tnil))
                                tbool cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
         (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
      (Sset _r (Ecast (Etempvar _t'1 tbool) tbool)))
    (Ssequence
      (Scall None
        (Evar _wormhole_park (Tfunction
                               (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                               tvoid cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
      (Sreturn (Some (Etempvar _r tbool))))))
|}.

Definition f_whunsafe_probe := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_t'2, tuint) ::
               (_t'1, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'3, (tptr (Tstruct _wormhmap noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'3
        (Efield
          (Efield
            (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
              (Tstruct _wormhole noattr)) 18727075383868559167%positive
            (Tunion __7371 noattr)) _hmap (tptr (Tstruct _wormhmap noattr))))
      (Scall (Some _t'1)
        (Evar _wormhole_jump_leaf (Tfunction
                                    (Tcons (tptr (Tstruct _wormhmap noattr))
                                      (Tcons (tptr (Tstruct _kref noattr))
                                        Tnil))
                                    (tptr (Tstruct _wormleaf noattr))
                                    cc_default))
        ((Etempvar _t'3 (tptr (Tstruct _wormhmap noattr))) ::
         (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil)))
    (Sset _leaf (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))))
  (Ssequence
    (Scall (Some _t'2)
      (Evar _wormleaf_match_hs (Tfunction
                                 (Tcons (tptr (Tstruct _wormleaf noattr))
                                   (Tcons (tptr (Tstruct _kref noattr)) Tnil))
                                 tuint cc_default))
      ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
       (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
    (Sreturn (Some (Ebinop Olt (Etempvar _t'2 tuint)
                     (Econst_int (Int.repr 128) tuint) tint)))))
|}.

Definition f_wormmeta_expand := {|
  fn_return := (tptr (Tstruct _wormmeta noattr));
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_meta1, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_meta2, (tptr (Tstruct _wormmeta noattr))) :: (_i, tuint) ::
               (_bitmin, tuint) :: (_t'3, tuint) :: (_t'2, tuint) ::
               (_t'1, (tptr tvoid)) ::
               (_t'6, (tptr (Tstruct _slab noattr))) :: (_t'5, tulong) ::
               (_t'4, (tptr (Tstruct _slab noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'6
        (Efield
          (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
            (Tstruct _wormhmap noattr)) _slab2 (tptr (Tstruct _slab noattr))))
      (Scall (Some _t'1)
        (Evar _slab_alloc_unsafe (Tfunction
                                   (Tcons (tptr (Tstruct _slab noattr)) Tnil)
                                   (tptr tvoid) cc_default))
        ((Etempvar _t'6 (tptr (Tstruct _slab noattr))) :: nil)))
    (Sset _meta2 (Etempvar _t'1 (tptr tvoid))))
  (Ssequence
    (Sifthenelse (Ebinop Oeq
                   (Etempvar _meta2 (tptr (Tstruct _wormmeta noattr)))
                   (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) tint)
      (Sreturn (Some (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))))
      Sskip)
    (Ssequence
      (Scall None
        (Evar _memcpy (Tfunction
                        (Tcons (tptr tvoid)
                          (Tcons (tptr tvoid) (Tcons tulong Tnil)))
                        (tptr tvoid) cc_default))
        ((Etempvar _meta2 (tptr (Tstruct _wormmeta noattr))) ::
         (Etempvar _meta1 (tptr (Tstruct _wormmeta noattr))) ::
         (Esizeof (Tstruct _wormmeta noattr) tulong) :: nil))
      (Ssequence
        (Ssequence
          (Sset _i (Econst_int (Int.repr 0) tint))
          (Sloop
            (Ssequence
              (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                             (Ebinop Oshr (Econst_int (Int.repr 256) tuint)
                               (Econst_int (Int.repr 6) tint) tuint) tint)
                Sskip
                Sbreak)
              (Sassign
                (Ederef
                  (Ebinop Oadd
                    (Efield
                      (Ederef
                        (Etempvar _meta2 (tptr (Tstruct _wormmeta noattr)))
                        (Tstruct _wormmeta noattr)) _bitmap
                      (tarray tulong 0)) (Etempvar _i tuint) (tptr tulong))
                  tulong) (Econst_int (Int.repr 0) tint)))
            (Sset _i
              (Ebinop Oadd (Etempvar _i tuint) (Econst_int (Int.repr 1) tint)
                tuint))))
        (Ssequence
          (Ssequence
            (Scall (Some _t'2)
              (Evar _wormmeta_bitmin_load (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormmeta noattr))
                                              Tnil) tuint cc_default))
              ((Etempvar _meta1 (tptr (Tstruct _wormmeta noattr))) :: nil))
            (Sset _bitmin (Etempvar _t'2 tuint)))
          (Ssequence
            (Ssequence
              (Scall (Some _t'3)
                (Evar _wormmeta_bitmax_load (Tfunction
                                              (Tcons
                                                (tptr (Tstruct _wormmeta noattr))
                                                Tnil) tuint cc_default))
                ((Etempvar _meta1 (tptr (Tstruct _wormmeta noattr))) :: nil))
              (Scall None
                (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid
                                      cc_default))
                ((Ebinop Oeq (Etempvar _bitmin tuint) (Etempvar _t'3 tuint)
                   tint) :: nil)))
            (Ssequence
              (Scall None
                (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid
                                      cc_default))
                ((Ebinop Olt (Etempvar _bitmin tuint)
                   (Econst_int (Int.repr 256) tuint) tint) :: nil))
              (Ssequence
                (Ssequence
                  (Sset _t'5
                    (Ederef
                      (Ebinop Oadd
                        (Efield
                          (Ederef
                            (Etempvar _meta2 (tptr (Tstruct _wormmeta noattr)))
                            (Tstruct _wormmeta noattr)) _bitmap
                          (tarray tulong 0))
                        (Ebinop Oshr (Etempvar _bitmin tuint)
                          (Econst_int (Int.repr 6) tuint) tuint)
                        (tptr tulong)) tulong))
                  (Sassign
                    (Ederef
                      (Ebinop Oadd
                        (Efield
                          (Ederef
                            (Etempvar _meta2 (tptr (Tstruct _wormmeta noattr)))
                            (Tstruct _wormmeta noattr)) _bitmap
                          (tarray tulong 0))
                        (Ebinop Oshr (Etempvar _bitmin tuint)
                          (Econst_int (Int.repr 6) tuint) tuint)
                        (tptr tulong)) tulong)
                    (Ebinop Oor (Etempvar _t'5 tulong)
                      (Ebinop Oshl (Econst_long (Int64.repr 1) tulong)
                        (Ebinop Oand (Etempvar _bitmin tuint)
                          (Econst_int (Int.repr 63) tuint) tuint) tulong)
                      tulong)))
                (Ssequence
                  (Scall None
                    (Evar _wormhmap_replace (Tfunction
                                              (Tcons
                                                (tptr (Tstruct _wormhmap noattr))
                                                (Tcons
                                                  (tptr (Tstruct _wormmeta noattr))
                                                  (Tcons
                                                    (tptr (Tstruct _wormmeta noattr))
                                                    Tnil))) tbool cc_default))
                    ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                     (Etempvar _meta1 (tptr (Tstruct _wormmeta noattr))) ::
                     (Etempvar _meta2 (tptr (Tstruct _wormmeta noattr))) ::
                     nil))
                  (Ssequence
                    (Ssequence
                      (Sset _t'4
                        (Efield
                          (Ederef
                            (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                            (Tstruct _wormhmap noattr)) _slab1
                          (tptr (Tstruct _slab noattr))))
                      (Scall None
                        (Evar _slab_free_unsafe (Tfunction
                                                  (Tcons
                                                    (tptr (Tstruct _slab noattr))
                                                    (Tcons (tptr tvoid) Tnil))
                                                  tvoid cc_default))
                        ((Etempvar _t'4 (tptr (Tstruct _slab noattr))) ::
                         (Etempvar _meta1 (tptr (Tstruct _wormmeta noattr))) ::
                         nil)))
                    (Sreturn (Some (Etempvar _meta2 (tptr (Tstruct _wormmeta noattr)))))))))))))))
|}.

Definition f_wormmeta_bm_set_helper := {|
  fn_return := (tptr (Tstruct _wormmeta noattr));
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_meta, (tptr (Tstruct _wormmeta noattr))) :: (_id, tuint) ::
                nil);
  fn_vars := nil;
  fn_temps := ((_bitmin, tuint) :: (_bitmax, tuint) ::
               (_meta2, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'3, (tptr (Tstruct _wormmeta noattr))) :: (_t'2, tuint) ::
               (_t'1, tuint) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
    ((Ebinop Olt (Etempvar _id tuint) (Econst_int (Int.repr 256) tuint) tint) ::
     nil))
  (Ssequence
    (Ssequence
      (Scall (Some _t'1)
        (Evar _wormmeta_bitmin_load (Tfunction
                                      (Tcons
                                        (tptr (Tstruct _wormmeta noattr))
                                        Tnil) tuint cc_default))
        ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
      (Sset _bitmin (Etempvar _t'1 tuint)))
    (Ssequence
      (Ssequence
        (Scall (Some _t'2)
          (Evar _wormmeta_bitmax_load (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormmeta noattr))
                                          Tnil) tuint cc_default))
          ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
        (Sset _bitmax (Etempvar _t'2 tuint)))
      (Sifthenelse (Ebinop Olt (Etempvar _bitmin tuint)
                     (Etempvar _bitmax tuint) tint)
        (Ssequence
          (Scall None
            (Evar _wormmeta_bm_set (Tfunction
                                     (Tcons (tptr (Tstruct _wormmeta noattr))
                                       (Tcons tuint Tnil)) tvoid cc_default))
            ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
             (Etempvar _id tuint) :: nil))
          (Sreturn (Some (Etempvar _meta (tptr (Tstruct _wormmeta noattr))))))
        (Sifthenelse (Ebinop Oeq (Etempvar _id tuint)
                       (Etempvar _bitmin tuint) tint)
          (Sreturn (Some (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))))
          (Sifthenelse (Ebinop Oeq (Etempvar _bitmin tuint)
                         (Econst_int (Int.repr 256) tuint) tint)
            (Ssequence
              (Scall None
                (Evar _wormmeta_bitmin_store (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _wormmeta noattr))
                                                 (Tcons tuint Tnil)) tvoid
                                               cc_default))
                ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                 (Etempvar _id tuint) :: nil))
              (Ssequence
                (Scall None
                  (Evar _wormmeta_bitmax_store (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _wormmeta noattr))
                                                   (Tcons tuint Tnil)) tvoid
                                                 cc_default))
                  ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                   (Etempvar _id tuint) :: nil))
                (Sreturn (Some (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))))))
            (Ssequence
              (Ssequence
                (Scall (Some _t'3)
                  (Evar _wormmeta_expand (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormhmap noattr))
                                             (Tcons
                                               (tptr (Tstruct _wormmeta noattr))
                                               Tnil))
                                           (tptr (Tstruct _wormmeta noattr))
                                           cc_default))
                  ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                   (Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
                (Sset _meta2
                  (Etempvar _t'3 (tptr (Tstruct _wormmeta noattr)))))
              (Ssequence
                (Scall None
                  (Evar _wormmeta_bm_set (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormmeta noattr))
                                             (Tcons tuint Tnil)) tvoid
                                           cc_default))
                  ((Etempvar _meta2 (tptr (Tstruct _wormmeta noattr))) ::
                   (Etempvar _id tuint) :: nil))
                (Sreturn (Some (Etempvar _meta2 (tptr (Tstruct _wormmeta noattr)))))))))))))
|}.

Definition f_wormmeta_split_touch := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_mkey, (tptr (Tstruct _kv noattr))) ::
                (_leaf, (tptr (Tstruct _wormleaf noattr))) ::
                (_alen, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_meta, (tptr (Tstruct _wormmeta noattr))) :: (_bit, tuint) ::
               (_t'6, (tptr (Tstruct _wormmeta noattr))) :: (_t'5, tuint) ::
               (_t'4, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'3, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'2, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'1, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'14, tuchar) :: (_t'13, tuint) :: (_t'12, tuint) ::
               (_t'11, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'10, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'9, tuchar) :: (_t'8, tuint) :: (_t'7, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhmap_get (Tfunction
                            (Tcons (tptr (Tstruct _wormhmap noattr))
                              (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                            (tptr (Tstruct _wormmeta noattr)) cc_default))
      ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
       (Etempvar _mkey (tptr (Tstruct _kv noattr))) :: nil))
    (Sset _meta (Etempvar _t'1 (tptr (Tstruct _wormmeta noattr)))))
  (Sifthenelse (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))
    (Ssequence
      (Ssequence
        (Sset _t'12
          (Efield
            (Efield
              (Efield
                (Ederef (Etempvar _mkey (tptr (Tstruct _kv noattr)))
                  (Tstruct _kv noattr)) 18727075383868559167%positive
                (Tunion __6646 noattr)) 18727075383868559167%positive
              (Tstruct __6647 noattr)) _klen tuint))
        (Sifthenelse (Ebinop Olt (Etempvar _t'12 tuint)
                       (Etempvar _alen tuint) tint)
          (Ssequence
            (Ssequence
              (Sset _t'13
                (Efield
                  (Efield
                    (Efield
                      (Ederef (Etempvar _mkey (tptr (Tstruct _kv noattr)))
                        (Tstruct _kv noattr)) 18727075383868559167%positive
                      (Tunion __6646 noattr)) 18727075383868559167%positive
                    (Tstruct __6647 noattr)) _klen tuint))
              (Ssequence
                (Sset _t'14
                  (Ederef
                    (Ebinop Oadd
                      (Efield
                        (Ederef (Etempvar _mkey (tptr (Tstruct _kv noattr)))
                          (Tstruct _kv noattr)) _kv (tarray tuchar 0))
                      (Etempvar _t'13 tuint) (tptr tuchar)) tuchar))
                (Scall (Some _t'2)
                  (Evar _wormmeta_bm_set_helper (Tfunction
                                                  (Tcons
                                                    (tptr (Tstruct _wormhmap noattr))
                                                    (Tcons
                                                      (tptr (Tstruct _wormmeta noattr))
                                                      (Tcons tuint Tnil)))
                                                  (tptr (Tstruct _wormmeta noattr))
                                                  cc_default))
                  ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                   (Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                   (Etempvar _t'14 tuchar) :: nil))))
            (Sset _meta (Etempvar _t'2 (tptr (Tstruct _wormmeta noattr)))))
          Sskip))
      (Ssequence
        (Scall (Some _t'4)
          (Evar _wormmeta_lmost_load (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormmeta noattr))
                                         Tnil)
                                       (tptr (Tstruct _wormleaf noattr))
                                       cc_default))
          ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
        (Ssequence
          (Sset _t'10
            (Efield
              (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                (Tstruct _wormleaf noattr)) _next
              (tptr (Tstruct _wormleaf noattr))))
          (Sifthenelse (Ebinop Oeq
                         (Etempvar _t'4 (tptr (Tstruct _wormleaf noattr)))
                         (Etempvar _t'10 (tptr (Tstruct _wormleaf noattr)))
                         tint)
            (Scall None
              (Evar _wormmeta_lmost_store (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormmeta noattr))
                                              (Tcons
                                                (tptr (Tstruct _wormleaf noattr))
                                                Tnil)) tvoid cc_default))
              ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
               (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
            (Ssequence
              (Scall (Some _t'3)
                (Evar _wormmeta_rmost_load (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _wormmeta noattr))
                                               Tnil)
                                             (tptr (Tstruct _wormleaf noattr))
                                             cc_default))
                ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
              (Ssequence
                (Sset _t'11
                  (Efield
                    (Ederef
                      (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                      (Tstruct _wormleaf noattr)) _prev
                    (tptr (Tstruct _wormleaf noattr))))
                (Sifthenelse (Ebinop Oeq
                               (Etempvar _t'3 (tptr (Tstruct _wormleaf noattr)))
                               (Etempvar _t'11 (tptr (Tstruct _wormleaf noattr)))
                               tint)
                  (Scall None
                    (Evar _wormmeta_rmost_store (Tfunction
                                                  (Tcons
                                                    (tptr (Tstruct _wormmeta noattr))
                                                    (Tcons
                                                      (tptr (Tstruct _wormleaf noattr))
                                                      Tnil)) tvoid
                                                  cc_default))
                    ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                     (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                     nil))
                  Sskip)))))))
    (Ssequence
      (Ssequence
        (Ssequence
          (Sset _t'7
            (Efield
              (Efield
                (Efield
                  (Ederef (Etempvar _mkey (tptr (Tstruct _kv noattr)))
                    (Tstruct _kv noattr)) 18727075383868559167%positive
                  (Tunion __6646 noattr)) 18727075383868559167%positive
                (Tstruct __6647 noattr)) _klen tuint))
          (Sifthenelse (Ebinop Olt (Etempvar _t'7 tuint)
                         (Etempvar _alen tuint) tint)
            (Ssequence
              (Sset _t'8
                (Efield
                  (Efield
                    (Efield
                      (Ederef (Etempvar _mkey (tptr (Tstruct _kv noattr)))
                        (Tstruct _kv noattr)) 18727075383868559167%positive
                      (Tunion __6646 noattr)) 18727075383868559167%positive
                    (Tstruct __6647 noattr)) _klen tuint))
              (Ssequence
                (Sset _t'9
                  (Ederef
                    (Ebinop Oadd
                      (Efield
                        (Ederef (Etempvar _mkey (tptr (Tstruct _kv noattr)))
                          (Tstruct _kv noattr)) _kv (tarray tuchar 0))
                      (Etempvar _t'8 tuint) (tptr tuchar)) tuchar))
                (Sset _t'5 (Ecast (Etempvar _t'9 tuchar) tuint))))
            (Sset _t'5 (Ecast (Econst_int (Int.repr 256) tuint) tuint))))
        (Sset _bit (Etempvar _t'5 tuint)))
      (Ssequence
        (Ssequence
          (Scall (Some _t'6)
            (Evar _wormmeta_alloc (Tfunction
                                    (Tcons (tptr (Tstruct _wormhmap noattr))
                                      (Tcons
                                        (tptr (Tstruct _wormleaf noattr))
                                        (Tcons (tptr (Tstruct _kv noattr))
                                          (Tcons tuint (Tcons tuint Tnil)))))
                                    (tptr (Tstruct _wormmeta noattr))
                                    cc_default))
            ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
             (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
             (Etempvar _mkey (tptr (Tstruct _kv noattr))) ::
             (Etempvar _alen tuint) :: (Etempvar _bit tuint) :: nil))
          (Sset _meta (Etempvar _t'6 (tptr (Tstruct _wormmeta noattr)))))
        (Ssequence
          (Scall None
            (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid
                                  cc_default))
            ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
          (Scall None
            (Evar _wormhmap_set (Tfunction
                                  (Tcons (tptr (Tstruct _wormhmap noattr))
                                    (Tcons (tptr (Tstruct _wormmeta noattr))
                                      Tnil)) tvoid cc_default))
            ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
             (Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil)))))))
|}.

Definition f_wormmeta_lpath_update := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_a1, (tptr (Tstruct _kv noattr))) ::
                (_a2, (tptr (Tstruct _kv noattr))) ::
                (_lpath, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_pbuf, (tptr (Tstruct _kv noattr))) :: (_i, tuint) ::
               (_meta, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'2, (tptr (Tstruct _wormmeta noattr))) :: (_t'1, tuint) ::
               (_t'5, tuint) :: (_t'4, tuint) :: (_t'3, tuint) :: nil);
  fn_body :=
(Ssequence
  (Sset _pbuf
    (Efield
      (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
        (Tstruct _wormhmap noattr)) _pbuf (tptr (Tstruct _kv noattr))))
  (Ssequence
    (Scall None
      (Evar _kv_dup2_key (Tfunction
                           (Tcons (tptr (Tstruct _kv noattr))
                             (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                           (tptr (Tstruct _kv noattr)) cc_default))
      ((Etempvar _a2 (tptr (Tstruct _kv noattr))) ::
       (Etempvar _pbuf (tptr (Tstruct _kv noattr))) :: nil))
    (Ssequence
      (Ssequence
        (Scall (Some _t'1)
          (Evar _kv_key_lcp (Tfunction
                              (Tcons (tptr (Tstruct _kv noattr))
                                (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                              tuint cc_default))
          ((Etempvar _a1 (tptr (Tstruct _kv noattr))) ::
           (Etempvar _a2 (tptr (Tstruct _kv noattr))) :: nil))
        (Sset _i
          (Ebinop Oadd (Etempvar _t'1 tuint) (Econst_int (Int.repr 1) tint)
            tuint)))
      (Ssequence
        (Ssequence
          (Sset _t'5
            (Efield
              (Efield
                (Efield
                  (Ederef (Etempvar _pbuf (tptr (Tstruct _kv noattr)))
                    (Tstruct _kv noattr)) 18727075383868559167%positive
                  (Tunion __6646 noattr)) 18727075383868559167%positive
                (Tstruct __6647 noattr)) _klen tuint))
          (Scall None
            (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid
                                  cc_default))
            ((Ebinop Ole (Etempvar _i tuint) (Etempvar _t'5 tuint) tint) ::
             nil)))
        (Ssequence
          (Scall None
            (Evar _wormhole_prefix (Tfunction
                                     (Tcons (tptr (Tstruct _kv noattr))
                                       (Tcons tuint Tnil)) tvoid cc_default))
            ((Etempvar _pbuf (tptr (Tstruct _kv noattr))) ::
             (Etempvar _i tuint) :: nil))
          (Sloop
            (Ssequence
              (Ssequence
                (Sset _t'4
                  (Efield
                    (Efield
                      (Efield
                        (Ederef (Etempvar _a2 (tptr (Tstruct _kv noattr)))
                          (Tstruct _kv noattr)) 18727075383868559167%positive
                        (Tunion __6646 noattr)) 18727075383868559167%positive
                      (Tstruct __6647 noattr)) _klen tuint))
                (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                               (Etempvar _t'4 tuint) tint)
                  Sskip
                  Sbreak))
              (Ssequence
                (Ssequence
                  (Sset _t'3
                    (Efield
                      (Ederef
                        (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                        (Tstruct _wormhmap noattr)) _maxplen tuint))
                  (Scall None
                    (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid
                                          cc_default))
                    ((Ebinop Ole (Etempvar _i tuint) (Etempvar _t'3 tuint)
                       tint) :: nil)))
                (Ssequence
                  (Ssequence
                    (Scall (Some _t'2)
                      (Evar _wormhmap_get (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormhmap noattr))
                                              (Tcons
                                                (tptr (Tstruct _kv noattr))
                                                Tnil))
                                            (tptr (Tstruct _wormmeta noattr))
                                            cc_default))
                      ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                       (Etempvar _pbuf (tptr (Tstruct _kv noattr))) :: nil))
                    (Sset _meta
                      (Etempvar _t'2 (tptr (Tstruct _wormmeta noattr)))))
                  (Ssequence
                    (Scall None
                      (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid
                                            cc_default))
                      ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                       nil))
                    (Ssequence
                      (Scall None
                        (Evar _wormmeta_lpath_store (Tfunction
                                                      (Tcons
                                                        (tptr (Tstruct _wormmeta noattr))
                                                        (Tcons
                                                          (tptr (Tstruct _wormleaf noattr))
                                                          Tnil)) tvoid
                                                      cc_default))
                        ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                         (Etempvar _lpath (tptr (Tstruct _wormleaf noattr))) ::
                         nil))
                      (Ssequence
                        (Sset _i
                          (Ebinop Oadd (Etempvar _i tuint)
                            (Econst_int (Int.repr 1) tint) tuint))
                        (Scall None
                          (Evar _wormhole_prefix_inc1 (Tfunction
                                                        (Tcons
                                                          (tptr (Tstruct _kv noattr))
                                                          Tnil) tvoid
                                                        cc_default))
                          ((Etempvar _pbuf (tptr (Tstruct _kv noattr))) ::
                           nil))))))))
            Sskip))))))
|}.

Definition f_wormmeta_split := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_leaf, (tptr (Tstruct _wormleaf noattr))) ::
                (_mkey, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_prev, (tptr (Tstruct _wormleaf noattr))) ::
               (_next, (tptr (Tstruct _wormleaf noattr))) :: (_i, tuint) ::
               (_alen, tuint) :: (_mklen, tuint) :: (_t'2, tuint) ::
               (_t'1, tuint) :: (_t'8, (tptr (Tstruct _kv noattr))) ::
               (_t'7, (tptr (Tstruct _kv noattr))) ::
               (_t'6, (tptr (Tstruct _kv noattr))) :: (_t'5, tuint) ::
               (_t'4, (tptr (Tstruct _kv noattr))) ::
               (_t'3, (tptr (Tstruct _kv noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _prev
    (Efield
      (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
        (Tstruct _wormleaf noattr)) _prev (tptr (Tstruct _wormleaf noattr))))
  (Ssequence
    (Sset _next
      (Efield
        (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _next
        (tptr (Tstruct _wormleaf noattr))))
    (Ssequence
      (Ssequence
        (Sifthenelse (Etempvar _next (tptr (Tstruct _wormleaf noattr)))
          (Ssequence
            (Ssequence
              (Sset _t'7
                (Efield
                  (Ederef (Etempvar _prev (tptr (Tstruct _wormleaf noattr)))
                    (Tstruct _wormleaf noattr)) _anchor
                  (tptr (Tstruct _kv noattr))))
              (Ssequence
                (Sset _t'8
                  (Efield
                    (Ederef
                      (Etempvar _next (tptr (Tstruct _wormleaf noattr)))
                      (Tstruct _wormleaf noattr)) _anchor
                    (tptr (Tstruct _kv noattr))))
                (Scall (Some _t'2)
                  (Evar _kv_key_lcp (Tfunction
                                      (Tcons (tptr (Tstruct _kv noattr))
                                        (Tcons (tptr (Tstruct _kv noattr))
                                          Tnil)) tuint cc_default))
                  ((Etempvar _t'7 (tptr (Tstruct _kv noattr))) ::
                   (Etempvar _t'8 (tptr (Tstruct _kv noattr))) :: nil))))
            (Sset _t'1 (Ecast (Etempvar _t'2 tuint) tuint)))
          (Sset _t'1 (Ecast (Econst_int (Int.repr 0) tint) tuint)))
        (Sset _i (Etempvar _t'1 tuint)))
      (Ssequence
        (Ssequence
          (Sset _t'6
            (Efield
              (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                (Tstruct _wormleaf noattr)) _anchor
              (tptr (Tstruct _kv noattr))))
          (Sset _alen
            (Efield
              (Efield
                (Efield
                  (Ederef (Etempvar _t'6 (tptr (Tstruct _kv noattr)))
                    (Tstruct _kv noattr)) 18727075383868559167%positive
                  (Tunion __6646 noattr)) 18727075383868559167%positive
                (Tstruct __6647 noattr)) _klen tuint)))
        (Ssequence
          (Sset _mklen
            (Efield
              (Efield
                (Efield
                  (Ederef (Etempvar _mkey (tptr (Tstruct _kv noattr)))
                    (Tstruct _kv noattr)) 18727075383868559167%positive
                  (Tunion __6646 noattr)) 18727075383868559167%positive
                (Tstruct __6647 noattr)) _klen tuint))
          (Ssequence
            (Scall None
              (Evar _wormhole_prefix (Tfunction
                                       (Tcons (tptr (Tstruct _kv noattr))
                                         (Tcons tuint Tnil)) tvoid
                                       cc_default))
              ((Etempvar _mkey (tptr (Tstruct _kv noattr))) ::
               (Etempvar _i tuint) :: nil))
            (Ssequence
              (Sloop
                (Ssequence
                  (Scall None
                    (Evar _wormmeta_split_touch (Tfunction
                                                  (Tcons
                                                    (tptr (Tstruct _wormhmap noattr))
                                                    (Tcons
                                                      (tptr (Tstruct _kv noattr))
                                                      (Tcons
                                                        (tptr (Tstruct _wormleaf noattr))
                                                        (Tcons tuint Tnil))))
                                                  tvoid cc_default))
                    ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                     (Etempvar _mkey (tptr (Tstruct _kv noattr))) ::
                     (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                     (Etempvar _alen tuint) :: nil))
                  (Ssequence
                    (Sifthenelse (Ebinop Oge (Etempvar _i tuint)
                                   (Etempvar _alen tuint) tint)
                      Sbreak
                      Sskip)
                    (Ssequence
                      (Sset _i
                        (Ebinop Oadd (Etempvar _i tuint)
                          (Econst_int (Int.repr 1) tint) tuint))
                      (Scall None
                        (Evar _wormhole_prefix_inc1 (Tfunction
                                                      (Tcons
                                                        (tptr (Tstruct _kv noattr))
                                                        Tnil) tvoid
                                                      cc_default))
                        ((Etempvar _mkey (tptr (Tstruct _kv noattr))) :: nil)))))
                Sskip)
              (Ssequence
                (Ssequence
                  (Sset _t'5
                    (Efield
                      (Ederef
                        (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                        (Tstruct _wormhmap noattr)) _maxplen tuint))
                  (Sifthenelse (Ebinop Ogt (Etempvar _i tuint)
                                 (Etempvar _t'5 tuint) tint)
                    (Sassign
                      (Efield
                        (Ederef
                          (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                          (Tstruct _wormhmap noattr)) _maxplen tuint)
                      (Etempvar _i tuint))
                    Sskip))
                (Ssequence
                  (Scall None
                    (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid
                                          cc_default))
                    ((Ebinop Ole (Etempvar _i tuint)
                       (Econst_int (Int.repr 65535) tint) tint) :: nil))
                  (Ssequence
                    (Sassign
                      (Efield
                        (Efield
                          (Efield
                            (Ederef
                              (Etempvar _mkey (tptr (Tstruct _kv noattr)))
                              (Tstruct _kv noattr))
                            18727075383868559167%positive
                            (Tunion __6646 noattr))
                          18727075383868559167%positive
                          (Tstruct __6647 noattr)) _klen tuint)
                      (Etempvar _mklen tuint))
                    (Sifthenelse (Etempvar _next (tptr (Tstruct _wormleaf noattr)))
                      (Ssequence
                        (Sset _t'3
                          (Efield
                            (Ederef
                              (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                              (Tstruct _wormleaf noattr)) _anchor
                            (tptr (Tstruct _kv noattr))))
                        (Ssequence
                          (Sset _t'4
                            (Efield
                              (Ederef
                                (Etempvar _next (tptr (Tstruct _wormleaf noattr)))
                                (Tstruct _wormleaf noattr)) _anchor
                              (tptr (Tstruct _kv noattr))))
                          (Scall None
                            (Evar _wormmeta_lpath_update (Tfunction
                                                           (Tcons
                                                             (tptr (Tstruct _wormhmap noattr))
                                                             (Tcons
                                                               (tptr (Tstruct _kv noattr))
                                                               (Tcons
                                                                 (tptr (Tstruct _kv noattr))
                                                                 (Tcons
                                                                   (tptr (Tstruct _wormleaf noattr))
                                                                   Tnil))))
                                                           tvoid cc_default))
                            ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                             (Etempvar _t'3 (tptr (Tstruct _kv noattr))) ::
                             (Etempvar _t'4 (tptr (Tstruct _kv noattr))) ::
                             (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                             nil))))
                      Sskip)))))))))))
|}.

Definition f_wormhole_split_meta := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_leaf2, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_mkey, (tptr (Tstruct _kv noattr))) ::
               (_map, (tptr (Tstruct _wormhole noattr))) :: (_sr, tbool) ::
               (_hmap0, (tptr (Tstruct _wormhmap noattr))) ::
               (_hmap1, (tptr (Tstruct _wormhmap noattr))) ::
               (_leaf1, (tptr (Tstruct _wormleaf noattr))) ::
               (_v1, tulong) :: (_t'5, tulong) ::
               (_t'4, (tptr (Tstruct _wormhmap noattr))) ::
               (_t'3, (tptr (Tstruct _wormhmap noattr))) :: (_t'2, tbool) ::
               (_t'1, (tptr (Tstruct _kv noattr))) :: (_t'13, tuint) ::
               (_t'12, (tptr (Tstruct _kv noattr))) ::
               (_t'11, (tptr (Tstruct _kv noattr))) :: (_t'10, tuint) ::
               (_t'9, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'8, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'7, (tptr (Tstruct _qsbr noattr))) :: (_t'6, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'12
        (Efield
          (Ederef (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _anchor (tptr (Tstruct _kv noattr))))
      (Ssequence
        (Sset _t'13
          (Efield
            (Efield
              (Efield
                (Ederef (Etempvar _t'12 (tptr (Tstruct _kv noattr)))
                  (Tstruct _kv noattr)) 18727075383868559167%positive
                (Tunion __6646 noattr)) 18727075383868559167%positive
              (Tstruct __6647 noattr)) _klen tuint))
        (Scall (Some _t'1)
          (Evar _wormhole_alloc_mkey (Tfunction (Tcons tulong Tnil)
                                       (tptr (Tstruct _kv noattr))
                                       cc_default))
          ((Etempvar _t'13 tuint) :: nil))))
    (Sset _mkey (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
  (Ssequence
    (Sifthenelse (Ebinop Oeq (Etempvar _mkey (tptr (Tstruct _kv noattr)))
                   (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) tint)
      (Sreturn (Some (Econst_int (Int.repr 0) tint)))
      Sskip)
    (Ssequence
      (Ssequence
        (Sset _t'11
          (Efield
            (Ederef (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
              (Tstruct _wormleaf noattr)) _anchor
            (tptr (Tstruct _kv noattr))))
        (Scall None
          (Evar _kv_dup2_key (Tfunction
                               (Tcons (tptr (Tstruct _kv noattr))
                                 (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                               (tptr (Tstruct _kv noattr)) cc_default))
          ((Etempvar _t'11 (tptr (Tstruct _kv noattr))) ::
           (Etempvar _mkey (tptr (Tstruct _kv noattr))) :: nil)))
      (Ssequence
        (Sset _map
          (Efield
            (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
              (Tstruct _wormref noattr)) _map
            (tptr (Tstruct _wormhole noattr))))
        (Ssequence
          (Scall None
            (Evar _wormhmap_lock (Tfunction
                                   (Tcons (tptr (Tstruct _wormhole noattr))
                                     (Tcons (tptr (Tstruct _wormref noattr))
                                       Tnil)) tvoid cc_default))
            ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
             (Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
          (Ssequence
            (Ssequence
              (Ssequence
                (Sset _t'10
                  (Efield
                    (Efield
                      (Efield
                        (Ederef (Etempvar _mkey (tptr (Tstruct _kv noattr)))
                          (Tstruct _kv noattr)) 18727075383868559167%positive
                        (Tunion __6646 noattr)) 18727075383868559167%positive
                      (Tstruct __6647 noattr)) _klen tuint))
                (Scall (Some _t'2)
                  (Evar _wormhole_slab_reserve (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _wormhole noattr))
                                                   (Tcons tuint Tnil)) tbool
                                                 cc_default))
                  ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                   (Etempvar _t'10 tuint) :: nil)))
              (Sset _sr (Ecast (Etempvar _t'2 tbool) tbool)))
            (Ssequence
              (Sifthenelse (Eunop Onotbool (Etempvar _sr tbool) tint)
                (Ssequence
                  (Scall None
                    (Evar _wormhmap_unlock (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _wormhole noattr))
                                               Tnil) tvoid cc_default))
                    ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                     nil))
                  (Ssequence
                    (Scall None
                      (Evar _wormhole_free_mkey (Tfunction
                                                  (Tcons
                                                    (tptr (Tstruct _kv noattr))
                                                    Tnil) tvoid cc_default))
                      ((Etempvar _mkey (tptr (Tstruct _kv noattr))) :: nil))
                    (Sreturn (Some (Econst_int (Int.repr 0) tint)))))
                Sskip)
              (Ssequence
                (Ssequence
                  (Scall (Some _t'3)
                    (Evar _wormhmap_load (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormhole noattr))
                                             Tnil)
                                           (tptr (Tstruct _wormhmap noattr))
                                           cc_default))
                    ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                     nil))
                  (Sset _hmap0
                    (Etempvar _t'3 (tptr (Tstruct _wormhmap noattr)))))
                (Ssequence
                  (Ssequence
                    (Scall (Some _t'4)
                      (Evar _wormhmap_switch (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _wormhole noattr))
                                                 (Tcons
                                                   (tptr (Tstruct _wormhmap noattr))
                                                   Tnil))
                                               (tptr (Tstruct _wormhmap noattr))
                                               cc_default))
                      ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                       (Etempvar _hmap0 (tptr (Tstruct _wormhmap noattr))) ::
                       nil))
                    (Sset _hmap1
                      (Etempvar _t'4 (tptr (Tstruct _wormhmap noattr)))))
                  (Ssequence
                    (Sset _leaf1
                      (Efield
                        (Ederef
                          (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                          (Tstruct _wormleaf noattr)) _prev
                        (tptr (Tstruct _wormleaf noattr))))
                    (Ssequence
                      (Sassign
                        (Efield
                          (Ederef
                            (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
                            (Tstruct _wormleaf noattr)) _next
                          (tptr (Tstruct _wormleaf noattr)))
                        (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))))
                      (Ssequence
                        (Ssequence
                          (Sset _t'8
                            (Efield
                              (Ederef
                                (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                                (Tstruct _wormleaf noattr)) _next
                              (tptr (Tstruct _wormleaf noattr))))
                          (Sifthenelse (Etempvar _t'8 (tptr (Tstruct _wormleaf noattr)))
                            (Ssequence
                              (Sset _t'9
                                (Efield
                                  (Ederef
                                    (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                                    (Tstruct _wormleaf noattr)) _next
                                  (tptr (Tstruct _wormleaf noattr))))
                              (Sassign
                                (Efield
                                  (Ederef
                                    (Etempvar _t'9 (tptr (Tstruct _wormleaf noattr)))
                                    (Tstruct _wormleaf noattr)) _prev
                                  (tptr (Tstruct _wormleaf noattr)))
                                (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))))
                            Sskip))
                        (Ssequence
                          (Ssequence
                            (Scall (Some _t'5)
                              (Evar _wormhmap_version_load (Tfunction
                                                             (Tcons
                                                               (tptr (Tstruct _wormhmap noattr))
                                                               Tnil) tulong
                                                             cc_default))
                              ((Etempvar _hmap0 (tptr (Tstruct _wormhmap noattr))) ::
                               nil))
                            (Sset _v1
                              (Ebinop Oadd (Etempvar _t'5 tulong)
                                (Econst_int (Int.repr 1) tint) tulong)))
                          (Ssequence
                            (Scall None
                              (Evar _wormleaf_version_store (Tfunction
                                                              (Tcons
                                                                (tptr (Tstruct _wormleaf noattr))
                                                                (Tcons tulong
                                                                  Tnil))
                                                              tvoid
                                                              cc_default))
                              ((Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
                               (Etempvar _v1 tulong) :: nil))
                            (Ssequence
                              (Scall None
                                (Evar _wormleaf_version_store (Tfunction
                                                                (Tcons
                                                                  (tptr (Tstruct _wormleaf noattr))
                                                                  (Tcons
                                                                    tulong
                                                                    Tnil))
                                                                tvoid
                                                                cc_default))
                                ((Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) ::
                                 (Etempvar _v1 tulong) :: nil))
                              (Ssequence
                                (Scall None
                                  (Evar _wormhmap_version_store (Tfunction
                                                                  (Tcons
                                                                    (tptr (Tstruct _wormhmap noattr))
                                                                    (Tcons
                                                                    tulong
                                                                    Tnil))
                                                                  tvoid
                                                                  cc_default))
                                  ((Etempvar _hmap1 (tptr (Tstruct _wormhmap noattr))) ::
                                   (Etempvar _v1 tulong) :: nil))
                                (Ssequence
                                  (Scall None
                                    (Evar _wormmeta_split (Tfunction
                                                            (Tcons
                                                              (tptr (Tstruct _wormhmap noattr))
                                                              (Tcons
                                                                (tptr (Tstruct _wormleaf noattr))
                                                                (Tcons
                                                                  (tptr (Tstruct _kv noattr))
                                                                  Tnil)))
                                                            tvoid cc_default))
                                    ((Etempvar _hmap1 (tptr (Tstruct _wormhmap noattr))) ::
                                     (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) ::
                                     (Etempvar _mkey (tptr (Tstruct _kv noattr))) ::
                                     nil))
                                  (Ssequence
                                    (Scall None
                                      (Evar _qsbr_update (Tfunction
                                                           (Tcons
                                                             (tptr (Tstruct _qsbr_ref noattr))
                                                             (Tcons tulong
                                                               Tnil)) tvoid
                                                           cc_default))
                                      ((Eaddrof
                                         (Efield
                                           (Ederef
                                             (Etempvar _ref (tptr (Tstruct _wormref noattr)))
                                             (Tstruct _wormref noattr)) _qref
                                           (Tstruct _qsbr_ref noattr))
                                         (tptr (Tstruct _qsbr_ref noattr))) ::
                                       (Etempvar _v1 tulong) :: nil))
                                    (Ssequence
                                      (Scall None
                                        (Evar _wormhmap_store (Tfunction
                                                                (Tcons
                                                                  (tptr (Tstruct _wormhole noattr))
                                                                  (Tcons
                                                                    (tptr (Tstruct _wormhmap noattr))
                                                                    Tnil))
                                                                tvoid
                                                                cc_default))
                                        ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                                         (Etempvar _hmap1 (tptr (Tstruct _wormhmap noattr))) ::
                                         nil))
                                      (Ssequence
                                        (Scall None
                                          (Evar _wormleaf_unlock_write 
                                          (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormleaf noattr))
                                              Tnil) tvoid cc_default))
                                          ((Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
                                           nil))
                                        (Ssequence
                                          (Scall None
                                            (Evar _wormleaf_unlock_write 
                                            (Tfunction
                                              (Tcons
                                                (tptr (Tstruct _wormleaf noattr))
                                                Tnil) tvoid cc_default))
                                            ((Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) ::
                                             nil))
                                          (Ssequence
                                            (Ssequence
                                              (Sset _t'7
                                                (Efield
                                                  (Ederef
                                                    (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                                    (Tstruct _wormhole noattr))
                                                  _qsbr
                                                  (tptr (Tstruct _qsbr noattr))))
                                              (Scall None
                                                (Evar _qsbr_wait (Tfunction
                                                                   (Tcons
                                                                    (tptr (Tstruct _qsbr noattr))
                                                                    (Tcons
                                                                    tulong
                                                                    Tnil))
                                                                   tvoid
                                                                   cc_default))
                                                ((Etempvar _t'7 (tptr (Tstruct _qsbr noattr))) ::
                                                 (Etempvar _v1 tulong) ::
                                                 nil)))
                                            (Ssequence
                                              (Scall None
                                                (Evar _wormmeta_split 
                                                (Tfunction
                                                  (Tcons
                                                    (tptr (Tstruct _wormhmap noattr))
                                                    (Tcons
                                                      (tptr (Tstruct _wormleaf noattr))
                                                      (Tcons
                                                        (tptr (Tstruct _kv noattr))
                                                        Tnil))) tvoid
                                                  cc_default))
                                                ((Etempvar _hmap0 (tptr (Tstruct _wormhmap noattr))) ::
                                                 (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) ::
                                                 (Etempvar _mkey (tptr (Tstruct _kv noattr))) ::
                                                 nil))
                                              (Ssequence
                                                (Scall None
                                                  (Evar _wormhmap_unlock 
                                                  (Tfunction
                                                    (Tcons
                                                      (tptr (Tstruct _wormhole noattr))
                                                      Tnil) tvoid cc_default))
                                                  ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                                                   nil))
                                                (Ssequence
                                                  (Ssequence
                                                    (Sset _t'6
                                                      (Efield
                                                        (Efield
                                                          (Efield
                                                            (Efield
                                                              (Ederef
                                                                (Etempvar _mkey (tptr (Tstruct _kv noattr)))
                                                                (Tstruct _kv noattr))
                                                              18727075383868559167%positive
                                                              (Tunion __6646 noattr))
                                                            18727075383868559167%positive
                                                            (Tstruct __6647 noattr))
                                                          18727075383868559167%positive
                                                          (Tunion __6648 noattr))
                                                        _refcnt tuint))
                                                    (Sifthenelse (Ebinop Oeq
                                                                   (Etempvar _t'6 tuint)
                                                                   (Econst_int (Int.repr 0) tint)
                                                                   tint)
                                                      (Scall None
                                                        (Evar _wormhole_free_mkey 
                                                        (Tfunction
                                                          (Tcons
                                                            (tptr (Tstruct _kv noattr))
                                                            Tnil) tvoid
                                                          cc_default))
                                                        ((Etempvar _mkey (tptr (Tstruct _kv noattr))) ::
                                                         nil))
                                                      Sskip))
                                                  (Sreturn (Some (Econst_int (Int.repr 1) tint))))))))))))))))))))))))))))
|}.

Definition f_wormhole_split_insert := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_leaf1, (tptr (Tstruct _wormleaf noattr))) ::
                (_new, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_leaf2, (tptr (Tstruct _wormleaf noattr))) ::
               (_rsm, tbool) :: (_t'2, tbool) ::
               (_t'1, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'4, (tptr (Tstruct _wormhole noattr))) ::
               (_t'3, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'4
        (Efield
          (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
            (Tstruct _wormref noattr)) _map
          (tptr (Tstruct _wormhole noattr))))
      (Scall (Some _t'1)
        (Evar _wormhole_split_leaf (Tfunction
                                     (Tcons (tptr (Tstruct _wormhole noattr))
                                       (Tcons
                                         (tptr (Tstruct _wormleaf noattr))
                                         (Tcons (tptr (Tstruct _kv noattr))
                                           Tnil)))
                                     (tptr (Tstruct _wormleaf noattr))
                                     cc_default))
        ((Etempvar _t'4 (tptr (Tstruct _wormhole noattr))) ::
         (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
         (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil)))
    (Sset _leaf2 (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))))
  (Ssequence
    (Sifthenelse (Ebinop Oeq
                   (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                   (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) tint)
      (Ssequence
        (Scall None
          (Evar _wormleaf_unlock_write (Tfunction
                                         (Tcons
                                           (tptr (Tstruct _wormleaf noattr))
                                           Tnil) tvoid cc_default))
          ((Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) :: nil))
        (Sreturn (Some (Econst_int (Int.repr 0) tint))))
      Sskip)
    (Ssequence
      (Scall None
        (Evar _rwlock_lock_write (Tfunction
                                   (Tcons (tptr (Tunion __6333 noattr)) Tnil)
                                   tvoid cc_default))
        ((Eaddrof
           (Efield
             (Ederef (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
               (Tstruct _wormleaf noattr)) _leaflock (Tunion __6333 noattr))
           (tptr (Tunion __6333 noattr))) :: nil))
      (Ssequence
        (Ssequence
          (Scall (Some _t'2)
            (Evar _wormhole_split_meta (Tfunction
                                         (Tcons
                                           (tptr (Tstruct _wormref noattr))
                                           (Tcons
                                             (tptr (Tstruct _wormleaf noattr))
                                             Tnil)) tbool cc_default))
            ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
             (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) :: nil))
          (Sset _rsm (Ecast (Etempvar _t'2 tbool) tbool)))
        (Ssequence
          (Sifthenelse (Eunop Onotbool (Etempvar _rsm tbool) tint)
            (Ssequence
              (Ssequence
                (Sset _t'3
                  (Efield
                    (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
                      (Tstruct _wormref noattr)) _map
                    (tptr (Tstruct _wormhole noattr))))
                (Scall None
                  (Evar _wormleaf_split_undo (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _wormhole noattr))
                                                 (Tcons
                                                   (tptr (Tstruct _wormleaf noattr))
                                                   (Tcons
                                                     (tptr (Tstruct _wormleaf noattr))
                                                     (Tcons
                                                       (tptr (Tstruct _kv noattr))
                                                       Tnil)))) tvoid
                                               cc_default))
                  ((Etempvar _t'3 (tptr (Tstruct _wormhole noattr))) ::
                   (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
                   (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) ::
                   (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil)))
              (Scall None
                (Evar _wormleaf_unlock_write (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _wormleaf noattr))
                                                 Tnil) tvoid cc_default))
                ((Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) :: nil)))
            Sskip)
          (Sreturn (Some (Etempvar _rsm tbool))))))))
|}.

Definition f_whunsafe_split_meta := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_leaf2, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_mkey, (tptr (Tstruct _kv noattr))) :: (_sr, tbool) ::
               (_i, tuint) :: (_t'2, tbool) ::
               (_t'1, (tptr (Tstruct _kv noattr))) :: (_t'11, tuint) ::
               (_t'10, (tptr (Tstruct _kv noattr))) ::
               (_t'9, (tptr (Tstruct _kv noattr))) :: (_t'8, tuint) ::
               (_t'7, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'6, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'5, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'4, (tptr (Tstruct _wormmbkt noattr))) :: (_t'3, tuint) ::
               nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'10
        (Efield
          (Ederef (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _anchor (tptr (Tstruct _kv noattr))))
      (Ssequence
        (Sset _t'11
          (Efield
            (Efield
              (Efield
                (Ederef (Etempvar _t'10 (tptr (Tstruct _kv noattr)))
                  (Tstruct _kv noattr)) 18727075383868559167%positive
                (Tunion __6646 noattr)) 18727075383868559167%positive
              (Tstruct __6647 noattr)) _klen tuint))
        (Scall (Some _t'1)
          (Evar _wormhole_alloc_mkey (Tfunction (Tcons tulong Tnil)
                                       (tptr (Tstruct _kv noattr))
                                       cc_default))
          ((Etempvar _t'11 tuint) :: nil))))
    (Sset _mkey (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
  (Ssequence
    (Sifthenelse (Ebinop Oeq (Etempvar _mkey (tptr (Tstruct _kv noattr)))
                   (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) tint)
      (Sreturn (Some (Econst_int (Int.repr 0) tint)))
      Sskip)
    (Ssequence
      (Ssequence
        (Sset _t'9
          (Efield
            (Ederef (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
              (Tstruct _wormleaf noattr)) _anchor
            (tptr (Tstruct _kv noattr))))
        (Scall None
          (Evar _kv_dup2_key (Tfunction
                               (Tcons (tptr (Tstruct _kv noattr))
                                 (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                               (tptr (Tstruct _kv noattr)) cc_default))
          ((Etempvar _t'9 (tptr (Tstruct _kv noattr))) ::
           (Etempvar _mkey (tptr (Tstruct _kv noattr))) :: nil)))
      (Ssequence
        (Ssequence
          (Ssequence
            (Sset _t'8
              (Efield
                (Efield
                  (Efield
                    (Ederef (Etempvar _mkey (tptr (Tstruct _kv noattr)))
                      (Tstruct _kv noattr)) 18727075383868559167%positive
                    (Tunion __6646 noattr)) 18727075383868559167%positive
                  (Tstruct __6647 noattr)) _klen tuint))
            (Scall (Some _t'2)
              (Evar _wormhole_slab_reserve (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _wormhole noattr))
                                               (Tcons tuint Tnil)) tbool
                                             cc_default))
              ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
               (Etempvar _t'8 tuint) :: nil)))
          (Sset _sr (Ecast (Etempvar _t'2 tbool) tbool)))
        (Ssequence
          (Sifthenelse (Eunop Onotbool (Etempvar _sr tbool) tint)
            (Ssequence
              (Scall None
                (Evar _wormhmap_unlock (Tfunction
                                         (Tcons
                                           (tptr (Tstruct _wormhole noattr))
                                           Tnil) tvoid cc_default))
                ((Etempvar _map (tptr (Tstruct _wormhole noattr))) :: nil))
              (Ssequence
                (Scall None
                  (Evar _wormhole_free_mkey (Tfunction
                                              (Tcons
                                                (tptr (Tstruct _kv noattr))
                                                Tnil) tvoid cc_default))
                  ((Etempvar _mkey (tptr (Tstruct _kv noattr))) :: nil))
                (Sreturn (Some (Econst_int (Int.repr 0) tint)))))
            Sskip)
          (Ssequence
            (Ssequence
              (Sset _t'7
                (Efield
                  (Ederef (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                    (Tstruct _wormleaf noattr)) _prev
                  (tptr (Tstruct _wormleaf noattr))))
              (Sassign
                (Efield
                  (Ederef (Etempvar _t'7 (tptr (Tstruct _wormleaf noattr)))
                    (Tstruct _wormleaf noattr)) _next
                  (tptr (Tstruct _wormleaf noattr)))
                (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))))
            (Ssequence
              (Ssequence
                (Sset _t'5
                  (Efield
                    (Ederef
                      (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                      (Tstruct _wormleaf noattr)) _next
                    (tptr (Tstruct _wormleaf noattr))))
                (Sifthenelse (Etempvar _t'5 (tptr (Tstruct _wormleaf noattr)))
                  (Ssequence
                    (Sset _t'6
                      (Efield
                        (Ederef
                          (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                          (Tstruct _wormleaf noattr)) _next
                        (tptr (Tstruct _wormleaf noattr))))
                    (Sassign
                      (Efield
                        (Ederef
                          (Etempvar _t'6 (tptr (Tstruct _wormleaf noattr)))
                          (Tstruct _wormleaf noattr)) _prev
                        (tptr (Tstruct _wormleaf noattr)))
                      (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))))
                  Sskip))
              (Ssequence
                (Ssequence
                  (Sset _i (Econst_int (Int.repr 0) tint))
                  (Sloop
                    (Ssequence
                      (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                                     (Econst_int (Int.repr 2) tint) tint)
                        Sskip
                        Sbreak)
                      (Ssequence
                        (Sset _t'4
                          (Efield
                            (Ederef
                              (Ebinop Oadd
                                (Efield
                                  (Ederef
                                    (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                    (Tstruct _wormhole noattr)) _hmap2
                                  (tarray (Tstruct _wormhmap noattr) 2))
                                (Etempvar _i tuint)
                                (tptr (Tstruct _wormhmap noattr)))
                              (Tstruct _wormhmap noattr)) _pmap
                            (tptr (Tstruct _wormmbkt noattr))))
                        (Sifthenelse (Etempvar _t'4 (tptr (Tstruct _wormmbkt noattr)))
                          (Scall None
                            (Evar _wormmeta_split (Tfunction
                                                    (Tcons
                                                      (tptr (Tstruct _wormhmap noattr))
                                                      (Tcons
                                                        (tptr (Tstruct _wormleaf noattr))
                                                        (Tcons
                                                          (tptr (Tstruct _kv noattr))
                                                          Tnil))) tvoid
                                                    cc_default))
                            ((Ebinop Oadd
                               (Efield
                                 (Ederef
                                   (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                   (Tstruct _wormhole noattr)) _hmap2
                                 (tarray (Tstruct _wormhmap noattr) 2))
                               (Etempvar _i tuint)
                               (tptr (Tstruct _wormhmap noattr))) ::
                             (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) ::
                             (Etempvar _mkey (tptr (Tstruct _kv noattr))) ::
                             nil))
                          Sskip)))
                    (Sset _i
                      (Ebinop Oadd (Etempvar _i tuint)
                        (Econst_int (Int.repr 1) tint) tuint))))
                (Ssequence
                  (Ssequence
                    (Sset _t'3
                      (Efield
                        (Efield
                          (Efield
                            (Efield
                              (Ederef
                                (Etempvar _mkey (tptr (Tstruct _kv noattr)))
                                (Tstruct _kv noattr))
                              18727075383868559167%positive
                              (Tunion __6646 noattr))
                            18727075383868559167%positive
                            (Tstruct __6647 noattr))
                          18727075383868559167%positive
                          (Tunion __6648 noattr)) _refcnt tuint))
                    (Sifthenelse (Ebinop Oeq (Etempvar _t'3 tuint)
                                   (Econst_int (Int.repr 0) tint) tint)
                      (Scall None
                        (Evar _wormhole_free_mkey (Tfunction
                                                    (Tcons
                                                      (tptr (Tstruct _kv noattr))
                                                      Tnil) tvoid cc_default))
                        ((Etempvar _mkey (tptr (Tstruct _kv noattr))) :: nil))
                      Sskip))
                  (Sreturn (Some (Econst_int (Int.repr 1) tint))))))))))))
|}.

Definition f_whunsafe_split_insert := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_leaf1, (tptr (Tstruct _wormleaf noattr))) ::
                (_new, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_leaf2, (tptr (Tstruct _wormleaf noattr))) ::
               (_rsm, tbool) :: (_t'2, tbool) ::
               (_t'1, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhole_split_leaf (Tfunction
                                   (Tcons (tptr (Tstruct _wormhole noattr))
                                     (Tcons (tptr (Tstruct _wormleaf noattr))
                                       (Tcons (tptr (Tstruct _kv noattr))
                                         Tnil)))
                                   (tptr (Tstruct _wormleaf noattr))
                                   cc_default))
      ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
       (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
       (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil))
    (Sset _leaf2 (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))))
  (Ssequence
    (Sifthenelse (Ebinop Oeq
                   (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                   (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) tint)
      (Sreturn (Some (Econst_int (Int.repr 0) tint)))
      Sskip)
    (Ssequence
      (Ssequence
        (Scall (Some _t'2)
          (Evar _whunsafe_split_meta (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormhole noattr))
                                         (Tcons
                                           (tptr (Tstruct _wormleaf noattr))
                                           Tnil)) tbool cc_default))
          ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
           (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) :: nil))
        (Sset _rsm (Ecast (Etempvar _t'2 tbool) tbool)))
      (Ssequence
        (Sifthenelse (Eunop Onotbool (Etempvar _rsm tbool) tint)
          (Scall None
            (Evar _wormleaf_split_undo (Tfunction
                                         (Tcons
                                           (tptr (Tstruct _wormhole noattr))
                                           (Tcons
                                             (tptr (Tstruct _wormleaf noattr))
                                             (Tcons
                                               (tptr (Tstruct _wormleaf noattr))
                                               (Tcons
                                                 (tptr (Tstruct _kv noattr))
                                                 Tnil)))) tvoid cc_default))
            ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
             (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
             (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) ::
             (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil))
          Sskip)
        (Sreturn (Some (Etempvar _rsm tbool)))))))
|}.

Definition f_wormmeta_shrink := {|
  fn_return := (tptr (Tstruct _wormmeta noattr));
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_meta2, (tptr (Tstruct _wormmeta noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_meta1, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'3, (tptr tvoid)) :: (_t'2, tuint) :: (_t'1, tuint) ::
               (_t'5, (tptr (Tstruct _slab noattr))) ::
               (_t'4, (tptr (Tstruct _slab noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Scall (Some _t'1)
        (Evar _wormmeta_bitmin_load (Tfunction
                                      (Tcons
                                        (tptr (Tstruct _wormmeta noattr))
                                        Tnil) tuint cc_default))
        ((Etempvar _meta2 (tptr (Tstruct _wormmeta noattr))) :: nil))
      (Scall (Some _t'2)
        (Evar _wormmeta_bitmax_load (Tfunction
                                      (Tcons
                                        (tptr (Tstruct _wormmeta noattr))
                                        Tnil) tuint cc_default))
        ((Etempvar _meta2 (tptr (Tstruct _wormmeta noattr))) :: nil)))
    (Scall None
      (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
      ((Ebinop Oeq (Etempvar _t'1 tuint) (Etempvar _t'2 tuint) tint) :: nil)))
  (Ssequence
    (Ssequence
      (Ssequence
        (Sset _t'5
          (Efield
            (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
              (Tstruct _wormhmap noattr)) _slab1
            (tptr (Tstruct _slab noattr))))
        (Scall (Some _t'3)
          (Evar _slab_alloc_unsafe (Tfunction
                                     (Tcons (tptr (Tstruct _slab noattr))
                                       Tnil) (tptr tvoid) cc_default))
          ((Etempvar _t'5 (tptr (Tstruct _slab noattr))) :: nil)))
      (Sset _meta1 (Etempvar _t'3 (tptr tvoid))))
    (Ssequence
      (Sifthenelse (Ebinop Oeq
                     (Etempvar _meta1 (tptr (Tstruct _wormmeta noattr)))
                     (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))
                     tint)
        (Sreturn (Some (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))))
        Sskip)
      (Ssequence
        (Scall None
          (Evar _memcpy (Tfunction
                          (Tcons (tptr tvoid)
                            (Tcons (tptr tvoid) (Tcons tulong Tnil)))
                          (tptr tvoid) cc_default))
          ((Etempvar _meta1 (tptr (Tstruct _wormmeta noattr))) ::
           (Etempvar _meta2 (tptr (Tstruct _wormmeta noattr))) ::
           (Esizeof (Tstruct _wormmeta noattr) tulong) :: nil))
        (Ssequence
          (Scall None
            (Evar _wormhmap_replace (Tfunction
                                      (Tcons
                                        (tptr (Tstruct _wormhmap noattr))
                                        (Tcons
                                          (tptr (Tstruct _wormmeta noattr))
                                          (Tcons
                                            (tptr (Tstruct _wormmeta noattr))
                                            Tnil))) tbool cc_default))
            ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
             (Etempvar _meta2 (tptr (Tstruct _wormmeta noattr))) ::
             (Etempvar _meta1 (tptr (Tstruct _wormmeta noattr))) :: nil))
          (Ssequence
            (Ssequence
              (Sset _t'4
                (Efield
                  (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                    (Tstruct _wormhmap noattr)) _slab2
                  (tptr (Tstruct _slab noattr))))
              (Scall None
                (Evar _slab_free_unsafe (Tfunction
                                          (Tcons
                                            (tptr (Tstruct _slab noattr))
                                            (Tcons (tptr tvoid) Tnil)) tvoid
                                          cc_default))
                ((Etempvar _t'4 (tptr (Tstruct _slab noattr))) ::
                 (Etempvar _meta2 (tptr (Tstruct _wormmeta noattr))) :: nil)))
            (Sreturn (Some (Etempvar _meta1 (tptr (Tstruct _wormmeta noattr)))))))))))
|}.

Definition f_wormmeta_bm_clear_helper := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_meta, (tptr (Tstruct _wormmeta noattr))) :: (_id, tuint) ::
                nil);
  fn_vars := nil;
  fn_temps := ((_t'5, tuint) :: (_t'4, tuint) :: (_t'3, tuint) ::
               (_t'2, tuint) :: (_t'1, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'4)
      (Evar _wormmeta_bitmin_load (Tfunction
                                    (Tcons (tptr (Tstruct _wormmeta noattr))
                                      Tnil) tuint cc_default))
      ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
    (Scall (Some _t'5)
      (Evar _wormmeta_bitmax_load (Tfunction
                                    (Tcons (tptr (Tstruct _wormmeta noattr))
                                      Tnil) tuint cc_default))
      ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil)))
  (Sifthenelse (Ebinop Oeq (Etempvar _t'4 tuint) (Etempvar _t'5 tuint) tint)
    (Ssequence
      (Ssequence
        (Scall (Some _t'1)
          (Evar _wormmeta_bitmin_load (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormmeta noattr))
                                          Tnil) tuint cc_default))
          ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
        (Scall None
          (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
          ((Ebinop Olt (Etempvar _t'1 tuint)
             (Econst_int (Int.repr 256) tuint) tint) :: nil)))
      (Ssequence
        (Scall None
          (Evar _wormmeta_bitmin_store (Tfunction
                                         (Tcons
                                           (tptr (Tstruct _wormmeta noattr))
                                           (Tcons tuint Tnil)) tvoid
                                         cc_default))
          ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
           (Econst_int (Int.repr 256) tuint) :: nil))
        (Scall None
          (Evar _wormmeta_bitmax_store (Tfunction
                                         (Tcons
                                           (tptr (Tstruct _wormmeta noattr))
                                           (Tcons tuint Tnil)) tvoid
                                         cc_default))
          ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
           (Econst_int (Int.repr 256) tuint) :: nil))))
    (Ssequence
      (Scall None
        (Evar _wormmeta_bm_clear (Tfunction
                                   (Tcons (tptr (Tstruct _wormmeta noattr))
                                     (Tcons tuint Tnil)) tvoid cc_default))
        ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
         (Etempvar _id tuint) :: nil))
      (Ssequence
        (Ssequence
          (Scall (Some _t'2)
            (Evar _wormmeta_bitmin_load (Tfunction
                                          (Tcons
                                            (tptr (Tstruct _wormmeta noattr))
                                            Tnil) tuint cc_default))
            ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
          (Scall (Some _t'3)
            (Evar _wormmeta_bitmax_load (Tfunction
                                          (Tcons
                                            (tptr (Tstruct _wormmeta noattr))
                                            Tnil) tuint cc_default))
            ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil)))
        (Sifthenelse (Ebinop Oeq (Etempvar _t'2 tuint) (Etempvar _t'3 tuint)
                       tint)
          (Scall None
            (Evar _wormmeta_shrink (Tfunction
                                     (Tcons (tptr (Tstruct _wormhmap noattr))
                                       (Tcons
                                         (tptr (Tstruct _wormmeta noattr))
                                         Tnil))
                                     (tptr (Tstruct _wormmeta noattr))
                                     cc_default))
            ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
             (Etempvar _meta (tptr (Tstruct _wormmeta noattr))) :: nil))
          Sskip)))))
|}.

Definition f_wormmeta_merge := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
                (_leaf, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_prev, (tptr (Tstruct _wormleaf noattr))) ::
               (_next, (tptr (Tstruct _wormleaf noattr))) ::
               (_pbuf, (tptr (Tstruct _kv noattr))) :: (_i, tuint) ::
               (_alen, tuint) ::
               (_parent, (tptr (Tstruct _wormmeta noattr))) ::
               (_meta, (tptr (Tstruct _wormmeta noattr))) ::
               (_bitmin, tuint) ::
               (_t'10, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'9, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'8, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'7, (tptr (Tstruct _wormleaf noattr))) :: (_t'6, tuint) ::
               (_t'5, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'4, (tptr (Tstruct _wormmeta noattr))) :: (_t'3, tuint) ::
               (_t'2, tuint) :: (_t'1, tint) ::
               (_t'18, (tptr (Tstruct _kv noattr))) ::
               (_t'17, (tptr (Tstruct _kv noattr))) ::
               (_t'16, (tptr (Tstruct _kv noattr))) ::
               (_t'15, (tptr (Tstruct _kv noattr))) :: (_t'14, tuint) ::
               (_t'13, tuchar) :: (_t'12, (tptr (Tstruct _kv noattr))) ::
               (_t'11, (tptr (Tstruct _kv noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _prev
    (Efield
      (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
        (Tstruct _wormleaf noattr)) _prev (tptr (Tstruct _wormleaf noattr))))
  (Ssequence
    (Sset _next
      (Efield
        (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _next
        (tptr (Tstruct _wormleaf noattr))))
    (Ssequence
      (Sset _pbuf
        (Efield
          (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
            (Tstruct _wormhmap noattr)) _pbuf (tptr (Tstruct _kv noattr))))
      (Ssequence
        (Ssequence
          (Sset _t'18
            (Efield
              (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                (Tstruct _wormleaf noattr)) _anchor
              (tptr (Tstruct _kv noattr))))
          (Scall None
            (Evar _kv_dup2_key (Tfunction
                                 (Tcons (tptr (Tstruct _kv noattr))
                                   (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                                 (tptr (Tstruct _kv noattr)) cc_default))
            ((Etempvar _t'18 (tptr (Tstruct _kv noattr))) ::
             (Etempvar _pbuf (tptr (Tstruct _kv noattr))) :: nil)))
        (Ssequence
          (Ssequence
            (Ssequence
              (Sifthenelse (Etempvar _prev (tptr (Tstruct _wormleaf noattr)))
                (Sset _t'1
                  (Ecast (Etempvar _next (tptr (Tstruct _wormleaf noattr)))
                    tbool))
                (Sset _t'1 (Econst_int (Int.repr 0) tint)))
              (Sifthenelse (Etempvar _t'1 tint)
                (Ssequence
                  (Ssequence
                    (Sset _t'16
                      (Efield
                        (Ederef
                          (Etempvar _prev (tptr (Tstruct _wormleaf noattr)))
                          (Tstruct _wormleaf noattr)) _anchor
                        (tptr (Tstruct _kv noattr))))
                    (Ssequence
                      (Sset _t'17
                        (Efield
                          (Ederef
                            (Etempvar _next (tptr (Tstruct _wormleaf noattr)))
                            (Tstruct _wormleaf noattr)) _anchor
                          (tptr (Tstruct _kv noattr))))
                      (Scall (Some _t'3)
                        (Evar _kv_key_lcp (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _kv noattr))
                                              (Tcons
                                                (tptr (Tstruct _kv noattr))
                                                Tnil)) tuint cc_default))
                        ((Etempvar _t'16 (tptr (Tstruct _kv noattr))) ::
                         (Etempvar _t'17 (tptr (Tstruct _kv noattr))) :: nil))))
                  (Sset _t'2 (Ecast (Etempvar _t'3 tuint) tuint)))
                (Sset _t'2 (Ecast (Econst_int (Int.repr 0) tint) tuint))))
            (Sset _i (Etempvar _t'2 tuint)))
          (Ssequence
            (Ssequence
              (Sset _t'15
                (Efield
                  (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                    (Tstruct _wormleaf noattr)) _anchor
                  (tptr (Tstruct _kv noattr))))
              (Sset _alen
                (Efield
                  (Efield
                    (Efield
                      (Ederef (Etempvar _t'15 (tptr (Tstruct _kv noattr)))
                        (Tstruct _kv noattr)) 18727075383868559167%positive
                      (Tunion __6646 noattr)) 18727075383868559167%positive
                    (Tstruct __6647 noattr)) _klen tuint)))
            (Ssequence
              (Scall None
                (Evar _wormhole_prefix (Tfunction
                                         (Tcons (tptr (Tstruct _kv noattr))
                                           (Tcons tuint Tnil)) tvoid
                                         cc_default))
                ((Etempvar _pbuf (tptr (Tstruct _kv noattr))) ::
                 (Etempvar _i tuint) :: nil))
              (Ssequence
                (Sset _parent
                  (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)))
                (Ssequence
                  (Sloop
                    (Ssequence
                      (Ssequence
                        (Sset _t'14
                          (Efield
                            (Ederef
                              (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                              (Tstruct _wormhmap noattr)) _maxplen tuint))
                        (Scall None
                          (Evar _debug_assert (Tfunction (Tcons tbool Tnil)
                                                tvoid cc_default))
                          ((Ebinop Ole (Etempvar _i tuint)
                             (Etempvar _t'14 tuint) tint) :: nil)))
                      (Ssequence
                        (Ssequence
                          (Scall (Some _t'4)
                            (Evar _wormhmap_get (Tfunction
                                                  (Tcons
                                                    (tptr (Tstruct _wormhmap noattr))
                                                    (Tcons
                                                      (tptr (Tstruct _kv noattr))
                                                      Tnil))
                                                  (tptr (Tstruct _wormmeta noattr))
                                                  cc_default))
                            ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                             (Etempvar _pbuf (tptr (Tstruct _kv noattr))) ::
                             nil))
                          (Sset _meta
                            (Etempvar _t'4 (tptr (Tstruct _wormmeta noattr)))))
                        (Ssequence
                          (Ssequence
                            (Ssequence
                              (Scall (Some _t'9)
                                (Evar _wormmeta_lmost_load (Tfunction
                                                             (Tcons
                                                               (tptr (Tstruct _wormmeta noattr))
                                                               Tnil)
                                                             (tptr (Tstruct _wormleaf noattr))
                                                             cc_default))
                                ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                                 nil))
                              (Scall (Some _t'10)
                                (Evar _wormmeta_rmost_load (Tfunction
                                                             (Tcons
                                                               (tptr (Tstruct _wormmeta noattr))
                                                               Tnil)
                                                             (tptr (Tstruct _wormleaf noattr))
                                                             cc_default))
                                ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                                 nil)))
                            (Sifthenelse (Ebinop Oeq
                                           (Etempvar _t'9 (tptr (Tstruct _wormleaf noattr)))
                                           (Etempvar _t'10 (tptr (Tstruct _wormleaf noattr)))
                                           tint)
                              (Ssequence
                                (Ssequence
                                  (Scall (Some _t'5)
                                    (Evar _wormmeta_lmost_load (Tfunction
                                                                 (Tcons
                                                                   (tptr (Tstruct _wormmeta noattr))
                                                                   Tnil)
                                                                 (tptr (Tstruct _wormleaf noattr))
                                                                 cc_default))
                                    ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                                     nil))
                                  (Scall None
                                    (Evar _debug_assert (Tfunction
                                                          (Tcons tbool Tnil)
                                                          tvoid cc_default))
                                    ((Ebinop Oeq
                                       (Etempvar _t'5 (tptr (Tstruct _wormleaf noattr)))
                                       (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                                       tint) :: nil)))
                                (Ssequence
                                  (Ssequence
                                    (Scall (Some _t'6)
                                      (Evar _wormmeta_bitmin_load (Tfunction
                                                                    (Tcons
                                                                    (tptr (Tstruct _wormmeta noattr))
                                                                    Tnil)
                                                                    tuint
                                                                    cc_default))
                                      ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                                       nil))
                                    (Sset _bitmin (Etempvar _t'6 tuint)))
                                  (Ssequence
                                    (Scall None
                                      (Evar _wormhmap_del (Tfunction
                                                            (Tcons
                                                              (tptr (Tstruct _wormhmap noattr))
                                                              (Tcons
                                                                (tptr (Tstruct _wormmeta noattr))
                                                                Tnil)) tbool
                                                            cc_default))
                                      ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                                       (Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                                       nil))
                                    (Ssequence
                                      (Scall None
                                        (Evar _wormmeta_free (Tfunction
                                                               (Tcons
                                                                 (tptr (Tstruct _wormhmap noattr))
                                                                 (Tcons
                                                                   (tptr (Tstruct _wormmeta noattr))
                                                                   Tnil))
                                                               tvoid
                                                               cc_default))
                                        ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                                         (Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                                         nil))
                                      (Ssequence
                                        (Sifthenelse (Etempvar _parent (tptr (Tstruct _wormmeta noattr)))
                                          (Ssequence
                                            (Ssequence
                                              (Sset _t'13
                                                (Ederef
                                                  (Ebinop Oadd
                                                    (Efield
                                                      (Ederef
                                                        (Etempvar _pbuf (tptr (Tstruct _kv noattr)))
                                                        (Tstruct _kv noattr))
                                                      _kv (tarray tuchar 0))
                                                    (Ebinop Osub
                                                      (Etempvar _i tuint)
                                                      (Econst_int (Int.repr 1) tint)
                                                      tuint) (tptr tuchar))
                                                  tuchar))
                                              (Scall None
                                                (Evar _wormmeta_bm_clear_helper 
                                                (Tfunction
                                                  (Tcons
                                                    (tptr (Tstruct _wormhmap noattr))
                                                    (Tcons
                                                      (tptr (Tstruct _wormmeta noattr))
                                                      (Tcons tuint Tnil)))
                                                  tvoid cc_default))
                                                ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                                                 (Etempvar _parent (tptr (Tstruct _wormmeta noattr))) ::
                                                 (Etempvar _t'13 tuchar) ::
                                                 nil)))
                                            (Sset _parent
                                              (Ecast
                                                (Econst_int (Int.repr 0) tint)
                                                (tptr tvoid))))
                                          Sskip)
                                        (Sifthenelse (Ebinop Oeq
                                                       (Etempvar _bitmin tuint)
                                                       (Econst_int (Int.repr 256) tuint)
                                                       tint)
                                          Sbreak
                                          Sskip))))))
                              (Ssequence
                                (Ssequence
                                  (Scall (Some _t'8)
                                    (Evar _wormmeta_lmost_load (Tfunction
                                                                 (Tcons
                                                                   (tptr (Tstruct _wormmeta noattr))
                                                                   Tnil)
                                                                 (tptr (Tstruct _wormleaf noattr))
                                                                 cc_default))
                                    ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                                     nil))
                                  (Sifthenelse (Ebinop Oeq
                                                 (Etempvar _t'8 (tptr (Tstruct _wormleaf noattr)))
                                                 (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                                                 tint)
                                    (Scall None
                                      (Evar _wormmeta_lmost_store (Tfunction
                                                                    (Tcons
                                                                    (tptr (Tstruct _wormmeta noattr))
                                                                    (Tcons
                                                                    (tptr (Tstruct _wormleaf noattr))
                                                                    Tnil))
                                                                    tvoid
                                                                    cc_default))
                                      ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                                       (Etempvar _next (tptr (Tstruct _wormleaf noattr))) ::
                                       nil))
                                    (Ssequence
                                      (Scall (Some _t'7)
                                        (Evar _wormmeta_rmost_load (Tfunction
                                                                    (Tcons
                                                                    (tptr (Tstruct _wormmeta noattr))
                                                                    Tnil)
                                                                    (tptr (Tstruct _wormleaf noattr))
                                                                    cc_default))
                                        ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                                         nil))
                                      (Sifthenelse (Ebinop Oeq
                                                     (Etempvar _t'7 (tptr (Tstruct _wormleaf noattr)))
                                                     (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                                                     tint)
                                        (Scall None
                                          (Evar _wormmeta_rmost_store 
                                          (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormmeta noattr))
                                              (Tcons
                                                (tptr (Tstruct _wormleaf noattr))
                                                Tnil)) tvoid cc_default))
                                          ((Etempvar _meta (tptr (Tstruct _wormmeta noattr))) ::
                                           (Etempvar _prev (tptr (Tstruct _wormleaf noattr))) ::
                                           nil))
                                        Sskip))))
                                (Sset _parent
                                  (Etempvar _meta (tptr (Tstruct _wormmeta noattr)))))))
                          (Ssequence
                            (Sifthenelse (Ebinop Oge (Etempvar _i tuint)
                                           (Etempvar _alen tuint) tint)
                              Sbreak
                              Sskip)
                            (Ssequence
                              (Sset _i
                                (Ebinop Oadd (Etempvar _i tuint)
                                  (Econst_int (Int.repr 1) tint) tuint))
                              (Scall None
                                (Evar _wormhole_prefix_inc1 (Tfunction
                                                              (Tcons
                                                                (tptr (Tstruct _kv noattr))
                                                                Tnil) tvoid
                                                              cc_default))
                                ((Etempvar _pbuf (tptr (Tstruct _kv noattr))) ::
                                 nil)))))))
                    Sskip)
                  (Sifthenelse (Etempvar _next (tptr (Tstruct _wormleaf noattr)))
                    (Ssequence
                      (Sset _t'11
                        (Efield
                          (Ederef
                            (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                            (Tstruct _wormleaf noattr)) _anchor
                          (tptr (Tstruct _kv noattr))))
                      (Ssequence
                        (Sset _t'12
                          (Efield
                            (Ederef
                              (Etempvar _next (tptr (Tstruct _wormleaf noattr)))
                              (Tstruct _wormleaf noattr)) _anchor
                            (tptr (Tstruct _kv noattr))))
                        (Scall None
                          (Evar _wormmeta_lpath_update (Tfunction
                                                         (Tcons
                                                           (tptr (Tstruct _wormhmap noattr))
                                                           (Tcons
                                                             (tptr (Tstruct _kv noattr))
                                                             (Tcons
                                                               (tptr (Tstruct _kv noattr))
                                                               (Tcons
                                                                 (tptr (Tstruct _wormleaf noattr))
                                                                 Tnil))))
                                                         tvoid cc_default))
                          ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                           (Etempvar _t'11 (tptr (Tstruct _kv noattr))) ::
                           (Etempvar _t'12 (tptr (Tstruct _kv noattr))) ::
                           (Etempvar _prev (tptr (Tstruct _wormleaf noattr))) ::
                           nil))))
                    Sskip))))))))))
|}.

Definition f_wormhole_meta_merge := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_leaf1, (tptr (Tstruct _wormleaf noattr))) ::
                (_leaf2, (tptr (Tstruct _wormleaf noattr))) ::
                (_unlock_leaf1, tbool) :: nil);
  fn_vars := nil;
  fn_temps := ((_map, (tptr (Tstruct _wormhole noattr))) ::
               (_hmap0, (tptr (Tstruct _wormhmap noattr))) ::
               (_hmap1, (tptr (Tstruct _wormhmap noattr))) ::
               (_v1, tulong) :: (_t'3, tulong) ::
               (_t'2, (tptr (Tstruct _wormhmap noattr))) ::
               (_t'1, (tptr (Tstruct _wormhmap noattr))) ::
               (_t'10, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'9, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'8, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'7, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'6, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'5, (tptr (Tstruct _qsbr noattr))) ::
               (_t'4, (tptr (Tstruct _slab noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'10
      (Efield
        (Ederef (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _next
        (tptr (Tstruct _wormleaf noattr))))
    (Scall None
      (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
      ((Ebinop Oeq (Etempvar _t'10 (tptr (Tstruct _wormleaf noattr)))
         (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) tint) :: nil)))
  (Ssequence
    (Ssequence
      (Sset _t'9
        (Efield
          (Ederef (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _prev
          (tptr (Tstruct _wormleaf noattr))))
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Ebinop Oeq (Etempvar _t'9 (tptr (Tstruct _wormleaf noattr)))
           (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) tint) :: nil)))
    (Ssequence
      (Sset _map
        (Efield
          (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
            (Tstruct _wormref noattr)) _map
          (tptr (Tstruct _wormhole noattr))))
      (Ssequence
        (Scall None
          (Evar _wormhmap_lock (Tfunction
                                 (Tcons (tptr (Tstruct _wormhole noattr))
                                   (Tcons (tptr (Tstruct _wormref noattr))
                                     Tnil)) tvoid cc_default))
          ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
           (Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
        (Ssequence
          (Ssequence
            (Scall (Some _t'1)
              (Evar _wormhmap_load (Tfunction
                                     (Tcons (tptr (Tstruct _wormhole noattr))
                                       Tnil)
                                     (tptr (Tstruct _wormhmap noattr))
                                     cc_default))
              ((Etempvar _map (tptr (Tstruct _wormhole noattr))) :: nil))
            (Sset _hmap0 (Etempvar _t'1 (tptr (Tstruct _wormhmap noattr)))))
          (Ssequence
            (Ssequence
              (Scall (Some _t'2)
                (Evar _wormhmap_switch (Tfunction
                                         (Tcons
                                           (tptr (Tstruct _wormhole noattr))
                                           (Tcons
                                             (tptr (Tstruct _wormhmap noattr))
                                             Tnil))
                                         (tptr (Tstruct _wormhmap noattr))
                                         cc_default))
                ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                 (Etempvar _hmap0 (tptr (Tstruct _wormhmap noattr))) :: nil))
              (Sset _hmap1 (Etempvar _t'2 (tptr (Tstruct _wormhmap noattr)))))
            (Ssequence
              (Ssequence
                (Scall (Some _t'3)
                  (Evar _wormhmap_version_load (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _wormhmap noattr))
                                                   Tnil) tulong cc_default))
                  ((Etempvar _hmap0 (tptr (Tstruct _wormhmap noattr))) ::
                   nil))
                (Sset _v1
                  (Ebinop Oadd (Etempvar _t'3 tulong)
                    (Econst_int (Int.repr 1) tint) tulong)))
              (Ssequence
                (Ssequence
                  (Sset _t'8
                    (Efield
                      (Ederef
                        (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                        (Tstruct _wormleaf noattr)) _next
                      (tptr (Tstruct _wormleaf noattr))))
                  (Sassign
                    (Efield
                      (Ederef
                        (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
                        (Tstruct _wormleaf noattr)) _next
                      (tptr (Tstruct _wormleaf noattr)))
                    (Etempvar _t'8 (tptr (Tstruct _wormleaf noattr)))))
                (Ssequence
                  (Ssequence
                    (Sset _t'6
                      (Efield
                        (Ederef
                          (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                          (Tstruct _wormleaf noattr)) _next
                        (tptr (Tstruct _wormleaf noattr))))
                    (Sifthenelse (Etempvar _t'6 (tptr (Tstruct _wormleaf noattr)))
                      (Ssequence
                        (Sset _t'7
                          (Efield
                            (Ederef
                              (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                              (Tstruct _wormleaf noattr)) _next
                            (tptr (Tstruct _wormleaf noattr))))
                        (Sassign
                          (Efield
                            (Ederef
                              (Etempvar _t'7 (tptr (Tstruct _wormleaf noattr)))
                              (Tstruct _wormleaf noattr)) _prev
                            (tptr (Tstruct _wormleaf noattr)))
                          (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))))
                      Sskip))
                  (Ssequence
                    (Scall None
                      (Evar _wormleaf_version_store (Tfunction
                                                      (Tcons
                                                        (tptr (Tstruct _wormleaf noattr))
                                                        (Tcons tulong Tnil))
                                                      tvoid cc_default))
                      ((Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
                       (Etempvar _v1 tulong) :: nil))
                    (Ssequence
                      (Scall None
                        (Evar _wormleaf_version_store (Tfunction
                                                        (Tcons
                                                          (tptr (Tstruct _wormleaf noattr))
                                                          (Tcons tulong Tnil))
                                                        tvoid cc_default))
                        ((Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) ::
                         (Etempvar _v1 tulong) :: nil))
                      (Ssequence
                        (Scall None
                          (Evar _wormhmap_version_store (Tfunction
                                                          (Tcons
                                                            (tptr (Tstruct _wormhmap noattr))
                                                            (Tcons tulong
                                                              Tnil)) tvoid
                                                          cc_default))
                          ((Etempvar _hmap1 (tptr (Tstruct _wormhmap noattr))) ::
                           (Etempvar _v1 tulong) :: nil))
                        (Ssequence
                          (Scall None
                            (Evar _wormmeta_merge (Tfunction
                                                    (Tcons
                                                      (tptr (Tstruct _wormhmap noattr))
                                                      (Tcons
                                                        (tptr (Tstruct _wormleaf noattr))
                                                        Tnil)) tvoid
                                                    cc_default))
                            ((Etempvar _hmap1 (tptr (Tstruct _wormhmap noattr))) ::
                             (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) ::
                             nil))
                          (Ssequence
                            (Scall None
                              (Evar _qsbr_update (Tfunction
                                                   (Tcons
                                                     (tptr (Tstruct _qsbr_ref noattr))
                                                     (Tcons tulong Tnil))
                                                   tvoid cc_default))
                              ((Eaddrof
                                 (Efield
                                   (Ederef
                                     (Etempvar _ref (tptr (Tstruct _wormref noattr)))
                                     (Tstruct _wormref noattr)) _qref
                                   (Tstruct _qsbr_ref noattr))
                                 (tptr (Tstruct _qsbr_ref noattr))) ::
                               (Etempvar _v1 tulong) :: nil))
                            (Ssequence
                              (Scall None
                                (Evar _wormhmap_store (Tfunction
                                                        (Tcons
                                                          (tptr (Tstruct _wormhole noattr))
                                                          (Tcons
                                                            (tptr (Tstruct _wormhmap noattr))
                                                            Tnil)) tvoid
                                                        cc_default))
                                ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                                 (Etempvar _hmap1 (tptr (Tstruct _wormhmap noattr))) ::
                                 nil))
                              (Ssequence
                                (Sifthenelse (Etempvar _unlock_leaf1 tbool)
                                  (Scall None
                                    (Evar _wormleaf_unlock_write (Tfunction
                                                                   (Tcons
                                                                    (tptr (Tstruct _wormleaf noattr))
                                                                    Tnil)
                                                                   tvoid
                                                                   cc_default))
                                    ((Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
                                     nil))
                                  Sskip)
                                (Ssequence
                                  (Scall None
                                    (Evar _wormleaf_unlock_write (Tfunction
                                                                   (Tcons
                                                                    (tptr (Tstruct _wormleaf noattr))
                                                                    Tnil)
                                                                   tvoid
                                                                   cc_default))
                                    ((Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) ::
                                     nil))
                                  (Ssequence
                                    (Ssequence
                                      (Sset _t'5
                                        (Efield
                                          (Ederef
                                            (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                            (Tstruct _wormhole noattr)) _qsbr
                                          (tptr (Tstruct _qsbr noattr))))
                                      (Scall None
                                        (Evar _qsbr_wait (Tfunction
                                                           (Tcons
                                                             (tptr (Tstruct _qsbr noattr))
                                                             (Tcons tulong
                                                               Tnil)) tvoid
                                                           cc_default))
                                        ((Etempvar _t'5 (tptr (Tstruct _qsbr noattr))) ::
                                         (Etempvar _v1 tulong) :: nil)))
                                    (Ssequence
                                      (Scall None
                                        (Evar _wormmeta_merge (Tfunction
                                                                (Tcons
                                                                  (tptr (Tstruct _wormhmap noattr))
                                                                  (Tcons
                                                                    (tptr (Tstruct _wormleaf noattr))
                                                                    Tnil))
                                                                tvoid
                                                                cc_default))
                                        ((Etempvar _hmap0 (tptr (Tstruct _wormhmap noattr))) ::
                                         (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) ::
                                         nil))
                                      (Ssequence
                                        (Ssequence
                                          (Sset _t'4
                                            (Efield
                                              (Ederef
                                                (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                                (Tstruct _wormhole noattr))
                                              _slab_leaf
                                              (tptr (Tstruct _slab noattr))))
                                          (Scall None
                                            (Evar _wormleaf_free (Tfunction
                                                                   (Tcons
                                                                    (tptr (Tstruct _slab noattr))
                                                                    (Tcons
                                                                    (tptr (Tstruct _wormleaf noattr))
                                                                    Tnil))
                                                                   tvoid
                                                                   cc_default))
                                            ((Etempvar _t'4 (tptr (Tstruct _slab noattr))) ::
                                             (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) ::
                                             nil)))
                                        (Scall None
                                          (Evar _wormhmap_unlock (Tfunction
                                                                   (Tcons
                                                                    (tptr (Tstruct _wormhole noattr))
                                                                    Tnil)
                                                                   tvoid
                                                                   cc_default))
                                          ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                                           nil))))))))))))))))))))))
|}.

Definition f_wormhole_meta_leaf_merge := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_leaf, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_next, (tptr (Tstruct _wormleaf noattr))) :: (_t'1, tbool) ::
               (_t'3, tuint) :: (_t'2, tuint) :: nil);
  fn_body :=
(Ssequence
  (Sset _next
    (Efield
      (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
        (Tstruct _wormleaf noattr)) _next (tptr (Tstruct _wormleaf noattr))))
  (Ssequence
    (Scall None
      (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
      ((Etempvar _next (tptr (Tstruct _wormleaf noattr))) :: nil))
    (Ssequence
      (Ssequence
        (Sset _t'2
          (Efield
            (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
              (Tstruct _wormleaf noattr)) _nr_keys tuint))
        (Ssequence
          (Sset _t'3
            (Efield
              (Ederef (Etempvar _next (tptr (Tstruct _wormleaf noattr)))
                (Tstruct _wormleaf noattr)) _nr_keys tuint))
          (Sifthenelse (Ebinop Ole
                         (Ebinop Oadd (Etempvar _t'2 tuint)
                           (Etempvar _t'3 tuint) tuint)
                         (Econst_int (Int.repr 128) tuint) tint)
            (Ssequence
              (Scall (Some _t'1)
                (Evar _wormleaf_merge (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormleaf noattr))
                                          (Tcons
                                            (tptr (Tstruct _wormleaf noattr))
                                            Tnil)) tbool cc_default))
                ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                 (Etempvar _next (tptr (Tstruct _wormleaf noattr))) :: nil))
              (Sifthenelse (Etempvar _t'1 tbool)
                (Ssequence
                  (Scall None
                    (Evar _wormhole_meta_merge (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _wormref noattr))
                                                   (Tcons
                                                     (tptr (Tstruct _wormleaf noattr))
                                                     (Tcons
                                                       (tptr (Tstruct _wormleaf noattr))
                                                       (Tcons tbool Tnil))))
                                                 tvoid cc_default))
                    ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
                     (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                     (Etempvar _next (tptr (Tstruct _wormleaf noattr))) ::
                     (Econst_int (Int.repr 1) tint) :: nil))
                  (Sreturn (Some (Econst_int (Int.repr 1) tint))))
                Sskip))
            Sskip)))
      (Ssequence
        (Scall None
          (Evar _wormleaf_unlock_write (Tfunction
                                         (Tcons
                                           (tptr (Tstruct _wormleaf noattr))
                                           Tnil) tvoid cc_default))
          ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
        (Ssequence
          (Scall None
            (Evar _wormleaf_unlock_write (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormleaf noattr))
                                             Tnil) tvoid cc_default))
            ((Etempvar _next (tptr (Tstruct _wormleaf noattr))) :: nil))
          (Sreturn (Some (Econst_int (Int.repr 0) tint))))))))
|}.

Definition f_whunsafe_meta_leaf_merge := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_leaf1, (tptr (Tstruct _wormleaf noattr))) ::
                (_leaf2, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_i, tuint) :: (_t'1, tbool) ::
               (_t'8, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'7, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'6, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'5, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'4, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'3, (tptr (Tstruct _wormmbkt noattr))) ::
               (_t'2, (tptr (Tstruct _slab noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'8
      (Efield
        (Ederef (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _next
        (tptr (Tstruct _wormleaf noattr))))
    (Scall None
      (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
      ((Ebinop Oeq (Etempvar _t'8 (tptr (Tstruct _wormleaf noattr)))
         (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) tint) :: nil)))
  (Ssequence
    (Ssequence
      (Sset _t'7
        (Efield
          (Ederef (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _prev
          (tptr (Tstruct _wormleaf noattr))))
      (Scall None
        (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
        ((Ebinop Oeq (Etempvar _t'7 (tptr (Tstruct _wormleaf noattr)))
           (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) tint) :: nil)))
    (Ssequence
      (Ssequence
        (Scall (Some _t'1)
          (Evar _wormleaf_merge (Tfunction
                                  (Tcons (tptr (Tstruct _wormleaf noattr))
                                    (Tcons (tptr (Tstruct _wormleaf noattr))
                                      Tnil)) tbool cc_default))
          ((Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr))) ::
           (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) :: nil))
        (Sifthenelse (Eunop Onotbool (Etempvar _t'1 tbool) tint)
          (Sreturn None)
          Sskip))
      (Ssequence
        (Ssequence
          (Sset _t'6
            (Efield
              (Ederef (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                (Tstruct _wormleaf noattr)) _next
              (tptr (Tstruct _wormleaf noattr))))
          (Sassign
            (Efield
              (Ederef (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))
                (Tstruct _wormleaf noattr)) _next
              (tptr (Tstruct _wormleaf noattr)))
            (Etempvar _t'6 (tptr (Tstruct _wormleaf noattr)))))
        (Ssequence
          (Ssequence
            (Sset _t'4
              (Efield
                (Ederef (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _next
                (tptr (Tstruct _wormleaf noattr))))
            (Sifthenelse (Etempvar _t'4 (tptr (Tstruct _wormleaf noattr)))
              (Ssequence
                (Sset _t'5
                  (Efield
                    (Ederef
                      (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr)))
                      (Tstruct _wormleaf noattr)) _next
                    (tptr (Tstruct _wormleaf noattr))))
                (Sassign
                  (Efield
                    (Ederef (Etempvar _t'5 (tptr (Tstruct _wormleaf noattr)))
                      (Tstruct _wormleaf noattr)) _prev
                    (tptr (Tstruct _wormleaf noattr)))
                  (Etempvar _leaf1 (tptr (Tstruct _wormleaf noattr)))))
              Sskip))
          (Ssequence
            (Ssequence
              (Sset _i (Econst_int (Int.repr 0) tint))
              (Sloop
                (Ssequence
                  (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                                 (Econst_int (Int.repr 2) tint) tint)
                    Sskip
                    Sbreak)
                  (Ssequence
                    (Sset _t'3
                      (Efield
                        (Ederef
                          (Ebinop Oadd
                            (Efield
                              (Ederef
                                (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                (Tstruct _wormhole noattr)) _hmap2
                              (tarray (Tstruct _wormhmap noattr) 2))
                            (Etempvar _i tuint)
                            (tptr (Tstruct _wormhmap noattr)))
                          (Tstruct _wormhmap noattr)) _pmap
                        (tptr (Tstruct _wormmbkt noattr))))
                    (Sifthenelse (Etempvar _t'3 (tptr (Tstruct _wormmbkt noattr)))
                      (Scall None
                        (Evar _wormmeta_merge (Tfunction
                                                (Tcons
                                                  (tptr (Tstruct _wormhmap noattr))
                                                  (Tcons
                                                    (tptr (Tstruct _wormleaf noattr))
                                                    Tnil)) tvoid cc_default))
                        ((Ebinop Oadd
                           (Efield
                             (Ederef
                               (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                               (Tstruct _wormhole noattr)) _hmap2
                             (tarray (Tstruct _wormhmap noattr) 2))
                           (Etempvar _i tuint)
                           (tptr (Tstruct _wormhmap noattr))) ::
                         (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) ::
                         nil))
                      Sskip)))
                (Sset _i
                  (Ebinop Oadd (Etempvar _i tuint)
                    (Econst_int (Int.repr 1) tint) tuint))))
            (Ssequence
              (Sset _t'2
                (Efield
                  (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                    (Tstruct _wormhole noattr)) _slab_leaf
                  (tptr (Tstruct _slab noattr))))
              (Scall None
                (Evar _wormleaf_free (Tfunction
                                       (Tcons (tptr (Tstruct _slab noattr))
                                         (Tcons
                                           (tptr (Tstruct _wormleaf noattr))
                                           Tnil)) tvoid cc_default))
                ((Etempvar _t'2 (tptr (Tstruct _slab noattr))) ::
                 (Etempvar _leaf2 (tptr (Tstruct _wormleaf noattr))) :: nil)))))))))
|}.

Definition f_wormhole_put := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_kv__1, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := ((_kref__1, (Tstruct _kref noattr)) ::
              (__res, (Tstruct _kref noattr)) :: nil);
  fn_temps := ((_map, (tptr (Tstruct _wormhole noattr))) ::
               (_new, (tptr (Tstruct _kv noattr))) ::
               (_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_im, tuint) ::
               (_old, (tptr (Tstruct _kv noattr))) :: (_rsi, tbool) ::
               (_t'5, tbool) :: (_t'4, (tptr (Tstruct _kv noattr))) ::
               (_t'3, tuint) :: (_t'2, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'1, (tptr (Tstruct _kv noattr))) ::
               (_t'12, (tptr tvoid)) ::
               (_t'11,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil))
                        (tptr (Tstruct _kv noattr)) cc_default))) ::
               (_t'10, (tptr tvoid)) ::
               (_t'9,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
               (_t'8, tuint) :: (_t'7, (tptr tvoid)) ::
               (_t'6,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
               nil);
  fn_body :=
(Ssequence
  (Sset _map
    (Efield
      (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
        (Tstruct _wormref noattr)) _map (tptr (Tstruct _wormhole noattr))))
  (Ssequence
    (Ssequence
      (Ssequence
        (Sset _t'11
          (Efield
            (Efield
              (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                (Tstruct _wormhole noattr)) _mm (Tstruct _kvmap_mm noattr))
            _in
            (tptr (Tfunction
                    (Tcons (tptr (Tstruct _kv noattr))
                      (Tcons (tptr tvoid) Tnil)) (tptr (Tstruct _kv noattr))
                    cc_default))))
        (Ssequence
          (Sset _t'12
            (Efield
              (Efield
                (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                  (Tstruct _wormhole noattr)) _mm (Tstruct _kvmap_mm noattr))
              _priv (tptr tvoid)))
          (Scall (Some _t'1)
            (Etempvar _t'11 (tptr (Tfunction
                                    (Tcons (tptr (Tstruct _kv noattr))
                                      (Tcons (tptr tvoid) Tnil))
                                    (tptr (Tstruct _kv noattr)) cc_default)))
            ((Etempvar _kv__1 (tptr (Tstruct _kv noattr))) ::
             (Etempvar _t'12 (tptr tvoid)) :: nil))))
      (Sset _new (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
    (Ssequence
      (Sifthenelse (Ebinop Oeq (Etempvar _new (tptr (Tstruct _kv noattr)))
                     (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))
                     tint)
        (Sreturn (Some (Econst_int (Int.repr 0) tint)))
        Sskip)
      (Ssequence
        (Ssequence
          (Scall None
            (Evar _kv_kref (Tfunction
                             (Tcons (tptr (Tstruct _kref noattr))
                               (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                             tvoid
                             {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
            ((Eaddrof (Evar __res (Tstruct _kref noattr))
               (tptr (Tstruct _kref noattr))) ::
             (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil))
          (Sassign (Evar _kref__1 (Tstruct _kref noattr))
            (Evar __res (Tstruct _kref noattr))))
        (Ssequence
          (Ssequence
            (Scall (Some _t'2)
              (Evar _wormhole_jump_leaf_write (Tfunction
                                                (Tcons
                                                  (tptr (Tstruct _wormref noattr))
                                                  (Tcons
                                                    (tptr (Tstruct _kref noattr))
                                                    Tnil))
                                                (tptr (Tstruct _wormleaf noattr))
                                                cc_default))
              ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
               (Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
                 (tptr (Tstruct _kref noattr))) :: nil))
            (Sset _leaf (Etempvar _t'2 (tptr (Tstruct _wormleaf noattr)))))
          (Ssequence
            (Ssequence
              (Scall (Some _t'3)
                (Evar _wormleaf_match_hs (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormleaf noattr))
                                             (Tcons
                                               (tptr (Tstruct _kref noattr))
                                               Tnil)) tuint cc_default))
                ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                 (Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
                   (tptr (Tstruct _kref noattr))) :: nil))
              (Sset _im (Etempvar _t'3 tuint)))
            (Ssequence
              (Sifthenelse (Ebinop Olt (Etempvar _im tuint)
                             (Econst_int (Int.repr 128) tuint) tint)
                (Ssequence
                  (Ssequence
                    (Scall (Some _t'4)
                      (Evar _wormleaf_update (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _wormleaf noattr))
                                                 (Tcons tuint
                                                   (Tcons
                                                     (tptr (Tstruct _kv noattr))
                                                     Tnil)))
                                               (tptr (Tstruct _kv noattr))
                                               cc_default))
                      ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                       (Etempvar _im tuint) ::
                       (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil))
                    (Sset _old (Etempvar _t'4 (tptr (Tstruct _kv noattr)))))
                  (Ssequence
                    (Scall None
                      (Evar _wormleaf_unlock_write (Tfunction
                                                     (Tcons
                                                       (tptr (Tstruct _wormleaf noattr))
                                                       Tnil) tvoid
                                                     cc_default))
                      ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                       nil))
                    (Ssequence
                      (Ssequence
                        (Sset _t'9
                          (Efield
                            (Efield
                              (Ederef
                                (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                (Tstruct _wormhole noattr)) _mm
                              (Tstruct _kvmap_mm noattr)) _free
                            (tptr (Tfunction
                                    (Tcons (tptr (Tstruct _kv noattr))
                                      (Tcons (tptr tvoid) Tnil)) tvoid
                                    cc_default))))
                        (Ssequence
                          (Sset _t'10
                            (Efield
                              (Efield
                                (Ederef
                                  (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                  (Tstruct _wormhole noattr)) _mm
                                (Tstruct _kvmap_mm noattr)) _priv
                              (tptr tvoid)))
                          (Scall None
                            (Etempvar _t'9 (tptr (Tfunction
                                                   (Tcons
                                                     (tptr (Tstruct _kv noattr))
                                                     (Tcons (tptr tvoid)
                                                       Tnil)) tvoid
                                                   cc_default)))
                            ((Etempvar _old (tptr (Tstruct _kv noattr))) ::
                             (Etempvar _t'10 (tptr tvoid)) :: nil))))
                      (Sreturn (Some (Econst_int (Int.repr 1) tint))))))
                Sskip)
              (Ssequence
                (Ssequence
                  (Sset _t'8
                    (Efield
                      (Ederef
                        (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                        (Tstruct _wormleaf noattr)) _nr_keys tuint))
                  (Sifthenelse (Ebinop Olt (Etempvar _t'8 tuint)
                                 (Econst_int (Int.repr 128) tuint) tint)
                    (Ssequence
                      (Scall None
                        (Evar _wormleaf_insert (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _wormleaf noattr))
                                                   (Tcons
                                                     (tptr (Tstruct _kv noattr))
                                                     Tnil)) tvoid cc_default))
                        ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                         (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil))
                      (Ssequence
                        (Scall None
                          (Evar _wormleaf_unlock_write (Tfunction
                                                         (Tcons
                                                           (tptr (Tstruct _wormleaf noattr))
                                                           Tnil) tvoid
                                                         cc_default))
                          ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                           nil))
                        (Sreturn (Some (Econst_int (Int.repr 1) tint)))))
                    Sskip))
                (Ssequence
                  (Ssequence
                    (Scall (Some _t'5)
                      (Evar _wormhole_split_insert (Tfunction
                                                     (Tcons
                                                       (tptr (Tstruct _wormref noattr))
                                                       (Tcons
                                                         (tptr (Tstruct _wormleaf noattr))
                                                         (Tcons
                                                           (tptr (Tstruct _kv noattr))
                                                           Tnil))) tbool
                                                     cc_default))
                      ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
                       (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                       (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil))
                    (Sset _rsi (Ecast (Etempvar _t'5 tbool) tbool)))
                  (Ssequence
                    (Sifthenelse (Eunop Onotbool (Etempvar _rsi tbool) tint)
                      (Ssequence
                        (Sset _t'6
                          (Efield
                            (Efield
                              (Ederef
                                (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                (Tstruct _wormhole noattr)) _mm
                              (Tstruct _kvmap_mm noattr)) _free
                            (tptr (Tfunction
                                    (Tcons (tptr (Tstruct _kv noattr))
                                      (Tcons (tptr tvoid) Tnil)) tvoid
                                    cc_default))))
                        (Ssequence
                          (Sset _t'7
                            (Efield
                              (Efield
                                (Ederef
                                  (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                  (Tstruct _wormhole noattr)) _mm
                                (Tstruct _kvmap_mm noattr)) _priv
                              (tptr tvoid)))
                          (Scall None
                            (Etempvar _t'6 (tptr (Tfunction
                                                   (Tcons
                                                     (tptr (Tstruct _kv noattr))
                                                     (Tcons (tptr tvoid)
                                                       Tnil)) tvoid
                                                   cc_default)))
                            ((Etempvar _new (tptr (Tstruct _kv noattr))) ::
                             (Etempvar _t'7 (tptr tvoid)) :: nil))))
                      Sskip)
                    (Sreturn (Some (Etempvar _rsi tbool)))))))))))))
|}.

Definition f_whsafe_put := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_kv__1, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_r, tbool) :: (_t'1, tbool) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _wormhole_resume (Tfunction
                             (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                             tvoid cc_default))
    ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
  (Ssequence
    (Ssequence
      (Scall (Some _t'1)
        (Evar _wormhole_put (Tfunction
                              (Tcons (tptr (Tstruct _wormref noattr))
                                (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                              tbool cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
         (Etempvar _kv__1 (tptr (Tstruct _kv noattr))) :: nil))
      (Sset _r (Ecast (Etempvar _t'1 tbool) tbool)))
    (Ssequence
      (Scall None
        (Evar _wormhole_park (Tfunction
                               (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                               tvoid cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
      (Sreturn (Some (Etempvar _r tbool))))))
|}.

Definition f_whunsafe_put := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_kv__1, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := ((_kref__1, (Tstruct _kref noattr)) ::
              (__res, (Tstruct _kref noattr)) :: nil);
  fn_temps := ((_new, (tptr (Tstruct _kv noattr))) ::
               (_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_im, tuint) ::
               (_old, (tptr (Tstruct _kv noattr))) :: (_rsi, tbool) ::
               (_t'5, tbool) :: (_t'4, (tptr (Tstruct _kv noattr))) ::
               (_t'3, tuint) :: (_t'2, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'1, (tptr (Tstruct _kv noattr))) ::
               (_t'13, (tptr tvoid)) ::
               (_t'12,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil))
                        (tptr (Tstruct _kv noattr)) cc_default))) ::
               (_t'11, (tptr (Tstruct _wormhmap noattr))) ::
               (_t'10, (tptr tvoid)) ::
               (_t'9,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
               (_t'8, tuint) :: (_t'7, (tptr tvoid)) ::
               (_t'6,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
               nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'12
        (Efield
          (Efield
            (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
              (Tstruct _wormhole noattr)) _mm (Tstruct _kvmap_mm noattr)) _in
          (tptr (Tfunction
                  (Tcons (tptr (Tstruct _kv noattr))
                    (Tcons (tptr tvoid) Tnil)) (tptr (Tstruct _kv noattr))
                  cc_default))))
      (Ssequence
        (Sset _t'13
          (Efield
            (Efield
              (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                (Tstruct _wormhole noattr)) _mm (Tstruct _kvmap_mm noattr))
            _priv (tptr tvoid)))
        (Scall (Some _t'1)
          (Etempvar _t'12 (tptr (Tfunction
                                  (Tcons (tptr (Tstruct _kv noattr))
                                    (Tcons (tptr tvoid) Tnil))
                                  (tptr (Tstruct _kv noattr)) cc_default)))
          ((Etempvar _kv__1 (tptr (Tstruct _kv noattr))) ::
           (Etempvar _t'13 (tptr tvoid)) :: nil))))
    (Sset _new (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
  (Ssequence
    (Sifthenelse (Ebinop Oeq (Etempvar _new (tptr (Tstruct _kv noattr)))
                   (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) tint)
      (Sreturn (Some (Econst_int (Int.repr 0) tint)))
      Sskip)
    (Ssequence
      (Ssequence
        (Scall None
          (Evar _kv_kref (Tfunction
                           (Tcons (tptr (Tstruct _kref noattr))
                             (Tcons (tptr (Tstruct _kv noattr)) Tnil)) tvoid
                           {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
          ((Eaddrof (Evar __res (Tstruct _kref noattr))
             (tptr (Tstruct _kref noattr))) ::
           (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil))
        (Sassign (Evar _kref__1 (Tstruct _kref noattr))
          (Evar __res (Tstruct _kref noattr))))
      (Ssequence
        (Ssequence
          (Ssequence
            (Sset _t'11
              (Efield
                (Efield
                  (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                    (Tstruct _wormhole noattr)) 18727075383868559167%positive
                  (Tunion __7371 noattr)) _hmap
                (tptr (Tstruct _wormhmap noattr))))
            (Scall (Some _t'2)
              (Evar _wormhole_jump_leaf (Tfunction
                                          (Tcons
                                            (tptr (Tstruct _wormhmap noattr))
                                            (Tcons
                                              (tptr (Tstruct _kref noattr))
                                              Tnil))
                                          (tptr (Tstruct _wormleaf noattr))
                                          cc_default))
              ((Etempvar _t'11 (tptr (Tstruct _wormhmap noattr))) ::
               (Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
                 (tptr (Tstruct _kref noattr))) :: nil)))
          (Sset _leaf (Etempvar _t'2 (tptr (Tstruct _wormleaf noattr)))))
        (Ssequence
          (Ssequence
            (Scall (Some _t'3)
              (Evar _wormleaf_match_hs (Tfunction
                                         (Tcons
                                           (tptr (Tstruct _wormleaf noattr))
                                           (Tcons
                                             (tptr (Tstruct _kref noattr))
                                             Tnil)) tuint cc_default))
              ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
               (Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
                 (tptr (Tstruct _kref noattr))) :: nil))
            (Sset _im (Etempvar _t'3 tuint)))
          (Ssequence
            (Sifthenelse (Ebinop Olt (Etempvar _im tuint)
                           (Econst_int (Int.repr 128) tuint) tint)
              (Ssequence
                (Ssequence
                  (Scall (Some _t'4)
                    (Evar _wormleaf_update (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _wormleaf noattr))
                                               (Tcons tuint
                                                 (Tcons
                                                   (tptr (Tstruct _kv noattr))
                                                   Tnil)))
                                             (tptr (Tstruct _kv noattr))
                                             cc_default))
                    ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                     (Etempvar _im tuint) ::
                     (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil))
                  (Sset _old (Etempvar _t'4 (tptr (Tstruct _kv noattr)))))
                (Ssequence
                  (Ssequence
                    (Sset _t'9
                      (Efield
                        (Efield
                          (Ederef
                            (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                            (Tstruct _wormhole noattr)) _mm
                          (Tstruct _kvmap_mm noattr)) _free
                        (tptr (Tfunction
                                (Tcons (tptr (Tstruct _kv noattr))
                                  (Tcons (tptr tvoid) Tnil)) tvoid
                                cc_default))))
                    (Ssequence
                      (Sset _t'10
                        (Efield
                          (Efield
                            (Ederef
                              (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                              (Tstruct _wormhole noattr)) _mm
                            (Tstruct _kvmap_mm noattr)) _priv (tptr tvoid)))
                      (Scall None
                        (Etempvar _t'9 (tptr (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _kv noattr))
                                                 (Tcons (tptr tvoid) Tnil))
                                               tvoid cc_default)))
                        ((Etempvar _old (tptr (Tstruct _kv noattr))) ::
                         (Etempvar _t'10 (tptr tvoid)) :: nil))))
                  (Sreturn (Some (Econst_int (Int.repr 1) tint)))))
              Sskip)
            (Ssequence
              (Ssequence
                (Sset _t'8
                  (Efield
                    (Ederef
                      (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                      (Tstruct _wormleaf noattr)) _nr_keys tuint))
                (Sifthenelse (Ebinop Olt (Etempvar _t'8 tuint)
                               (Econst_int (Int.repr 128) tuint) tint)
                  (Ssequence
                    (Scall None
                      (Evar _wormleaf_insert (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _wormleaf noattr))
                                                 (Tcons
                                                   (tptr (Tstruct _kv noattr))
                                                   Tnil)) tvoid cc_default))
                      ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                       (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil))
                    (Sreturn (Some (Econst_int (Int.repr 1) tint))))
                  Sskip))
              (Ssequence
                (Ssequence
                  (Scall (Some _t'5)
                    (Evar _whunsafe_split_insert (Tfunction
                                                   (Tcons
                                                     (tptr (Tstruct _wormhole noattr))
                                                     (Tcons
                                                       (tptr (Tstruct _wormleaf noattr))
                                                       (Tcons
                                                         (tptr (Tstruct _kv noattr))
                                                         Tnil))) tbool
                                                   cc_default))
                    ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                     (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                     (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil))
                  (Sset _rsi (Ecast (Etempvar _t'5 tbool) tbool)))
                (Ssequence
                  (Sifthenelse (Eunop Onotbool (Etempvar _rsi tbool) tint)
                    (Ssequence
                      (Sset _t'6
                        (Efield
                          (Efield
                            (Ederef
                              (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                              (Tstruct _wormhole noattr)) _mm
                            (Tstruct _kvmap_mm noattr)) _free
                          (tptr (Tfunction
                                  (Tcons (tptr (Tstruct _kv noattr))
                                    (Tcons (tptr tvoid) Tnil)) tvoid
                                  cc_default))))
                      (Ssequence
                        (Sset _t'7
                          (Efield
                            (Efield
                              (Ederef
                                (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                (Tstruct _wormhole noattr)) _mm
                              (Tstruct _kvmap_mm noattr)) _priv (tptr tvoid)))
                        (Scall None
                          (Etempvar _t'6 (tptr (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _kv noattr))
                                                   (Tcons (tptr tvoid) Tnil))
                                                 tvoid cc_default)))
                          ((Etempvar _new (tptr (Tstruct _kv noattr))) ::
                           (Etempvar _t'7 (tptr tvoid)) :: nil))))
                    Sskip)
                  (Sreturn (Some (Etempvar _rsi tbool))))))))))))
|}.

Definition f_wormhole_merge := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_kref__1, (tptr (Tstruct _kref noattr))) ::
                (_uf,
                 (tptr (Tfunction
                         (Tcons (tptr (Tstruct _kv noattr))
                           (Tcons (tptr tvoid) Tnil))
                         (tptr (Tstruct _kv noattr)) cc_default))) ::
                (_priv, (tptr tvoid)) :: nil);
  fn_vars := nil;
  fn_temps := ((_map, (tptr (Tstruct _wormhole noattr))) ::
               (_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_im, tuint) ::
               (_kv0, (tptr (Tstruct _kv noattr))) ::
               (_kv__1, (tptr (Tstruct _kv noattr))) ::
               (_new, (tptr (Tstruct _kv noattr))) ::
               (_old, (tptr (Tstruct _kv noattr))) ::
               (_kv__2, (tptr (Tstruct _kv noattr))) ::
               (_new__1, (tptr (Tstruct _kv noattr))) :: (_rsi, tbool) ::
               (_t'10, tbool) :: (_t'9, (tptr (Tstruct _kv noattr))) ::
               (_t'8, (tptr (Tstruct _kv noattr))) ::
               (_t'7, (tptr (Tstruct _kv noattr))) ::
               (_t'6, (tptr (Tstruct _kv noattr))) :: (_t'5, tint) ::
               (_t'4, (tptr (Tstruct _kv noattr))) ::
               (_t'3, (tptr (Tstruct _kv noattr))) :: (_t'2, tuint) ::
               (_t'1, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'19, (tptr tvoid)) ::
               (_t'18,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil))
                        (tptr (Tstruct _kv noattr)) cc_default))) ::
               (_t'17, (tptr tvoid)) ::
               (_t'16,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
               (_t'15, (tptr tvoid)) ::
               (_t'14,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil))
                        (tptr (Tstruct _kv noattr)) cc_default))) ::
               (_t'13, tuint) :: (_t'12, (tptr tvoid)) ::
               (_t'11,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
               nil);
  fn_body :=
(Ssequence
  (Sset _map
    (Efield
      (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
        (Tstruct _wormref noattr)) _map (tptr (Tstruct _wormhole noattr))))
  (Ssequence
    (Ssequence
      (Scall (Some _t'1)
        (Evar _wormhole_jump_leaf_write (Tfunction
                                          (Tcons
                                            (tptr (Tstruct _wormref noattr))
                                            (Tcons
                                              (tptr (Tstruct _kref noattr))
                                              Tnil))
                                          (tptr (Tstruct _wormleaf noattr))
                                          cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
         (Etempvar _kref__1 (tptr (Tstruct _kref noattr))) :: nil))
      (Sset _leaf (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))))
    (Ssequence
      (Ssequence
        (Scall (Some _t'2)
          (Evar _wormleaf_match_hs (Tfunction
                                     (Tcons (tptr (Tstruct _wormleaf noattr))
                                       (Tcons (tptr (Tstruct _kref noattr))
                                         Tnil)) tuint cc_default))
          ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
           (Etempvar _kref__1 (tptr (Tstruct _kref noattr))) :: nil))
        (Sset _im (Etempvar _t'2 tuint)))
      (Ssequence
        (Sifthenelse (Ebinop Olt (Etempvar _im tuint)
                       (Econst_int (Int.repr 128) tuint) tint)
          (Ssequence
            (Ssequence
              (Scall (Some _t'3)
                (Evar _wormleaf_kv_at_ih (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormleaf noattr))
                                             (Tcons tuint Tnil))
                                           (tptr (Tstruct _kv noattr))
                                           cc_default))
                ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                 (Etempvar _im tuint) :: nil))
              (Sset _kv0 (Etempvar _t'3 (tptr (Tstruct _kv noattr)))))
            (Ssequence
              (Ssequence
                (Scall (Some _t'4)
                  (Etempvar _uf (tptr (Tfunction
                                        (Tcons (tptr (Tstruct _kv noattr))
                                          (Tcons (tptr tvoid) Tnil))
                                        (tptr (Tstruct _kv noattr))
                                        cc_default)))
                  ((Etempvar _kv0 (tptr (Tstruct _kv noattr))) ::
                   (Etempvar _priv (tptr tvoid)) :: nil))
                (Sset _kv__1 (Etempvar _t'4 (tptr (Tstruct _kv noattr)))))
              (Ssequence
                (Ssequence
                  (Sifthenelse (Ebinop Oeq
                                 (Etempvar _kv__1 (tptr (Tstruct _kv noattr)))
                                 (Etempvar _kv0 (tptr (Tstruct _kv noattr)))
                                 tint)
                    (Sset _t'5 (Econst_int (Int.repr 1) tint))
                    (Sset _t'5
                      (Ecast
                        (Ebinop Oeq
                          (Etempvar _kv__1 (tptr (Tstruct _kv noattr)))
                          (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))
                          tint) tbool)))
                  (Sifthenelse (Etempvar _t'5 tint)
                    (Ssequence
                      (Scall None
                        (Evar _wormleaf_unlock_write (Tfunction
                                                       (Tcons
                                                         (tptr (Tstruct _wormleaf noattr))
                                                         Tnil) tvoid
                                                       cc_default))
                        ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                         nil))
                      (Sreturn (Some (Econst_int (Int.repr 1) tint))))
                    Sskip))
                (Ssequence
                  (Ssequence
                    (Ssequence
                      (Sset _t'18
                        (Efield
                          (Efield
                            (Ederef
                              (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                              (Tstruct _wormhole noattr)) _mm
                            (Tstruct _kvmap_mm noattr)) _in
                          (tptr (Tfunction
                                  (Tcons (tptr (Tstruct _kv noattr))
                                    (Tcons (tptr tvoid) Tnil))
                                  (tptr (Tstruct _kv noattr)) cc_default))))
                      (Ssequence
                        (Sset _t'19
                          (Efield
                            (Efield
                              (Ederef
                                (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                (Tstruct _wormhole noattr)) _mm
                              (Tstruct _kvmap_mm noattr)) _priv (tptr tvoid)))
                        (Scall (Some _t'6)
                          (Etempvar _t'18 (tptr (Tfunction
                                                  (Tcons
                                                    (tptr (Tstruct _kv noattr))
                                                    (Tcons (tptr tvoid) Tnil))
                                                  (tptr (Tstruct _kv noattr))
                                                  cc_default)))
                          ((Etempvar _kv__1 (tptr (Tstruct _kv noattr))) ::
                           (Etempvar _t'19 (tptr tvoid)) :: nil))))
                    (Sset _new (Etempvar _t'6 (tptr (Tstruct _kv noattr)))))
                  (Ssequence
                    (Sifthenelse (Ebinop Oeq
                                   (Etempvar _new (tptr (Tstruct _kv noattr)))
                                   (Ecast (Econst_int (Int.repr 0) tint)
                                     (tptr tvoid)) tint)
                      (Ssequence
                        (Scall None
                          (Evar _wormleaf_unlock_write (Tfunction
                                                         (Tcons
                                                           (tptr (Tstruct _wormleaf noattr))
                                                           Tnil) tvoid
                                                         cc_default))
                          ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                           nil))
                        (Sreturn (Some (Econst_int (Int.repr 0) tint))))
                      Sskip)
                    (Ssequence
                      (Ssequence
                        (Scall (Some _t'7)
                          (Evar _wormleaf_update (Tfunction
                                                   (Tcons
                                                     (tptr (Tstruct _wormleaf noattr))
                                                     (Tcons tuint
                                                       (Tcons
                                                         (tptr (Tstruct _kv noattr))
                                                         Tnil)))
                                                   (tptr (Tstruct _kv noattr))
                                                   cc_default))
                          ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                           (Etempvar _im tuint) ::
                           (Etempvar _new (tptr (Tstruct _kv noattr))) ::
                           nil))
                        (Sset _old
                          (Etempvar _t'7 (tptr (Tstruct _kv noattr)))))
                      (Ssequence
                        (Scall None
                          (Evar _wormleaf_unlock_write (Tfunction
                                                         (Tcons
                                                           (tptr (Tstruct _wormleaf noattr))
                                                           Tnil) tvoid
                                                         cc_default))
                          ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                           nil))
                        (Ssequence
                          (Ssequence
                            (Sset _t'16
                              (Efield
                                (Efield
                                  (Ederef
                                    (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                    (Tstruct _wormhole noattr)) _mm
                                  (Tstruct _kvmap_mm noattr)) _free
                                (tptr (Tfunction
                                        (Tcons (tptr (Tstruct _kv noattr))
                                          (Tcons (tptr tvoid) Tnil)) tvoid
                                        cc_default))))
                            (Ssequence
                              (Sset _t'17
                                (Efield
                                  (Efield
                                    (Ederef
                                      (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                      (Tstruct _wormhole noattr)) _mm
                                    (Tstruct _kvmap_mm noattr)) _priv
                                  (tptr tvoid)))
                              (Scall None
                                (Etempvar _t'16 (tptr (Tfunction
                                                        (Tcons
                                                          (tptr (Tstruct _kv noattr))
                                                          (Tcons (tptr tvoid)
                                                            Tnil)) tvoid
                                                        cc_default)))
                                ((Etempvar _old (tptr (Tstruct _kv noattr))) ::
                                 (Etempvar _t'17 (tptr tvoid)) :: nil))))
                          (Sreturn (Some (Econst_int (Int.repr 1) tint)))))))))))
          Sskip)
        (Ssequence
          (Ssequence
            (Scall (Some _t'8)
              (Etempvar _uf (tptr (Tfunction
                                    (Tcons (tptr (Tstruct _kv noattr))
                                      (Tcons (tptr tvoid) Tnil))
                                    (tptr (Tstruct _kv noattr)) cc_default)))
              ((Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) ::
               (Etempvar _priv (tptr tvoid)) :: nil))
            (Sset _kv__2 (Etempvar _t'8 (tptr (Tstruct _kv noattr)))))
          (Ssequence
            (Sifthenelse (Ebinop Oeq
                           (Etempvar _kv__2 (tptr (Tstruct _kv noattr)))
                           (Ecast (Econst_int (Int.repr 0) tint)
                             (tptr tvoid)) tint)
              (Ssequence
                (Scall None
                  (Evar _wormleaf_unlock_write (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _wormleaf noattr))
                                                   Tnil) tvoid cc_default))
                  ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
                (Sreturn (Some (Econst_int (Int.repr 1) tint))))
              Sskip)
            (Ssequence
              (Ssequence
                (Ssequence
                  (Sset _t'14
                    (Efield
                      (Efield
                        (Ederef
                          (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                          (Tstruct _wormhole noattr)) _mm
                        (Tstruct _kvmap_mm noattr)) _in
                      (tptr (Tfunction
                              (Tcons (tptr (Tstruct _kv noattr))
                                (Tcons (tptr tvoid) Tnil))
                              (tptr (Tstruct _kv noattr)) cc_default))))
                  (Ssequence
                    (Sset _t'15
                      (Efield
                        (Efield
                          (Ederef
                            (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                            (Tstruct _wormhole noattr)) _mm
                          (Tstruct _kvmap_mm noattr)) _priv (tptr tvoid)))
                    (Scall (Some _t'9)
                      (Etempvar _t'14 (tptr (Tfunction
                                              (Tcons
                                                (tptr (Tstruct _kv noattr))
                                                (Tcons (tptr tvoid) Tnil))
                                              (tptr (Tstruct _kv noattr))
                                              cc_default)))
                      ((Etempvar _kv__2 (tptr (Tstruct _kv noattr))) ::
                       (Etempvar _t'15 (tptr tvoid)) :: nil))))
                (Sset _new__1 (Etempvar _t'9 (tptr (Tstruct _kv noattr)))))
              (Ssequence
                (Sifthenelse (Ebinop Oeq
                               (Etempvar _new__1 (tptr (Tstruct _kv noattr)))
                               (Ecast (Econst_int (Int.repr 0) tint)
                                 (tptr tvoid)) tint)
                  (Ssequence
                    (Scall None
                      (Evar _wormleaf_unlock_write (Tfunction
                                                     (Tcons
                                                       (tptr (Tstruct _wormleaf noattr))
                                                       Tnil) tvoid
                                                     cc_default))
                      ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                       nil))
                    (Sreturn (Some (Econst_int (Int.repr 0) tint))))
                  Sskip)
                (Ssequence
                  (Ssequence
                    (Sset _t'13
                      (Efield
                        (Ederef
                          (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                          (Tstruct _wormleaf noattr)) _nr_keys tuint))
                    (Sifthenelse (Ebinop Olt (Etempvar _t'13 tuint)
                                   (Econst_int (Int.repr 128) tuint) tint)
                      (Ssequence
                        (Scall None
                          (Evar _wormleaf_insert (Tfunction
                                                   (Tcons
                                                     (tptr (Tstruct _wormleaf noattr))
                                                     (Tcons
                                                       (tptr (Tstruct _kv noattr))
                                                       Tnil)) tvoid
                                                   cc_default))
                          ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                           (Etempvar _new__1 (tptr (Tstruct _kv noattr))) ::
                           nil))
                        (Ssequence
                          (Scall None
                            (Evar _wormleaf_unlock_write (Tfunction
                                                           (Tcons
                                                             (tptr (Tstruct _wormleaf noattr))
                                                             Tnil) tvoid
                                                           cc_default))
                            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                             nil))
                          (Sreturn (Some (Econst_int (Int.repr 1) tint)))))
                      Sskip))
                  (Ssequence
                    (Ssequence
                      (Scall (Some _t'10)
                        (Evar _wormhole_split_insert (Tfunction
                                                       (Tcons
                                                         (tptr (Tstruct _wormref noattr))
                                                         (Tcons
                                                           (tptr (Tstruct _wormleaf noattr))
                                                           (Tcons
                                                             (tptr (Tstruct _kv noattr))
                                                             Tnil))) tbool
                                                       cc_default))
                        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
                         (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                         (Etempvar _new__1 (tptr (Tstruct _kv noattr))) ::
                         nil))
                      (Sset _rsi (Ecast (Etempvar _t'10 tbool) tbool)))
                    (Ssequence
                      (Sifthenelse (Eunop Onotbool (Etempvar _rsi tbool)
                                     tint)
                        (Ssequence
                          (Sset _t'11
                            (Efield
                              (Efield
                                (Ederef
                                  (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                  (Tstruct _wormhole noattr)) _mm
                                (Tstruct _kvmap_mm noattr)) _free
                              (tptr (Tfunction
                                      (Tcons (tptr (Tstruct _kv noattr))
                                        (Tcons (tptr tvoid) Tnil)) tvoid
                                      cc_default))))
                          (Ssequence
                            (Sset _t'12
                              (Efield
                                (Efield
                                  (Ederef
                                    (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                    (Tstruct _wormhole noattr)) _mm
                                  (Tstruct _kvmap_mm noattr)) _priv
                                (tptr tvoid)))
                            (Scall None
                              (Etempvar _t'11 (tptr (Tfunction
                                                      (Tcons
                                                        (tptr (Tstruct _kv noattr))
                                                        (Tcons (tptr tvoid)
                                                          Tnil)) tvoid
                                                      cc_default)))
                              ((Etempvar _new__1 (tptr (Tstruct _kv noattr))) ::
                               (Etempvar _t'12 (tptr tvoid)) :: nil))))
                        Sskip)
                      (Sreturn (Some (Etempvar _rsi tbool))))))))))))))
|}.

Definition f_whsafe_merge := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_kref__1, (tptr (Tstruct _kref noattr))) ::
                (_uf,
                 (tptr (Tfunction
                         (Tcons (tptr (Tstruct _kv noattr))
                           (Tcons (tptr tvoid) Tnil))
                         (tptr (Tstruct _kv noattr)) cc_default))) ::
                (_priv, (tptr tvoid)) :: nil);
  fn_vars := nil;
  fn_temps := ((_r, tbool) :: (_t'1, tbool) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _wormhole_resume (Tfunction
                             (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                             tvoid cc_default))
    ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
  (Ssequence
    (Ssequence
      (Scall (Some _t'1)
        (Evar _wormhole_merge (Tfunction
                                (Tcons (tptr (Tstruct _wormref noattr))
                                  (Tcons (tptr (Tstruct _kref noattr))
                                    (Tcons
                                      (tptr (Tfunction
                                              (Tcons
                                                (tptr (Tstruct _kv noattr))
                                                (Tcons (tptr tvoid) Tnil))
                                              (tptr (Tstruct _kv noattr))
                                              cc_default))
                                      (Tcons (tptr tvoid) Tnil)))) tbool
                                cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
         (Etempvar _kref__1 (tptr (Tstruct _kref noattr))) ::
         (Etempvar _uf (tptr (Tfunction
                               (Tcons (tptr (Tstruct _kv noattr))
                                 (Tcons (tptr tvoid) Tnil))
                               (tptr (Tstruct _kv noattr)) cc_default))) ::
         (Etempvar _priv (tptr tvoid)) :: nil))
      (Sset _r (Ecast (Etempvar _t'1 tbool) tbool)))
    (Ssequence
      (Scall None
        (Evar _wormhole_park (Tfunction
                               (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                               tvoid cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
      (Sreturn (Some (Etempvar _r tbool))))))
|}.

Definition f_whunsafe_merge := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_kref__1, (tptr (Tstruct _kref noattr))) ::
                (_uf,
                 (tptr (Tfunction
                         (Tcons (tptr (Tstruct _kv noattr))
                           (Tcons (tptr tvoid) Tnil))
                         (tptr (Tstruct _kv noattr)) cc_default))) ::
                (_priv, (tptr tvoid)) :: nil);
  fn_vars := nil;
  fn_temps := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_im, tuint) ::
               (_kv0, (tptr (Tstruct _kv noattr))) ::
               (_kv__1, (tptr (Tstruct _kv noattr))) ::
               (_new, (tptr (Tstruct _kv noattr))) ::
               (_old, (tptr (Tstruct _kv noattr))) ::
               (_kv__2, (tptr (Tstruct _kv noattr))) ::
               (_new__1, (tptr (Tstruct _kv noattr))) :: (_rsi, tbool) ::
               (_t'10, tbool) :: (_t'9, (tptr (Tstruct _kv noattr))) ::
               (_t'8, (tptr (Tstruct _kv noattr))) ::
               (_t'7, (tptr (Tstruct _kv noattr))) ::
               (_t'6, (tptr (Tstruct _kv noattr))) :: (_t'5, tint) ::
               (_t'4, (tptr (Tstruct _kv noattr))) ::
               (_t'3, (tptr (Tstruct _kv noattr))) :: (_t'2, tuint) ::
               (_t'1, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'20, (tptr (Tstruct _wormhmap noattr))) ::
               (_t'19, (tptr tvoid)) ::
               (_t'18,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil))
                        (tptr (Tstruct _kv noattr)) cc_default))) ::
               (_t'17, (tptr tvoid)) ::
               (_t'16,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
               (_t'15, (tptr tvoid)) ::
               (_t'14,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil))
                        (tptr (Tstruct _kv noattr)) cc_default))) ::
               (_t'13, tuint) :: (_t'12, (tptr tvoid)) ::
               (_t'11,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
               nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'20
        (Efield
          (Efield
            (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
              (Tstruct _wormhole noattr)) 18727075383868559167%positive
            (Tunion __7371 noattr)) _hmap (tptr (Tstruct _wormhmap noattr))))
      (Scall (Some _t'1)
        (Evar _wormhole_jump_leaf (Tfunction
                                    (Tcons (tptr (Tstruct _wormhmap noattr))
                                      (Tcons (tptr (Tstruct _kref noattr))
                                        Tnil))
                                    (tptr (Tstruct _wormleaf noattr))
                                    cc_default))
        ((Etempvar _t'20 (tptr (Tstruct _wormhmap noattr))) ::
         (Etempvar _kref__1 (tptr (Tstruct _kref noattr))) :: nil)))
    (Sset _leaf (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))))
  (Ssequence
    (Ssequence
      (Scall (Some _t'2)
        (Evar _wormleaf_match_hs (Tfunction
                                   (Tcons (tptr (Tstruct _wormleaf noattr))
                                     (Tcons (tptr (Tstruct _kref noattr))
                                       Tnil)) tuint cc_default))
        ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
         (Etempvar _kref__1 (tptr (Tstruct _kref noattr))) :: nil))
      (Sset _im (Etempvar _t'2 tuint)))
    (Ssequence
      (Sifthenelse (Ebinop Olt (Etempvar _im tuint)
                     (Econst_int (Int.repr 128) tuint) tint)
        (Ssequence
          (Ssequence
            (Scall (Some _t'3)
              (Evar _wormleaf_kv_at_ih (Tfunction
                                         (Tcons
                                           (tptr (Tstruct _wormleaf noattr))
                                           (Tcons tuint Tnil))
                                         (tptr (Tstruct _kv noattr))
                                         cc_default))
              ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
               (Etempvar _im tuint) :: nil))
            (Sset _kv0 (Etempvar _t'3 (tptr (Tstruct _kv noattr)))))
          (Ssequence
            (Ssequence
              (Scall (Some _t'4)
                (Etempvar _uf (tptr (Tfunction
                                      (Tcons (tptr (Tstruct _kv noattr))
                                        (Tcons (tptr tvoid) Tnil))
                                      (tptr (Tstruct _kv noattr)) cc_default)))
                ((Etempvar _kv0 (tptr (Tstruct _kv noattr))) ::
                 (Etempvar _priv (tptr tvoid)) :: nil))
              (Sset _kv__1 (Etempvar _t'4 (tptr (Tstruct _kv noattr)))))
            (Ssequence
              (Ssequence
                (Sifthenelse (Ebinop Oeq
                               (Etempvar _kv__1 (tptr (Tstruct _kv noattr)))
                               (Etempvar _kv0 (tptr (Tstruct _kv noattr)))
                               tint)
                  (Sset _t'5 (Econst_int (Int.repr 1) tint))
                  (Sset _t'5
                    (Ecast
                      (Ebinop Oeq
                        (Etempvar _kv__1 (tptr (Tstruct _kv noattr)))
                        (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))
                        tint) tbool)))
                (Sifthenelse (Etempvar _t'5 tint)
                  (Sreturn (Some (Econst_int (Int.repr 1) tint)))
                  Sskip))
              (Ssequence
                (Ssequence
                  (Ssequence
                    (Sset _t'18
                      (Efield
                        (Efield
                          (Ederef
                            (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                            (Tstruct _wormhole noattr)) _mm
                          (Tstruct _kvmap_mm noattr)) _in
                        (tptr (Tfunction
                                (Tcons (tptr (Tstruct _kv noattr))
                                  (Tcons (tptr tvoid) Tnil))
                                (tptr (Tstruct _kv noattr)) cc_default))))
                    (Ssequence
                      (Sset _t'19
                        (Efield
                          (Efield
                            (Ederef
                              (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                              (Tstruct _wormhole noattr)) _mm
                            (Tstruct _kvmap_mm noattr)) _priv (tptr tvoid)))
                      (Scall (Some _t'6)
                        (Etempvar _t'18 (tptr (Tfunction
                                                (Tcons
                                                  (tptr (Tstruct _kv noattr))
                                                  (Tcons (tptr tvoid) Tnil))
                                                (tptr (Tstruct _kv noattr))
                                                cc_default)))
                        ((Etempvar _kv__1 (tptr (Tstruct _kv noattr))) ::
                         (Etempvar _t'19 (tptr tvoid)) :: nil))))
                  (Sset _new (Etempvar _t'6 (tptr (Tstruct _kv noattr)))))
                (Ssequence
                  (Sifthenelse (Ebinop Oeq
                                 (Etempvar _new (tptr (Tstruct _kv noattr)))
                                 (Ecast (Econst_int (Int.repr 0) tint)
                                   (tptr tvoid)) tint)
                    (Sreturn (Some (Econst_int (Int.repr 0) tint)))
                    Sskip)
                  (Ssequence
                    (Ssequence
                      (Scall (Some _t'7)
                        (Evar _wormleaf_update (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _wormleaf noattr))
                                                   (Tcons tuint
                                                     (Tcons
                                                       (tptr (Tstruct _kv noattr))
                                                       Tnil)))
                                                 (tptr (Tstruct _kv noattr))
                                                 cc_default))
                        ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                         (Etempvar _im tuint) ::
                         (Etempvar _new (tptr (Tstruct _kv noattr))) :: nil))
                      (Sset _old (Etempvar _t'7 (tptr (Tstruct _kv noattr)))))
                    (Ssequence
                      (Ssequence
                        (Sset _t'16
                          (Efield
                            (Efield
                              (Ederef
                                (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                (Tstruct _wormhole noattr)) _mm
                              (Tstruct _kvmap_mm noattr)) _free
                            (tptr (Tfunction
                                    (Tcons (tptr (Tstruct _kv noattr))
                                      (Tcons (tptr tvoid) Tnil)) tvoid
                                    cc_default))))
                        (Ssequence
                          (Sset _t'17
                            (Efield
                              (Efield
                                (Ederef
                                  (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                  (Tstruct _wormhole noattr)) _mm
                                (Tstruct _kvmap_mm noattr)) _priv
                              (tptr tvoid)))
                          (Scall None
                            (Etempvar _t'16 (tptr (Tfunction
                                                    (Tcons
                                                      (tptr (Tstruct _kv noattr))
                                                      (Tcons (tptr tvoid)
                                                        Tnil)) tvoid
                                                    cc_default)))
                            ((Etempvar _old (tptr (Tstruct _kv noattr))) ::
                             (Etempvar _t'17 (tptr tvoid)) :: nil))))
                      (Sreturn (Some (Econst_int (Int.repr 1) tint))))))))))
        Sskip)
      (Ssequence
        (Ssequence
          (Scall (Some _t'8)
            (Etempvar _uf (tptr (Tfunction
                                  (Tcons (tptr (Tstruct _kv noattr))
                                    (Tcons (tptr tvoid) Tnil))
                                  (tptr (Tstruct _kv noattr)) cc_default)))
            ((Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) ::
             (Etempvar _priv (tptr tvoid)) :: nil))
          (Sset _kv__2 (Etempvar _t'8 (tptr (Tstruct _kv noattr)))))
        (Ssequence
          (Sifthenelse (Ebinop Oeq
                         (Etempvar _kv__2 (tptr (Tstruct _kv noattr)))
                         (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))
                         tint)
            (Sreturn (Some (Econst_int (Int.repr 1) tint)))
            Sskip)
          (Ssequence
            (Ssequence
              (Ssequence
                (Sset _t'14
                  (Efield
                    (Efield
                      (Ederef
                        (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                        (Tstruct _wormhole noattr)) _mm
                      (Tstruct _kvmap_mm noattr)) _in
                    (tptr (Tfunction
                            (Tcons (tptr (Tstruct _kv noattr))
                              (Tcons (tptr tvoid) Tnil))
                            (tptr (Tstruct _kv noattr)) cc_default))))
                (Ssequence
                  (Sset _t'15
                    (Efield
                      (Efield
                        (Ederef
                          (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                          (Tstruct _wormhole noattr)) _mm
                        (Tstruct _kvmap_mm noattr)) _priv (tptr tvoid)))
                  (Scall (Some _t'9)
                    (Etempvar _t'14 (tptr (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _kv noattr))
                                              (Tcons (tptr tvoid) Tnil))
                                            (tptr (Tstruct _kv noattr))
                                            cc_default)))
                    ((Etempvar _kv__2 (tptr (Tstruct _kv noattr))) ::
                     (Etempvar _t'15 (tptr tvoid)) :: nil))))
              (Sset _new__1 (Etempvar _t'9 (tptr (Tstruct _kv noattr)))))
            (Ssequence
              (Sifthenelse (Ebinop Oeq
                             (Etempvar _new__1 (tptr (Tstruct _kv noattr)))
                             (Ecast (Econst_int (Int.repr 0) tint)
                               (tptr tvoid)) tint)
                (Sreturn (Some (Econst_int (Int.repr 0) tint)))
                Sskip)
              (Ssequence
                (Ssequence
                  (Sset _t'13
                    (Efield
                      (Ederef
                        (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                        (Tstruct _wormleaf noattr)) _nr_keys tuint))
                  (Sifthenelse (Ebinop Olt (Etempvar _t'13 tuint)
                                 (Econst_int (Int.repr 128) tuint) tint)
                    (Ssequence
                      (Scall None
                        (Evar _wormleaf_insert (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _wormleaf noattr))
                                                   (Tcons
                                                     (tptr (Tstruct _kv noattr))
                                                     Tnil)) tvoid cc_default))
                        ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                         (Etempvar _new__1 (tptr (Tstruct _kv noattr))) ::
                         nil))
                      (Sreturn (Some (Econst_int (Int.repr 1) tint))))
                    Sskip))
                (Ssequence
                  (Ssequence
                    (Scall (Some _t'10)
                      (Evar _whunsafe_split_insert (Tfunction
                                                     (Tcons
                                                       (tptr (Tstruct _wormhole noattr))
                                                       (Tcons
                                                         (tptr (Tstruct _wormleaf noattr))
                                                         (Tcons
                                                           (tptr (Tstruct _kv noattr))
                                                           Tnil))) tbool
                                                     cc_default))
                      ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                       (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                       (Etempvar _new__1 (tptr (Tstruct _kv noattr))) :: nil))
                    (Sset _rsi (Ecast (Etempvar _t'10 tbool) tbool)))
                  (Ssequence
                    (Sifthenelse (Eunop Onotbool (Etempvar _rsi tbool) tint)
                      (Ssequence
                        (Sset _t'11
                          (Efield
                            (Efield
                              (Ederef
                                (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                (Tstruct _wormhole noattr)) _mm
                              (Tstruct _kvmap_mm noattr)) _free
                            (tptr (Tfunction
                                    (Tcons (tptr (Tstruct _kv noattr))
                                      (Tcons (tptr tvoid) Tnil)) tvoid
                                    cc_default))))
                        (Ssequence
                          (Sset _t'12
                            (Efield
                              (Efield
                                (Ederef
                                  (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                  (Tstruct _wormhole noattr)) _mm
                                (Tstruct _kvmap_mm noattr)) _priv
                              (tptr tvoid)))
                          (Scall None
                            (Etempvar _t'11 (tptr (Tfunction
                                                    (Tcons
                                                      (tptr (Tstruct _kv noattr))
                                                      (Tcons (tptr tvoid)
                                                        Tnil)) tvoid
                                                    cc_default)))
                            ((Etempvar _new__1 (tptr (Tstruct _kv noattr))) ::
                             (Etempvar _t'12 (tptr tvoid)) :: nil))))
                      Sskip)
                    (Sreturn (Some (Etempvar _rsi tbool)))))))))))))
|}.

Definition f_wormhole_inpr := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) ::
                (_uf,
                 (tptr (Tfunction
                         (Tcons (tptr (Tstruct _kv noattr))
                           (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
                (_priv, (tptr tvoid)) :: nil);
  fn_vars := nil;
  fn_temps := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_im, tuint) ::
               (_t'3, (tptr (Tstruct _kv noattr))) :: (_t'2, tuint) ::
               (_t'1, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhole_jump_leaf_read (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormref noattr))
                                         (Tcons (tptr (Tstruct _kref noattr))
                                           Tnil))
                                       (tptr (Tstruct _wormleaf noattr))
                                       cc_default))
      ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
       (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
    (Sset _leaf (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))))
  (Ssequence
    (Ssequence
      (Scall (Some _t'2)
        (Evar _wormleaf_match_hs (Tfunction
                                   (Tcons (tptr (Tstruct _wormleaf noattr))
                                     (Tcons (tptr (Tstruct _kref noattr))
                                       Tnil)) tuint cc_default))
        ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
         (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
      (Sset _im (Etempvar _t'2 tuint)))
    (Sifthenelse (Ebinop Olt (Etempvar _im tuint)
                   (Econst_int (Int.repr 128) tuint) tint)
      (Ssequence
        (Ssequence
          (Scall (Some _t'3)
            (Evar _wormleaf_kv_at_ih (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormleaf noattr))
                                         (Tcons tuint Tnil))
                                       (tptr (Tstruct _kv noattr))
                                       cc_default))
            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
             (Etempvar _im tuint) :: nil))
          (Scall None
            (Etempvar _uf (tptr (Tfunction
                                  (Tcons (tptr (Tstruct _kv noattr))
                                    (Tcons (tptr tvoid) Tnil)) tvoid
                                  cc_default)))
            ((Etempvar _t'3 (tptr (Tstruct _kv noattr))) ::
             (Etempvar _priv (tptr tvoid)) :: nil)))
        (Ssequence
          (Scall None
            (Evar _wormleaf_unlock_read (Tfunction
                                          (Tcons
                                            (tptr (Tstruct _wormleaf noattr))
                                            Tnil) tvoid cc_default))
            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
          (Sreturn (Some (Econst_int (Int.repr 1) tint)))))
      (Ssequence
        (Scall None
          (Etempvar _uf (tptr (Tfunction
                                (Tcons (tptr (Tstruct _kv noattr))
                                  (Tcons (tptr tvoid) Tnil)) tvoid
                                cc_default)))
          ((Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) ::
           (Etempvar _priv (tptr tvoid)) :: nil))
        (Ssequence
          (Scall None
            (Evar _wormleaf_unlock_read (Tfunction
                                          (Tcons
                                            (tptr (Tstruct _wormleaf noattr))
                                            Tnil) tvoid cc_default))
            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
          (Sreturn (Some (Econst_int (Int.repr 0) tint))))))))
|}.

Definition f_wormhole_inpw := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) ::
                (_uf,
                 (tptr (Tfunction
                         (Tcons (tptr (Tstruct _kv noattr))
                           (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
                (_priv, (tptr tvoid)) :: nil);
  fn_vars := nil;
  fn_temps := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_im, tuint) ::
               (_t'3, (tptr (Tstruct _kv noattr))) :: (_t'2, tuint) ::
               (_t'1, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhole_jump_leaf_write (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormref noattr))
                                          (Tcons
                                            (tptr (Tstruct _kref noattr))
                                            Tnil))
                                        (tptr (Tstruct _wormleaf noattr))
                                        cc_default))
      ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
       (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
    (Sset _leaf (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))))
  (Ssequence
    (Ssequence
      (Scall (Some _t'2)
        (Evar _wormleaf_match_hs (Tfunction
                                   (Tcons (tptr (Tstruct _wormleaf noattr))
                                     (Tcons (tptr (Tstruct _kref noattr))
                                       Tnil)) tuint cc_default))
        ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
         (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
      (Sset _im (Etempvar _t'2 tuint)))
    (Sifthenelse (Ebinop Olt (Etempvar _im tuint)
                   (Econst_int (Int.repr 128) tuint) tint)
      (Ssequence
        (Ssequence
          (Scall (Some _t'3)
            (Evar _wormleaf_kv_at_ih (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormleaf noattr))
                                         (Tcons tuint Tnil))
                                       (tptr (Tstruct _kv noattr))
                                       cc_default))
            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
             (Etempvar _im tuint) :: nil))
          (Scall None
            (Etempvar _uf (tptr (Tfunction
                                  (Tcons (tptr (Tstruct _kv noattr))
                                    (Tcons (tptr tvoid) Tnil)) tvoid
                                  cc_default)))
            ((Etempvar _t'3 (tptr (Tstruct _kv noattr))) ::
             (Etempvar _priv (tptr tvoid)) :: nil)))
        (Ssequence
          (Scall None
            (Evar _wormleaf_unlock_write (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormleaf noattr))
                                             Tnil) tvoid cc_default))
            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
          (Sreturn (Some (Econst_int (Int.repr 1) tint)))))
      (Ssequence
        (Scall None
          (Etempvar _uf (tptr (Tfunction
                                (Tcons (tptr (Tstruct _kv noattr))
                                  (Tcons (tptr tvoid) Tnil)) tvoid
                                cc_default)))
          ((Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) ::
           (Etempvar _priv (tptr tvoid)) :: nil))
        (Ssequence
          (Scall None
            (Evar _wormleaf_unlock_write (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormleaf noattr))
                                             Tnil) tvoid cc_default))
            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
          (Sreturn (Some (Econst_int (Int.repr 0) tint))))))))
|}.

Definition f_whsafe_inpr := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) ::
                (_uf,
                 (tptr (Tfunction
                         (Tcons (tptr (Tstruct _kv noattr))
                           (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
                (_priv, (tptr tvoid)) :: nil);
  fn_vars := nil;
  fn_temps := ((_r, tbool) :: (_t'1, tbool) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _wormhole_resume (Tfunction
                             (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                             tvoid cc_default))
    ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
  (Ssequence
    (Ssequence
      (Scall (Some _t'1)
        (Evar _wormhole_inpr (Tfunction
                               (Tcons (tptr (Tstruct _wormref noattr))
                                 (Tcons (tptr (Tstruct _kref noattr))
                                   (Tcons
                                     (tptr (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _kv noattr))
                                               (Tcons (tptr tvoid) Tnil))
                                             tvoid cc_default))
                                     (Tcons (tptr tvoid) Tnil)))) tbool
                               cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
         (Etempvar _key (tptr (Tstruct _kref noattr))) ::
         (Etempvar _uf (tptr (Tfunction
                               (Tcons (tptr (Tstruct _kv noattr))
                                 (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
         (Etempvar _priv (tptr tvoid)) :: nil))
      (Sset _r (Ecast (Etempvar _t'1 tbool) tbool)))
    (Ssequence
      (Scall None
        (Evar _wormhole_park (Tfunction
                               (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                               tvoid cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
      (Sreturn (Some (Etempvar _r tbool))))))
|}.

Definition f_whsafe_inpw := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) ::
                (_uf,
                 (tptr (Tfunction
                         (Tcons (tptr (Tstruct _kv noattr))
                           (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
                (_priv, (tptr tvoid)) :: nil);
  fn_vars := nil;
  fn_temps := ((_r, tbool) :: (_t'1, tbool) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _wormhole_resume (Tfunction
                             (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                             tvoid cc_default))
    ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
  (Ssequence
    (Ssequence
      (Scall (Some _t'1)
        (Evar _wormhole_inpw (Tfunction
                               (Tcons (tptr (Tstruct _wormref noattr))
                                 (Tcons (tptr (Tstruct _kref noattr))
                                   (Tcons
                                     (tptr (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _kv noattr))
                                               (Tcons (tptr tvoid) Tnil))
                                             tvoid cc_default))
                                     (Tcons (tptr tvoid) Tnil)))) tbool
                               cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
         (Etempvar _key (tptr (Tstruct _kref noattr))) ::
         (Etempvar _uf (tptr (Tfunction
                               (Tcons (tptr (Tstruct _kv noattr))
                                 (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
         (Etempvar _priv (tptr tvoid)) :: nil))
      (Sset _r (Ecast (Etempvar _t'1 tbool) tbool)))
    (Ssequence
      (Scall None
        (Evar _wormhole_park (Tfunction
                               (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                               tvoid cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
      (Sreturn (Some (Etempvar _r tbool))))))
|}.

Definition f_whunsafe_inp := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) ::
                (_uf,
                 (tptr (Tfunction
                         (Tcons (tptr (Tstruct _kv noattr))
                           (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
                (_priv, (tptr tvoid)) :: nil);
  fn_vars := nil;
  fn_temps := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_im, tuint) ::
               (_t'3, (tptr (Tstruct _kv noattr))) :: (_t'2, tuint) ::
               (_t'1, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'4, (tptr (Tstruct _wormhmap noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'4
        (Efield
          (Efield
            (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
              (Tstruct _wormhole noattr)) 18727075383868559167%positive
            (Tunion __7371 noattr)) _hmap (tptr (Tstruct _wormhmap noattr))))
      (Scall (Some _t'1)
        (Evar _wormhole_jump_leaf (Tfunction
                                    (Tcons (tptr (Tstruct _wormhmap noattr))
                                      (Tcons (tptr (Tstruct _kref noattr))
                                        Tnil))
                                    (tptr (Tstruct _wormleaf noattr))
                                    cc_default))
        ((Etempvar _t'4 (tptr (Tstruct _wormhmap noattr))) ::
         (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil)))
    (Sset _leaf (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))))
  (Ssequence
    (Ssequence
      (Scall (Some _t'2)
        (Evar _wormleaf_match_hs (Tfunction
                                   (Tcons (tptr (Tstruct _wormleaf noattr))
                                     (Tcons (tptr (Tstruct _kref noattr))
                                       Tnil)) tuint cc_default))
        ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
         (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
      (Sset _im (Etempvar _t'2 tuint)))
    (Sifthenelse (Ebinop Olt (Etempvar _im tuint)
                   (Econst_int (Int.repr 128) tuint) tint)
      (Ssequence
        (Ssequence
          (Scall (Some _t'3)
            (Evar _wormleaf_kv_at_ih (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormleaf noattr))
                                         (Tcons tuint Tnil))
                                       (tptr (Tstruct _kv noattr))
                                       cc_default))
            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
             (Etempvar _im tuint) :: nil))
          (Scall None
            (Etempvar _uf (tptr (Tfunction
                                  (Tcons (tptr (Tstruct _kv noattr))
                                    (Tcons (tptr tvoid) Tnil)) tvoid
                                  cc_default)))
            ((Etempvar _t'3 (tptr (Tstruct _kv noattr))) ::
             (Etempvar _priv (tptr tvoid)) :: nil)))
        (Sreturn (Some (Econst_int (Int.repr 1) tint))))
      (Ssequence
        (Scall None
          (Etempvar _uf (tptr (Tfunction
                                (Tcons (tptr (Tstruct _kv noattr))
                                  (Tcons (tptr tvoid) Tnil)) tvoid
                                cc_default)))
          ((Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) ::
           (Etempvar _priv (tptr tvoid)) :: nil))
        (Sreturn (Some (Econst_int (Int.repr 0) tint)))))))
|}.

Definition f_wormhole_del_try_merge := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_leaf, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_next, (tptr (Tstruct _wormleaf noattr))) :: (_t'1, tint) ::
               (_t'4, tuint) :: (_t'3, tuint) :: (_t'2, tuint) :: nil);
  fn_body :=
(Ssequence
  (Sset _next
    (Efield
      (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
        (Tstruct _wormleaf noattr)) _next (tptr (Tstruct _wormleaf noattr))))
  (Ssequence
    (Sifthenelse (Etempvar _next (tptr (Tstruct _wormleaf noattr)))
      (Ssequence
        (Sset _t'2
          (Efield
            (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
              (Tstruct _wormleaf noattr)) _nr_keys tuint))
        (Sifthenelse (Ebinop Oeq (Etempvar _t'2 tuint)
                       (Econst_int (Int.repr 0) tint) tint)
          (Sset _t'1 (Ecast (Econst_int (Int.repr 1) tint) tbool))
          (Ssequence
            (Ssequence
              (Sset _t'3
                (Efield
                  (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                    (Tstruct _wormleaf noattr)) _nr_keys tuint))
              (Ssequence
                (Sset _t'4
                  (Efield
                    (Ederef
                      (Etempvar _next (tptr (Tstruct _wormleaf noattr)))
                      (Tstruct _wormleaf noattr)) _nr_keys tuint))
                (Sset _t'1
                  (Ecast
                    (Ebinop Olt
                      (Ebinop Oadd (Etempvar _t'3 tuint)
                        (Etempvar _t'4 tuint) tuint)
                      (Ebinop Oshr
                        (Ebinop Oadd (Econst_int (Int.repr 128) tuint)
                          (Ebinop Oshr (Econst_int (Int.repr 128) tuint)
                            (Econst_int (Int.repr 1) tint) tuint) tuint)
                        (Econst_int (Int.repr 1) tint) tuint) tint) tbool))))
            (Sset _t'1 (Ecast (Etempvar _t'1 tint) tbool)))))
      (Sset _t'1 (Econst_int (Int.repr 0) tint)))
    (Sifthenelse (Etempvar _t'1 tint)
      (Ssequence
        (Scall None
          (Evar _wormleaf_lock_write (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormleaf noattr))
                                         (Tcons
                                           (tptr (Tstruct _wormref noattr))
                                           Tnil)) tvoid cc_default))
          ((Etempvar _next (tptr (Tstruct _wormleaf noattr))) ::
           (Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
        (Scall None
          (Evar _wormhole_meta_leaf_merge (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormref noattr))
                                              (Tcons
                                                (tptr (Tstruct _wormleaf noattr))
                                                Tnil)) tbool cc_default))
          ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
           (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil)))
      (Scall None
        (Evar _wormleaf_unlock_write (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormleaf noattr))
                                         Tnil) tvoid cc_default))
        ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil)))))
|}.

Definition f_wormhole_del := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_im, tuint) ::
               (_kv__1, (tptr (Tstruct _kv noattr))) ::
               (_map, (tptr (Tstruct _wormhole noattr))) ::
               (_t'3, (tptr (Tstruct _kv noattr))) :: (_t'2, tuint) ::
               (_t'1, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'5, (tptr tvoid)) ::
               (_t'4,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
               nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhole_jump_leaf_write (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormref noattr))
                                          (Tcons
                                            (tptr (Tstruct _kref noattr))
                                            Tnil))
                                        (tptr (Tstruct _wormleaf noattr))
                                        cc_default))
      ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
       (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
    (Sset _leaf (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))))
  (Ssequence
    (Ssequence
      (Scall (Some _t'2)
        (Evar _wormleaf_match_hs (Tfunction
                                   (Tcons (tptr (Tstruct _wormleaf noattr))
                                     (Tcons (tptr (Tstruct _kref noattr))
                                       Tnil)) tuint cc_default))
        ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
         (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
      (Sset _im (Etempvar _t'2 tuint)))
    (Sifthenelse (Ebinop Olt (Etempvar _im tuint)
                   (Econst_int (Int.repr 128) tuint) tint)
      (Ssequence
        (Ssequence
          (Scall (Some _t'3)
            (Evar _wormleaf_remove_ih (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormleaf noattr))
                                          (Tcons tuint Tnil))
                                        (tptr (Tstruct _kv noattr))
                                        cc_default))
            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
             (Etempvar _im tuint) :: nil))
          (Sset _kv__1 (Etempvar _t'3 (tptr (Tstruct _kv noattr)))))
        (Ssequence
          (Scall None
            (Evar _wormhole_del_try_merge (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormref noattr))
                                              (Tcons
                                                (tptr (Tstruct _wormleaf noattr))
                                                Tnil)) tvoid cc_default))
            ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
             (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
          (Ssequence
            (Scall None
              (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid
                                    cc_default))
              ((Etempvar _kv__1 (tptr (Tstruct _kv noattr))) :: nil))
            (Ssequence
              (Sset _map
                (Efield
                  (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
                    (Tstruct _wormref noattr)) _map
                  (tptr (Tstruct _wormhole noattr))))
              (Ssequence
                (Ssequence
                  (Sset _t'4
                    (Efield
                      (Efield
                        (Ederef
                          (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                          (Tstruct _wormhole noattr)) _mm
                        (Tstruct _kvmap_mm noattr)) _free
                      (tptr (Tfunction
                              (Tcons (tptr (Tstruct _kv noattr))
                                (Tcons (tptr tvoid) Tnil)) tvoid cc_default))))
                  (Ssequence
                    (Sset _t'5
                      (Efield
                        (Efield
                          (Ederef
                            (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                            (Tstruct _wormhole noattr)) _mm
                          (Tstruct _kvmap_mm noattr)) _priv (tptr tvoid)))
                    (Scall None
                      (Etempvar _t'4 (tptr (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _kv noattr))
                                               (Tcons (tptr tvoid) Tnil))
                                             tvoid cc_default)))
                      ((Etempvar _kv__1 (tptr (Tstruct _kv noattr))) ::
                       (Etempvar _t'5 (tptr tvoid)) :: nil))))
                (Sreturn (Some (Econst_int (Int.repr 1) tint))))))))
      (Ssequence
        (Scall None
          (Evar _wormleaf_unlock_write (Tfunction
                                         (Tcons
                                           (tptr (Tstruct _wormleaf noattr))
                                           Tnil) tvoid cc_default))
          ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
        (Sreturn (Some (Econst_int (Int.repr 0) tint)))))))
|}.

Definition f_whsafe_del := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_r, tbool) :: (_t'1, tbool) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _wormhole_resume (Tfunction
                             (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                             tvoid cc_default))
    ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
  (Ssequence
    (Ssequence
      (Scall (Some _t'1)
        (Evar _wormhole_del (Tfunction
                              (Tcons (tptr (Tstruct _wormref noattr))
                                (Tcons (tptr (Tstruct _kref noattr)) Tnil))
                              tbool cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
         (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
      (Sset _r (Ecast (Etempvar _t'1 tbool) tbool)))
    (Ssequence
      (Scall None
        (Evar _wormhole_park (Tfunction
                               (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                               tvoid cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
      (Sreturn (Some (Etempvar _r tbool))))))
|}.

Definition f_whunsafe_del_try_merge := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_leaf, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_n0, tuint) :: (_n1, tuint) :: (_n2, tuint) ::
               (_t'6, tint) :: (_t'5, tint) :: (_t'4, tint) ::
               (_t'3, tint) :: (_t'2, tuint) :: (_t'1, tuint) ::
               (_t'16, tuint) ::
               (_t'15, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'14, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'13, tuint) ::
               (_t'12, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'11, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'10, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'9, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'8, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'7, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'14
        (Efield
          (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _prev
          (tptr (Tstruct _wormleaf noattr))))
      (Sifthenelse (Etempvar _t'14 (tptr (Tstruct _wormleaf noattr)))
        (Ssequence
          (Sset _t'15
            (Efield
              (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                (Tstruct _wormleaf noattr)) _prev
              (tptr (Tstruct _wormleaf noattr))))
          (Ssequence
            (Sset _t'16
              (Efield
                (Ederef (Etempvar _t'15 (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _nr_keys tuint))
            (Sset _t'1 (Ecast (Etempvar _t'16 tuint) tuint))))
        (Sset _t'1 (Ecast (Econst_int (Int.repr 128) tuint) tuint))))
    (Sset _n0 (Etempvar _t'1 tuint)))
  (Ssequence
    (Sset _n1
      (Efield
        (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _nr_keys tuint))
    (Ssequence
      (Ssequence
        (Ssequence
          (Sset _t'11
            (Efield
              (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                (Tstruct _wormleaf noattr)) _next
              (tptr (Tstruct _wormleaf noattr))))
          (Sifthenelse (Etempvar _t'11 (tptr (Tstruct _wormleaf noattr)))
            (Ssequence
              (Sset _t'12
                (Efield
                  (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                    (Tstruct _wormleaf noattr)) _next
                  (tptr (Tstruct _wormleaf noattr))))
              (Ssequence
                (Sset _t'13
                  (Efield
                    (Ederef
                      (Etempvar _t'12 (tptr (Tstruct _wormleaf noattr)))
                      (Tstruct _wormleaf noattr)) _nr_keys tuint))
                (Sset _t'2 (Ecast (Etempvar _t'13 tuint) tuint))))
            (Sset _t'2 (Ecast (Econst_int (Int.repr 128) tuint) tuint))))
        (Sset _n2 (Etempvar _t'2 tuint)))
      (Ssequence
        (Ssequence
          (Ssequence
            (Sset _t'10
              (Efield
                (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _prev
                (tptr (Tstruct _wormleaf noattr))))
            (Sifthenelse (Etempvar _t'10 (tptr (Tstruct _wormleaf noattr)))
              (Sset _t'5
                (Ecast
                  (Ebinop Oeq (Etempvar _n1 tuint)
                    (Econst_int (Int.repr 0) tint) tint) tbool))
              (Sset _t'5 (Econst_int (Int.repr 0) tint))))
          (Sifthenelse (Etempvar _t'5 tint)
            (Sset _t'6 (Econst_int (Int.repr 1) tint))
            (Sset _t'6
              (Ecast
                (Ebinop Olt
                  (Ebinop Oadd (Etempvar _n0 tuint) (Etempvar _n1 tuint)
                    tuint)
                  (Ebinop Oshr
                    (Ebinop Oadd (Econst_int (Int.repr 128) tuint)
                      (Ebinop Oshr (Econst_int (Int.repr 128) tuint)
                        (Econst_int (Int.repr 1) tint) tuint) tuint)
                    (Econst_int (Int.repr 1) tint) tuint) tint) tbool))))
        (Sifthenelse (Etempvar _t'6 tint)
          (Ssequence
            (Sset _t'9
              (Efield
                (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _prev
                (tptr (Tstruct _wormleaf noattr))))
            (Scall None
              (Evar _whunsafe_meta_leaf_merge (Tfunction
                                                (Tcons
                                                  (tptr (Tstruct _wormhole noattr))
                                                  (Tcons
                                                    (tptr (Tstruct _wormleaf noattr))
                                                    (Tcons
                                                      (tptr (Tstruct _wormleaf noattr))
                                                      Tnil))) tvoid
                                                cc_default))
              ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
               (Etempvar _t'9 (tptr (Tstruct _wormleaf noattr))) ::
               (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil)))
          (Ssequence
            (Ssequence
              (Ssequence
                (Sset _t'8
                  (Efield
                    (Ederef
                      (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                      (Tstruct _wormleaf noattr)) _next
                    (tptr (Tstruct _wormleaf noattr))))
                (Sifthenelse (Etempvar _t'8 (tptr (Tstruct _wormleaf noattr)))
                  (Sset _t'3
                    (Ecast
                      (Ebinop Oeq (Etempvar _n1 tuint)
                        (Econst_int (Int.repr 0) tint) tint) tbool))
                  (Sset _t'3 (Econst_int (Int.repr 0) tint))))
              (Sifthenelse (Etempvar _t'3 tint)
                (Sset _t'4 (Econst_int (Int.repr 1) tint))
                (Sset _t'4
                  (Ecast
                    (Ebinop Olt
                      (Ebinop Oadd (Etempvar _n1 tuint) (Etempvar _n2 tuint)
                        tuint)
                      (Ebinop Oshr
                        (Ebinop Oadd (Econst_int (Int.repr 128) tuint)
                          (Ebinop Oshr (Econst_int (Int.repr 128) tuint)
                            (Econst_int (Int.repr 1) tint) tuint) tuint)
                        (Econst_int (Int.repr 1) tint) tuint) tint) tbool))))
            (Sifthenelse (Etempvar _t'4 tint)
              (Ssequence
                (Sset _t'7
                  (Efield
                    (Ederef
                      (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                      (Tstruct _wormleaf noattr)) _next
                    (tptr (Tstruct _wormleaf noattr))))
                (Scall None
                  (Evar _whunsafe_meta_leaf_merge (Tfunction
                                                    (Tcons
                                                      (tptr (Tstruct _wormhole noattr))
                                                      (Tcons
                                                        (tptr (Tstruct _wormleaf noattr))
                                                        (Tcons
                                                          (tptr (Tstruct _wormleaf noattr))
                                                          Tnil))) tvoid
                                                    cc_default))
                  ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                   (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                   (Etempvar _t'7 (tptr (Tstruct _wormleaf noattr))) :: nil)))
              Sskip)))))))
|}.

Definition f_whunsafe_del := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_im, tuint) ::
               (_kv__1, (tptr (Tstruct _kv noattr))) ::
               (_t'3, (tptr (Tstruct _kv noattr))) :: (_t'2, tuint) ::
               (_t'1, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'6, (tptr (Tstruct _wormhmap noattr))) ::
               (_t'5, (tptr tvoid)) ::
               (_t'4,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
               nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'6
        (Efield
          (Efield
            (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
              (Tstruct _wormhole noattr)) 18727075383868559167%positive
            (Tunion __7371 noattr)) _hmap (tptr (Tstruct _wormhmap noattr))))
      (Scall (Some _t'1)
        (Evar _wormhole_jump_leaf (Tfunction
                                    (Tcons (tptr (Tstruct _wormhmap noattr))
                                      (Tcons (tptr (Tstruct _kref noattr))
                                        Tnil))
                                    (tptr (Tstruct _wormleaf noattr))
                                    cc_default))
        ((Etempvar _t'6 (tptr (Tstruct _wormhmap noattr))) ::
         (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil)))
    (Sset _leaf (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))))
  (Ssequence
    (Ssequence
      (Scall (Some _t'2)
        (Evar _wormleaf_match_hs (Tfunction
                                   (Tcons (tptr (Tstruct _wormleaf noattr))
                                     (Tcons (tptr (Tstruct _kref noattr))
                                       Tnil)) tuint cc_default))
        ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
         (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
      (Sset _im (Etempvar _t'2 tuint)))
    (Ssequence
      (Sifthenelse (Ebinop Olt (Etempvar _im tuint)
                     (Econst_int (Int.repr 128) tuint) tint)
        (Ssequence
          (Ssequence
            (Scall (Some _t'3)
              (Evar _wormleaf_remove_ih (Tfunction
                                          (Tcons
                                            (tptr (Tstruct _wormleaf noattr))
                                            (Tcons tuint Tnil))
                                          (tptr (Tstruct _kv noattr))
                                          cc_default))
              ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
               (Etempvar _im tuint) :: nil))
            (Sset _kv__1 (Etempvar _t'3 (tptr (Tstruct _kv noattr)))))
          (Ssequence
            (Scall None
              (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid
                                    cc_default))
              ((Etempvar _kv__1 (tptr (Tstruct _kv noattr))) :: nil))
            (Ssequence
              (Scall None
                (Evar _whunsafe_del_try_merge (Tfunction
                                                (Tcons
                                                  (tptr (Tstruct _wormhole noattr))
                                                  (Tcons
                                                    (tptr (Tstruct _wormleaf noattr))
                                                    Tnil)) tvoid cc_default))
                ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                 (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
              (Ssequence
                (Ssequence
                  (Sset _t'4
                    (Efield
                      (Efield
                        (Ederef
                          (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                          (Tstruct _wormhole noattr)) _mm
                        (Tstruct _kvmap_mm noattr)) _free
                      (tptr (Tfunction
                              (Tcons (tptr (Tstruct _kv noattr))
                                (Tcons (tptr tvoid) Tnil)) tvoid cc_default))))
                  (Ssequence
                    (Sset _t'5
                      (Efield
                        (Efield
                          (Ederef
                            (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                            (Tstruct _wormhole noattr)) _mm
                          (Tstruct _kvmap_mm noattr)) _priv (tptr tvoid)))
                    (Scall None
                      (Etempvar _t'4 (tptr (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _kv noattr))
                                               (Tcons (tptr tvoid) Tnil))
                                             tvoid cc_default)))
                      ((Etempvar _kv__1 (tptr (Tstruct _kv noattr))) ::
                       (Etempvar _t'5 (tptr tvoid)) :: nil))))
                (Sreturn (Some (Econst_int (Int.repr 1) tint)))))))
        Sskip)
      (Sreturn (Some (Econst_int (Int.repr 0) tint))))))
|}.

Definition f_wormhole_delr := {|
  fn_return := tulong;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_start, (tptr (Tstruct _kref noattr))) ::
                (_end, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_leafa, (tptr (Tstruct _wormleaf noattr))) :: (_ia, tuint) ::
               (_iaz, tuint) :: (_ndel, tulong) ::
               (_map, (tptr (Tstruct _wormhole noattr))) ::
               (_leafx, (tptr (Tstruct _wormleaf noattr))) :: (_iz, tuint) ::
               (_t'6, tuint) :: (_t'5, tuint) :: (_t'4, tuint) ::
               (_t'3, tuint) :: (_t'2, tuint) ::
               (_t'1, (tptr (Tstruct _wormleaf noattr))) :: (_t'11, tuint) ::
               (_t'10, tuint) :: (_t'9, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'8, tuint) :: (_t'7, tuint) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhole_jump_leaf_write (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormref noattr))
                                          (Tcons
                                            (tptr (Tstruct _kref noattr))
                                            Tnil))
                                        (tptr (Tstruct _wormleaf noattr))
                                        cc_default))
      ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
       (Etempvar _start (tptr (Tstruct _kref noattr))) :: nil))
    (Sset _leafa (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))))
  (Ssequence
    (Scall None
      (Evar _wormleaf_sync_sorted (Tfunction
                                    (Tcons (tptr (Tstruct _wormleaf noattr))
                                      Tnil) tvoid cc_default))
      ((Etempvar _leafa (tptr (Tstruct _wormleaf noattr))) :: nil))
    (Ssequence
      (Ssequence
        (Scall (Some _t'2)
          (Evar _wormleaf_seek (Tfunction
                                 (Tcons (tptr (Tstruct _wormleaf noattr))
                                   (Tcons (tptr (Tstruct _kref noattr)) Tnil))
                                 tuint cc_default))
          ((Etempvar _leafa (tptr (Tstruct _wormleaf noattr))) ::
           (Etempvar _start (tptr (Tstruct _kref noattr))) :: nil))
        (Sset _ia (Etempvar _t'2 tuint)))
      (Ssequence
        (Ssequence
          (Sifthenelse (Etempvar _end (tptr (Tstruct _kref noattr)))
            (Ssequence
              (Scall (Some _t'4)
                (Evar _wormleaf_seek_end (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormleaf noattr))
                                             (Tcons
                                               (tptr (Tstruct _kref noattr))
                                               Tnil)) tuint cc_default))
                ((Etempvar _leafa (tptr (Tstruct _wormleaf noattr))) ::
                 (Etempvar _end (tptr (Tstruct _kref noattr))) :: nil))
              (Sset _t'3 (Ecast (Etempvar _t'4 tuint) tuint)))
            (Ssequence
              (Sset _t'11
                (Efield
                  (Ederef (Etempvar _leafa (tptr (Tstruct _wormleaf noattr)))
                    (Tstruct _wormleaf noattr)) _nr_keys tuint))
              (Sset _t'3 (Ecast (Etempvar _t'11 tuint) tuint))))
          (Sset _iaz (Etempvar _t'3 tuint)))
        (Ssequence
          (Sifthenelse (Ebinop Olt (Etempvar _iaz tuint) (Etempvar _ia tuint)
                         tint)
            (Ssequence
              (Scall None
                (Evar _wormleaf_unlock_write (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _wormleaf noattr))
                                                 Tnil) tvoid cc_default))
                ((Etempvar _leafa (tptr (Tstruct _wormleaf noattr))) :: nil))
              (Sreturn (Some (Econst_int (Int.repr 0) tint))))
            Sskip)
          (Ssequence
            (Sset _ndel
              (Ecast
                (Ebinop Osub (Etempvar _iaz tuint) (Etempvar _ia tuint)
                  tuint) tulong))
            (Ssequence
              (Sset _map
                (Efield
                  (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
                    (Tstruct _wormref noattr)) _map
                  (tptr (Tstruct _wormhole noattr))))
              (Ssequence
                (Scall None
                  (Evar _wormleaf_delete_range (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _wormhole noattr))
                                                   (Tcons
                                                     (tptr (Tstruct _wormleaf noattr))
                                                     (Tcons tuint
                                                       (Tcons tuint Tnil))))
                                                 tvoid cc_default))
                  ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                   (Etempvar _leafa (tptr (Tstruct _wormleaf noattr))) ::
                   (Etempvar _ia tuint) :: (Etempvar _iaz tuint) :: nil))
                (Ssequence
                  (Ssequence
                    (Sset _t'10
                      (Efield
                        (Ederef
                          (Etempvar _leafa (tptr (Tstruct _wormleaf noattr)))
                          (Tstruct _wormleaf noattr)) _nr_keys tuint))
                    (Sifthenelse (Ebinop Ogt (Etempvar _t'10 tuint)
                                   (Etempvar _ia tuint) tint)
                      (Ssequence
                        (Scall None
                          (Evar _wormhole_del_try_merge (Tfunction
                                                          (Tcons
                                                            (tptr (Tstruct _wormref noattr))
                                                            (Tcons
                                                              (tptr (Tstruct _wormleaf noattr))
                                                              Tnil)) tvoid
                                                          cc_default))
                          ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
                           (Etempvar _leafa (tptr (Tstruct _wormleaf noattr))) ::
                           nil))
                        (Sreturn (Some (Etempvar _ndel tulong))))
                      Sskip))
                  (Ssequence
                    (Sloop
                      (Ssequence
                        (Ssequence
                          (Sset _t'9
                            (Efield
                              (Ederef
                                (Etempvar _leafa (tptr (Tstruct _wormleaf noattr)))
                                (Tstruct _wormleaf noattr)) _next
                              (tptr (Tstruct _wormleaf noattr))))
                          (Sifthenelse (Etempvar _t'9 (tptr (Tstruct _wormleaf noattr)))
                            Sskip
                            Sbreak))
                        (Ssequence
                          (Sset _leafx
                            (Efield
                              (Ederef
                                (Etempvar _leafa (tptr (Tstruct _wormleaf noattr)))
                                (Tstruct _wormleaf noattr)) _next
                              (tptr (Tstruct _wormleaf noattr))))
                          (Ssequence
                            (Scall None
                              (Evar _wormleaf_lock_write (Tfunction
                                                           (Tcons
                                                             (tptr (Tstruct _wormleaf noattr))
                                                             (Tcons
                                                               (tptr (Tstruct _wormref noattr))
                                                               Tnil)) tvoid
                                                           cc_default))
                              ((Etempvar _leafx (tptr (Tstruct _wormleaf noattr))) ::
                               (Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
                               nil))
                            (Ssequence
                              (Scall None
                                (Evar _wormleaf_sync_sorted (Tfunction
                                                              (Tcons
                                                                (tptr (Tstruct _wormleaf noattr))
                                                                Tnil) tvoid
                                                              cc_default))
                                ((Etempvar _leafx (tptr (Tstruct _wormleaf noattr))) ::
                                 nil))
                              (Ssequence
                                (Ssequence
                                  (Sifthenelse (Etempvar _end (tptr (Tstruct _kref noattr)))
                                    (Ssequence
                                      (Scall (Some _t'6)
                                        (Evar _wormleaf_seek_end (Tfunction
                                                                   (Tcons
                                                                    (tptr (Tstruct _wormleaf noattr))
                                                                    (Tcons
                                                                    (tptr (Tstruct _kref noattr))
                                                                    Tnil))
                                                                   tuint
                                                                   cc_default))
                                        ((Etempvar _leafx (tptr (Tstruct _wormleaf noattr))) ::
                                         (Etempvar _end (tptr (Tstruct _kref noattr))) ::
                                         nil))
                                      (Sset _t'5
                                        (Ecast (Etempvar _t'6 tuint) tuint)))
                                    (Ssequence
                                      (Sset _t'8
                                        (Efield
                                          (Ederef
                                            (Etempvar _leafx (tptr (Tstruct _wormleaf noattr)))
                                            (Tstruct _wormleaf noattr))
                                          _nr_keys tuint))
                                      (Sset _t'5
                                        (Ecast (Etempvar _t'8 tuint) tuint))))
                                  (Sset _iz (Etempvar _t'5 tuint)))
                                (Ssequence
                                  (Sset _ndel
                                    (Ebinop Oadd (Etempvar _ndel tulong)
                                      (Etempvar _iz tuint) tulong))
                                  (Ssequence
                                    (Scall None
                                      (Evar _wormleaf_delete_range (Tfunction
                                                                    (Tcons
                                                                    (tptr (Tstruct _wormhole noattr))
                                                                    (Tcons
                                                                    (tptr (Tstruct _wormleaf noattr))
                                                                    (Tcons
                                                                    tuint
                                                                    (Tcons
                                                                    tuint
                                                                    Tnil))))
                                                                    tvoid
                                                                    cc_default))
                                      ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                                       (Etempvar _leafx (tptr (Tstruct _wormleaf noattr))) ::
                                       (Econst_int (Int.repr 0) tint) ::
                                       (Etempvar _iz tuint) :: nil))
                                    (Ssequence
                                      (Sset _t'7
                                        (Efield
                                          (Ederef
                                            (Etempvar _leafx (tptr (Tstruct _wormleaf noattr)))
                                            (Tstruct _wormleaf noattr))
                                          _nr_keys tuint))
                                      (Sifthenelse (Ebinop Oeq
                                                     (Etempvar _t'7 tuint)
                                                     (Econst_int (Int.repr 0) tint)
                                                     tint)
                                        (Scall None
                                          (Evar _wormhole_meta_merge 
                                          (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormref noattr))
                                              (Tcons
                                                (tptr (Tstruct _wormleaf noattr))
                                                (Tcons
                                                  (tptr (Tstruct _wormleaf noattr))
                                                  (Tcons tbool Tnil)))) tvoid
                                            cc_default))
                                          ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
                                           (Etempvar _leafa (tptr (Tstruct _wormleaf noattr))) ::
                                           (Etempvar _leafx (tptr (Tstruct _wormleaf noattr))) ::
                                           (Econst_int (Int.repr 0) tint) ::
                                           nil))
                                        (Ssequence
                                          (Scall None
                                            (Evar _wormhole_meta_leaf_merge 
                                            (Tfunction
                                              (Tcons
                                                (tptr (Tstruct _wormref noattr))
                                                (Tcons
                                                  (tptr (Tstruct _wormleaf noattr))
                                                  Tnil)) tbool cc_default))
                                            ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
                                             (Etempvar _leafa (tptr (Tstruct _wormleaf noattr))) ::
                                             nil))
                                          (Sreturn (Some (Etempvar _ndel tulong)))))))))))))
                      Sskip)
                    (Ssequence
                      (Scall None
                        (Evar _wormleaf_unlock_write (Tfunction
                                                       (Tcons
                                                         (tptr (Tstruct _wormleaf noattr))
                                                         Tnil) tvoid
                                                       cc_default))
                        ((Etempvar _leafa (tptr (Tstruct _wormleaf noattr))) ::
                         nil))
                      (Sreturn (Some (Etempvar _ndel tulong))))))))))))))
|}.

Definition f_whsafe_delr := {|
  fn_return := tulong;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_start, (tptr (Tstruct _kref noattr))) ::
                (_end, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_ret, tulong) :: (_t'1, tulong) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _wormhole_resume (Tfunction
                             (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                             tvoid cc_default))
    ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
  (Ssequence
    (Ssequence
      (Scall (Some _t'1)
        (Evar _wormhole_delr (Tfunction
                               (Tcons (tptr (Tstruct _wormref noattr))
                                 (Tcons (tptr (Tstruct _kref noattr))
                                   (Tcons (tptr (Tstruct _kref noattr)) Tnil)))
                               tulong cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
         (Etempvar _start (tptr (Tstruct _kref noattr))) ::
         (Etempvar _end (tptr (Tstruct _kref noattr))) :: nil))
      (Sset _ret (Etempvar _t'1 tulong)))
    (Ssequence
      (Scall None
        (Evar _wormhole_park (Tfunction
                               (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                               tvoid cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
      (Sreturn (Some (Etempvar _ret tulong))))))
|}.

Definition f_whunsafe_delr := {|
  fn_return := tulong;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_start, (tptr (Tstruct _kref noattr))) ::
                (_end, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_hmap, (tptr (Tstruct _wormhmap noattr))) ::
               (_leafa, (tptr (Tstruct _wormleaf noattr))) ::
               (_leafz, (tptr (Tstruct _wormleaf noattr))) :: (_ia, tuint) ::
               (_iaz, tuint) :: (_ndel, tulong) ::
               (_leafx, (tptr (Tstruct _wormleaf noattr))) :: (_i, tuint) ::
               (_iz, tuint) :: (_t'8, tuint) ::
               (_t'7, (tptr (Tstruct _kv noattr))) :: (_t'6, tuint) ::
               (_t'5, tuint) :: (_t'4, tuint) ::
               (_t'3, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'2, (tptr tvoid)) ::
               (_t'1, (tptr (Tstruct _wormleaf noattr))) :: (_t'14, tuint) ::
               (_t'13, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'12, tuint) :: (_t'11, tuint) :: (_t'10, (tptr tvoid)) ::
               (_t'9,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
               nil);
  fn_body :=
(Ssequence
  (Sset _hmap
    (Efield
      (Efield
        (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
          (Tstruct _wormhole noattr)) 18727075383868559167%positive
        (Tunion __7371 noattr)) _hmap (tptr (Tstruct _wormhmap noattr))))
  (Ssequence
    (Ssequence
      (Scall (Some _t'1)
        (Evar _wormhole_jump_leaf (Tfunction
                                    (Tcons (tptr (Tstruct _wormhmap noattr))
                                      (Tcons (tptr (Tstruct _kref noattr))
                                        Tnil))
                                    (tptr (Tstruct _wormleaf noattr))
                                    cc_default))
        ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
         (Etempvar _start (tptr (Tstruct _kref noattr))) :: nil))
      (Sset _leafa (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))))
    (Ssequence
      (Scall None
        (Evar _wormleaf_sync_sorted (Tfunction
                                      (Tcons
                                        (tptr (Tstruct _wormleaf noattr))
                                        Tnil) tvoid cc_default))
        ((Etempvar _leafa (tptr (Tstruct _wormleaf noattr))) :: nil))
      (Ssequence
        (Ssequence
          (Sifthenelse (Etempvar _end (tptr (Tstruct _kref noattr)))
            (Ssequence
              (Scall (Some _t'3)
                (Evar _wormhole_jump_leaf (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _wormhmap noattr))
                                              (Tcons
                                                (tptr (Tstruct _kref noattr))
                                                Tnil))
                                            (tptr (Tstruct _wormleaf noattr))
                                            cc_default))
                ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) ::
                 (Etempvar _end (tptr (Tstruct _kref noattr))) :: nil))
              (Sset _t'2
                (Ecast (Etempvar _t'3 (tptr (Tstruct _wormleaf noattr)))
                  (tptr tvoid))))
            (Sset _t'2
              (Ecast (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))
                (tptr tvoid))))
          (Sset _leafz (Etempvar _t'2 (tptr tvoid))))
        (Ssequence
          (Ssequence
            (Scall (Some _t'4)
              (Evar _wormleaf_seek (Tfunction
                                     (Tcons (tptr (Tstruct _wormleaf noattr))
                                       (Tcons (tptr (Tstruct _kref noattr))
                                         Tnil)) tuint cc_default))
              ((Etempvar _leafa (tptr (Tstruct _wormleaf noattr))) ::
               (Etempvar _start (tptr (Tstruct _kref noattr))) :: nil))
            (Sset _ia (Etempvar _t'4 tuint)))
          (Ssequence
            (Ssequence
              (Sifthenelse (Etempvar _end (tptr (Tstruct _kref noattr)))
                (Ssequence
                  (Scall (Some _t'6)
                    (Evar _wormleaf_seek_end (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _wormleaf noattr))
                                                 (Tcons
                                                   (tptr (Tstruct _kref noattr))
                                                   Tnil)) tuint cc_default))
                    ((Etempvar _leafa (tptr (Tstruct _wormleaf noattr))) ::
                     (Etempvar _end (tptr (Tstruct _kref noattr))) :: nil))
                  (Sset _t'5 (Ecast (Etempvar _t'6 tuint) tuint)))
                (Ssequence
                  (Sset _t'14
                    (Efield
                      (Ederef
                        (Etempvar _leafa (tptr (Tstruct _wormleaf noattr)))
                        (Tstruct _wormleaf noattr)) _nr_keys tuint))
                  (Sset _t'5 (Ecast (Etempvar _t'14 tuint) tuint))))
              (Sset _iaz (Etempvar _t'5 tuint)))
            (Ssequence
              (Sifthenelse (Ebinop Olt (Etempvar _iaz tuint)
                             (Etempvar _ia tuint) tint)
                (Sreturn (Some (Econst_int (Int.repr 0) tint)))
                Sskip)
              (Ssequence
                (Scall None
                  (Evar _wormleaf_delete_range (Tfunction
                                                 (Tcons
                                                   (tptr (Tstruct _wormhole noattr))
                                                   (Tcons
                                                     (tptr (Tstruct _wormleaf noattr))
                                                     (Tcons tuint
                                                       (Tcons tuint Tnil))))
                                                 tvoid cc_default))
                  ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                   (Etempvar _leafa (tptr (Tstruct _wormleaf noattr))) ::
                   (Etempvar _ia tuint) :: (Etempvar _iaz tuint) :: nil))
                (Ssequence
                  (Sset _ndel
                    (Ecast
                      (Ebinop Osub (Etempvar _iaz tuint) (Etempvar _ia tuint)
                        tuint) tulong))
                  (Ssequence
                    (Sifthenelse (Ebinop Oeq
                                   (Etempvar _leafa (tptr (Tstruct _wormleaf noattr)))
                                   (Etempvar _leafz (tptr (Tstruct _wormleaf noattr)))
                                   tint)
                      (Ssequence
                        (Scall None
                          (Evar _whunsafe_del_try_merge (Tfunction
                                                          (Tcons
                                                            (tptr (Tstruct _wormhole noattr))
                                                            (Tcons
                                                              (tptr (Tstruct _wormleaf noattr))
                                                              Tnil)) tvoid
                                                          cc_default))
                          ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                           (Etempvar _leafa (tptr (Tstruct _wormleaf noattr))) ::
                           nil))
                        (Sreturn (Some (Etempvar _ndel tulong))))
                      Sskip)
                    (Ssequence
                      (Sloop
                        (Ssequence
                          (Ssequence
                            (Sset _t'13
                              (Efield
                                (Ederef
                                  (Etempvar _leafa (tptr (Tstruct _wormleaf noattr)))
                                  (Tstruct _wormleaf noattr)) _next
                                (tptr (Tstruct _wormleaf noattr))))
                            (Sifthenelse (Ebinop One
                                           (Etempvar _t'13 (tptr (Tstruct _wormleaf noattr)))
                                           (Etempvar _leafz (tptr (Tstruct _wormleaf noattr)))
                                           tint)
                              Sskip
                              Sbreak))
                          (Ssequence
                            (Sset _leafx
                              (Efield
                                (Ederef
                                  (Etempvar _leafa (tptr (Tstruct _wormleaf noattr)))
                                  (Tstruct _wormleaf noattr)) _next
                                (tptr (Tstruct _wormleaf noattr))))
                            (Ssequence
                              (Ssequence
                                (Sset _t'12
                                  (Efield
                                    (Ederef
                                      (Etempvar _leafx (tptr (Tstruct _wormleaf noattr)))
                                      (Tstruct _wormleaf noattr)) _nr_keys
                                    tuint))
                                (Sset _ndel
                                  (Ebinop Oadd (Etempvar _ndel tulong)
                                    (Etempvar _t'12 tuint) tulong)))
                              (Ssequence
                                (Ssequence
                                  (Sset _i (Econst_int (Int.repr 0) tint))
                                  (Sloop
                                    (Ssequence
                                      (Ssequence
                                        (Sset _t'11
                                          (Efield
                                            (Ederef
                                              (Etempvar _leafx (tptr (Tstruct _wormleaf noattr)))
                                              (Tstruct _wormleaf noattr))
                                            _nr_keys tuint))
                                        (Sifthenelse (Ebinop Olt
                                                       (Etempvar _i tuint)
                                                       (Etempvar _t'11 tuint)
                                                       tint)
                                          Sskip
                                          Sbreak))
                                      (Ssequence
                                        (Scall (Some _t'7)
                                          (Evar _wormleaf_kv_at_is (Tfunction
                                                                    (Tcons
                                                                    (tptr (Tstruct _wormleaf noattr))
                                                                    (Tcons
                                                                    tuint
                                                                    Tnil))
                                                                    (tptr (Tstruct _kv noattr))
                                                                    cc_default))
                                          ((Etempvar _leafx (tptr (Tstruct _wormleaf noattr))) ::
                                           (Etempvar _i tuint) :: nil))
                                        (Ssequence
                                          (Sset _t'9
                                            (Efield
                                              (Efield
                                                (Ederef
                                                  (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                                  (Tstruct _wormhole noattr))
                                                _mm
                                                (Tstruct _kvmap_mm noattr))
                                              _free
                                              (tptr (Tfunction
                                                      (Tcons
                                                        (tptr (Tstruct _kv noattr))
                                                        (Tcons (tptr tvoid)
                                                          Tnil)) tvoid
                                                      cc_default))))
                                          (Ssequence
                                            (Sset _t'10
                                              (Efield
                                                (Efield
                                                  (Ederef
                                                    (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                                    (Tstruct _wormhole noattr))
                                                  _mm
                                                  (Tstruct _kvmap_mm noattr))
                                                _priv (tptr tvoid)))
                                            (Scall None
                                              (Etempvar _t'9 (tptr (Tfunction
                                                                    (Tcons
                                                                    (tptr (Tstruct _kv noattr))
                                                                    (Tcons
                                                                    (tptr tvoid)
                                                                    Tnil))
                                                                    tvoid
                                                                    cc_default)))
                                              ((Etempvar _t'7 (tptr (Tstruct _kv noattr))) ::
                                               (Etempvar _t'10 (tptr tvoid)) ::
                                               nil))))))
                                    (Sset _i
                                      (Ebinop Oadd (Etempvar _i tuint)
                                        (Econst_int (Int.repr 1) tint) tuint))))
                                (Ssequence
                                  (Sassign
                                    (Efield
                                      (Ederef
                                        (Etempvar _leafx (tptr (Tstruct _wormleaf noattr)))
                                        (Tstruct _wormleaf noattr)) _nr_keys
                                      tuint) (Econst_int (Int.repr 0) tint))
                                  (Ssequence
                                    (Sassign
                                      (Efield
                                        (Ederef
                                          (Etempvar _leafx (tptr (Tstruct _wormleaf noattr)))
                                          (Tstruct _wormleaf noattr))
                                        _nr_sorted tuint)
                                      (Econst_int (Int.repr 0) tint))
                                    (Scall None
                                      (Evar _whunsafe_meta_leaf_merge 
                                      (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormhole noattr))
                                          (Tcons
                                            (tptr (Tstruct _wormleaf noattr))
                                            (Tcons
                                              (tptr (Tstruct _wormleaf noattr))
                                              Tnil))) tvoid cc_default))
                                      ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                                       (Etempvar _leafa (tptr (Tstruct _wormleaf noattr))) ::
                                       (Etempvar _leafx (tptr (Tstruct _wormleaf noattr))) ::
                                       nil))))))))
                        Sskip)
                      (Ssequence
                        (Sifthenelse (Etempvar _leafz (tptr (Tstruct _wormleaf noattr)))
                          (Ssequence
                            (Scall None
                              (Evar _wormleaf_sync_sorted (Tfunction
                                                            (Tcons
                                                              (tptr (Tstruct _wormleaf noattr))
                                                              Tnil) tvoid
                                                            cc_default))
                              ((Etempvar _leafz (tptr (Tstruct _wormleaf noattr))) ::
                               nil))
                            (Ssequence
                              (Ssequence
                                (Scall (Some _t'8)
                                  (Evar _wormleaf_seek_end (Tfunction
                                                             (Tcons
                                                               (tptr (Tstruct _wormleaf noattr))
                                                               (Tcons
                                                                 (tptr (Tstruct _kref noattr))
                                                                 Tnil)) tuint
                                                             cc_default))
                                  ((Etempvar _leafz (tptr (Tstruct _wormleaf noattr))) ::
                                   (Etempvar _end (tptr (Tstruct _kref noattr))) ::
                                   nil))
                                (Sset _iz (Etempvar _t'8 tuint)))
                              (Ssequence
                                (Scall None
                                  (Evar _wormleaf_delete_range (Tfunction
                                                                 (Tcons
                                                                   (tptr (Tstruct _wormhole noattr))
                                                                   (Tcons
                                                                    (tptr (Tstruct _wormleaf noattr))
                                                                    (Tcons
                                                                    tuint
                                                                    (Tcons
                                                                    tuint
                                                                    Tnil))))
                                                                 tvoid
                                                                 cc_default))
                                  ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                                   (Etempvar _leafz (tptr (Tstruct _wormleaf noattr))) ::
                                   (Econst_int (Int.repr 0) tint) ::
                                   (Etempvar _iz tuint) :: nil))
                                (Ssequence
                                  (Sset _ndel
                                    (Ebinop Oadd (Etempvar _ndel tulong)
                                      (Etempvar _iz tuint) tulong))
                                  (Scall None
                                    (Evar _whunsafe_del_try_merge (Tfunction
                                                                    (Tcons
                                                                    (tptr (Tstruct _wormhole noattr))
                                                                    (Tcons
                                                                    (tptr (Tstruct _wormleaf noattr))
                                                                    Tnil))
                                                                    tvoid
                                                                    cc_default))
                                    ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
                                     (Etempvar _leafa (tptr (Tstruct _wormleaf noattr))) ::
                                     nil))))))
                          Sskip)
                        (Sreturn (Some (Etempvar _ndel tulong)))))))))))))))
|}.

Definition f_wormhole_iter_leaf_sync_sorted := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'2, tuint) :: (_t'1, tuint) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1
    (Efield
      (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
        (Tstruct _wormleaf noattr)) _nr_keys tuint))
  (Ssequence
    (Sset _t'2
      (Efield
        (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
          (Tstruct _wormleaf noattr)) _nr_sorted tuint))
    (Sifthenelse (Ebinop One (Etempvar _t'1 tuint) (Etempvar _t'2 tuint)
                   tint)
      (Ssequence
        (Scall None
          (Evar _spinlock_lock (Tfunction
                                 (Tcons (tptr (Tunion __6323 noattr)) Tnil)
                                 tvoid cc_default))
          ((Eaddrof
             (Efield
               (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                 (Tstruct _wormleaf noattr)) _sortlock
               (Tunion __6323 noattr)) (tptr (Tunion __6323 noattr))) :: nil))
        (Ssequence
          (Scall None
            (Evar _wormleaf_sync_sorted (Tfunction
                                          (Tcons
                                            (tptr (Tstruct _wormleaf noattr))
                                            Tnil) tvoid cc_default))
            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
          (Scall None
            (Evar _spinlock_unlock (Tfunction
                                     (Tcons (tptr (Tunion __6323 noattr))
                                       Tnil) tvoid cc_default))
            ((Eaddrof
               (Efield
                 (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
                   (Tstruct _wormleaf noattr)) _sortlock
                 (Tunion __6323 noattr)) (tptr (Tunion __6323 noattr))) ::
             nil))))
      Sskip)))
|}.

Definition f_wormhole_iter_create := {|
  fn_return := (tptr (Tstruct _wormhole_iter noattr));
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) ::
               (_t'1, (tptr tvoid)) ::
               (_t'2, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _malloc (Tfunction (Tcons tulong Tnil) (tptr tvoid) cc_default))
      ((Esizeof (Tstruct _wormhole_iter noattr) tulong) :: nil))
    (Sset _iter (Etempvar _t'1 (tptr tvoid))))
  (Ssequence
    (Sifthenelse (Ebinop Oeq
                   (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                   (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) tint)
      (Sreturn (Some (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))))
      Sskip)
    (Ssequence
      (Sassign
        (Efield
          (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
            (Tstruct _wormhole_iter noattr)) _ref
          (tptr (Tstruct _wormref noattr)))
        (Etempvar _ref (tptr (Tstruct _wormref noattr))))
      (Ssequence
        (Ssequence
          (Sset _t'2
            (Efield
              (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
                (Tstruct _wormref noattr)) _map
              (tptr (Tstruct _wormhole noattr))))
          (Sassign
            (Efield
              (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                (Tstruct _wormhole_iter noattr)) _map
              (tptr (Tstruct _wormhole noattr)))
            (Etempvar _t'2 (tptr (Tstruct _wormhole noattr)))))
        (Ssequence
          (Sassign
            (Efield
              (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                (Tstruct _wormhole_iter noattr)) _leaf
              (tptr (Tstruct _wormleaf noattr)))
            (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)))
          (Ssequence
            (Sassign
              (Efield
                (Ederef
                  (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                  (Tstruct _wormhole_iter noattr)) _is tuint)
              (Econst_int (Int.repr 0) tint))
            (Sreturn (Some (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))))))))))
|}.

Definition f_wormhole_iter_fix := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_next, (tptr (Tstruct _wormleaf noattr))) ::
               (_ref, (tptr (Tstruct _wormref noattr))) :: (_t'2, tbool) ::
               (_t'1, tbool) :: (_t'8, tuint) ::
               (_t'7, (tptr (Tstruct _wormleaf noattr))) :: (_t'6, tuint) ::
               (_t'5, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'4, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'3, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhole_iter_valid (Tfunction
                                   (Tcons
                                     (tptr (Tstruct _wormhole_iter noattr))
                                     Tnil) tbool cc_default))
      ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil))
    (Sifthenelse (Eunop Onotbool (Etempvar _t'1 tbool) tint)
      (Sreturn None)
      Sskip))
  (Sloop
    (Ssequence
      (Ssequence
        (Sset _t'6
          (Efield
            (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
              (Tstruct _wormhole_iter noattr)) _is tuint))
        (Ssequence
          (Sset _t'7
            (Efield
              (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                (Tstruct _wormhole_iter noattr)) _leaf
              (tptr (Tstruct _wormleaf noattr))))
          (Ssequence
            (Sset _t'8
              (Efield
                (Ederef (Etempvar _t'7 (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _nr_sorted tuint))
            (Sifthenelse (Ebinop Oge (Etempvar _t'6 tuint)
                           (Etempvar _t'8 tuint) tint)
              Sskip
              Sbreak))))
      (Ssequence
        (Ssequence
          (Sset _t'5
            (Efield
              (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                (Tstruct _wormhole_iter noattr)) _leaf
              (tptr (Tstruct _wormleaf noattr))))
          (Sset _next
            (Efield
              (Ederef (Etempvar _t'5 (tptr (Tstruct _wormleaf noattr)))
                (Tstruct _wormleaf noattr)) _next
              (tptr (Tstruct _wormleaf noattr)))))
        (Ssequence
          (Sifthenelse (Ebinop One
                         (Etempvar _next (tptr (Tstruct _wormleaf noattr)))
                         (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))
                         tint)
            (Ssequence
              (Sset _ref
                (Efield
                  (Ederef
                    (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                    (Tstruct _wormhole_iter noattr)) _ref
                  (tptr (Tstruct _wormref noattr))))
              (Ssequence
                (Scall None
                  (Evar _wormleaf_lock_read (Tfunction
                                              (Tcons
                                                (tptr (Tstruct _wormleaf noattr))
                                                (Tcons
                                                  (tptr (Tstruct _wormref noattr))
                                                  Tnil)) tvoid cc_default))
                  ((Etempvar _next (tptr (Tstruct _wormleaf noattr))) ::
                   (Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
                (Ssequence
                  (Ssequence
                    (Sset _t'4
                      (Efield
                        (Ederef
                          (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                          (Tstruct _wormhole_iter noattr)) _leaf
                        (tptr (Tstruct _wormleaf noattr))))
                    (Scall None
                      (Evar _wormleaf_unlock_read (Tfunction
                                                    (Tcons
                                                      (tptr (Tstruct _wormleaf noattr))
                                                      Tnil) tvoid cc_default))
                      ((Etempvar _t'4 (tptr (Tstruct _wormleaf noattr))) ::
                       nil)))
                  (Scall None
                    (Evar _wormhole_iter_leaf_sync_sorted (Tfunction
                                                            (Tcons
                                                              (tptr (Tstruct _wormleaf noattr))
                                                              Tnil) tvoid
                                                            cc_default))
                    ((Etempvar _next (tptr (Tstruct _wormleaf noattr))) ::
                     nil)))))
            (Ssequence
              (Sset _t'3
                (Efield
                  (Ederef
                    (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                    (Tstruct _wormhole_iter noattr)) _leaf
                  (tptr (Tstruct _wormleaf noattr))))
              (Scall None
                (Evar _wormleaf_unlock_read (Tfunction
                                              (Tcons
                                                (tptr (Tstruct _wormleaf noattr))
                                                Tnil) tvoid cc_default))
                ((Etempvar _t'3 (tptr (Tstruct _wormleaf noattr))) :: nil))))
          (Ssequence
            (Sassign
              (Efield
                (Ederef
                  (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                  (Tstruct _wormhole_iter noattr)) _leaf
                (tptr (Tstruct _wormleaf noattr)))
              (Etempvar _next (tptr (Tstruct _wormleaf noattr))))
            (Ssequence
              (Sassign
                (Efield
                  (Ederef
                    (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                    (Tstruct _wormhole_iter noattr)) _is tuint)
                (Econst_int (Int.repr 0) tint))
              (Ssequence
                (Scall (Some _t'2)
                  (Evar _wormhole_iter_valid (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _wormhole_iter noattr))
                                                 Tnil) tbool cc_default))
                  ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) ::
                   nil))
                (Sifthenelse (Eunop Onotbool (Etempvar _t'2 tbool) tint)
                  (Sreturn None)
                  Sskip)))))))
    Sskip))
|}.

Definition f_wormhole_iter_seek := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_t'2, tuint) ::
               (_t'1, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'5, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'4, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'3, (tptr (Tstruct _wormref noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid cc_default))
    ((Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
  (Ssequence
    (Ssequence
      (Sset _t'4
        (Efield
          (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
            (Tstruct _wormhole_iter noattr)) _leaf
          (tptr (Tstruct _wormleaf noattr))))
      (Sifthenelse (Etempvar _t'4 (tptr (Tstruct _wormleaf noattr)))
        (Ssequence
          (Sset _t'5
            (Efield
              (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                (Tstruct _wormhole_iter noattr)) _leaf
              (tptr (Tstruct _wormleaf noattr))))
          (Scall None
            (Evar _wormleaf_unlock_read (Tfunction
                                          (Tcons
                                            (tptr (Tstruct _wormleaf noattr))
                                            Tnil) tvoid cc_default))
            ((Etempvar _t'5 (tptr (Tstruct _wormleaf noattr))) :: nil)))
        Sskip))
    (Ssequence
      (Ssequence
        (Ssequence
          (Sset _t'3
            (Efield
              (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                (Tstruct _wormhole_iter noattr)) _ref
              (tptr (Tstruct _wormref noattr))))
          (Scall (Some _t'1)
            (Evar _wormhole_jump_leaf_read (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _wormref noattr))
                                               (Tcons
                                                 (tptr (Tstruct _kref noattr))
                                                 Tnil))
                                             (tptr (Tstruct _wormleaf noattr))
                                             cc_default))
            ((Etempvar _t'3 (tptr (Tstruct _wormref noattr))) ::
             (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil)))
        (Sset _leaf (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))))
      (Ssequence
        (Scall None
          (Evar _wormhole_iter_leaf_sync_sorted (Tfunction
                                                  (Tcons
                                                    (tptr (Tstruct _wormleaf noattr))
                                                    Tnil) tvoid cc_default))
          ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
        (Ssequence
          (Sassign
            (Efield
              (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                (Tstruct _wormhole_iter noattr)) _leaf
              (tptr (Tstruct _wormleaf noattr)))
            (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))))
          (Ssequence
            (Ssequence
              (Scall (Some _t'2)
                (Evar _wormleaf_seek (Tfunction
                                       (Tcons
                                         (tptr (Tstruct _wormleaf noattr))
                                         (Tcons (tptr (Tstruct _kref noattr))
                                           Tnil)) tuint cc_default))
                ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                 (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
              (Sassign
                (Efield
                  (Ederef
                    (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                    (Tstruct _wormhole_iter noattr)) _is tuint)
                (Etempvar _t'2 tuint)))
            (Scall None
              (Evar _wormhole_iter_fix (Tfunction
                                         (Tcons
                                           (tptr (Tstruct _wormhole_iter noattr))
                                           Tnil) tvoid cc_default))
              ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) ::
               nil))))))))
|}.

Definition f_whsafe_iter_seek := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr (Tstruct _wormref noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'1
      (Efield
        (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
          (Tstruct _wormhole_iter noattr)) _ref
        (tptr (Tstruct _wormref noattr))))
    (Scall None
      (Evar _wormhole_resume (Tfunction
                               (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                               tvoid cc_default))
      ((Etempvar _t'1 (tptr (Tstruct _wormref noattr))) :: nil)))
  (Scall None
    (Evar _wormhole_iter_seek (Tfunction
                                (Tcons (tptr (Tstruct _wormhole_iter noattr))
                                  (Tcons (tptr (Tstruct _kref noattr)) Tnil))
                                tvoid cc_default))
    ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) ::
     (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil)))
|}.

Definition f_wormhole_iter_valid := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1
    (Efield
      (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
        (Tstruct _wormhole_iter noattr)) _leaf
      (tptr (Tstruct _wormleaf noattr))))
  (Sreturn (Some (Ebinop One
                   (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))
                   (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) tint))))
|}.

Definition f_wormhole_iter_current := {|
  fn_return := (tptr (Tstruct _kv noattr));
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_kv__1, (tptr (Tstruct _kv noattr))) :: (_t'2, tbool) ::
               (_t'1, (tptr (Tstruct _kv noattr))) :: (_t'7, tuint) ::
               (_t'6, (tptr (Tstruct _wormleaf noattr))) :: (_t'5, tuint) ::
               (_t'4, tuint) :: (_t'3, (tptr (Tstruct _wormleaf noattr))) ::
               nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'2)
      (Evar _wormhole_iter_valid (Tfunction
                                   (Tcons
                                     (tptr (Tstruct _wormhole_iter noattr))
                                     Tnil) tbool cc_default))
      ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil))
    (Sifthenelse (Etempvar _t'2 tbool)
      (Ssequence
        (Ssequence
          (Sset _t'5
            (Efield
              (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                (Tstruct _wormhole_iter noattr)) _is tuint))
          (Ssequence
            (Sset _t'6
              (Efield
                (Ederef
                  (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                  (Tstruct _wormhole_iter noattr)) _leaf
                (tptr (Tstruct _wormleaf noattr))))
            (Ssequence
              (Sset _t'7
                (Efield
                  (Ederef (Etempvar _t'6 (tptr (Tstruct _wormleaf noattr)))
                    (Tstruct _wormleaf noattr)) _nr_sorted tuint))
              (Scall None
                (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid
                                      cc_default))
                ((Ebinop Olt (Etempvar _t'5 tuint) (Etempvar _t'7 tuint)
                   tint) :: nil)))))
        (Ssequence
          (Ssequence
            (Ssequence
              (Sset _t'3
                (Efield
                  (Ederef
                    (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                    (Tstruct _wormhole_iter noattr)) _leaf
                  (tptr (Tstruct _wormleaf noattr))))
              (Ssequence
                (Sset _t'4
                  (Efield
                    (Ederef
                      (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                      (Tstruct _wormhole_iter noattr)) _is tuint))
                (Scall (Some _t'1)
                  (Evar _wormleaf_kv_at_is (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _wormleaf noattr))
                                               (Tcons tuint Tnil))
                                             (tptr (Tstruct _kv noattr))
                                             cc_default))
                  ((Etempvar _t'3 (tptr (Tstruct _wormleaf noattr))) ::
                   (Etempvar _t'4 tuint) :: nil))))
            (Sset _kv__1 (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
          (Sreturn (Some (Etempvar _kv__1 (tptr (Tstruct _kv noattr)))))))
      Sskip))
  (Sreturn (Some (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)))))
|}.

Definition f_wormhole_iter_peek := {|
  fn_return := (tptr (Tstruct _kv noattr));
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) ::
                (_out, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_kv__1, (tptr (Tstruct _kv noattr))) ::
               (_ret, (tptr (Tstruct _kv noattr))) ::
               (_t'2, (tptr (Tstruct _kv noattr))) ::
               (_t'1, (tptr (Tstruct _kv noattr))) ::
               (_t'4,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                        (tptr (Tstruct _kv noattr)) cc_default))) ::
               (_t'3, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhole_iter_current (Tfunction
                                     (Tcons
                                       (tptr (Tstruct _wormhole_iter noattr))
                                       Tnil) (tptr (Tstruct _kv noattr))
                                     cc_default))
      ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil))
    (Sset _kv__1 (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
  (Ssequence
    (Sifthenelse (Etempvar _kv__1 (tptr (Tstruct _kv noattr)))
      (Ssequence
        (Ssequence
          (Ssequence
            (Sset _t'3
              (Efield
                (Ederef
                  (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                  (Tstruct _wormhole_iter noattr)) _map
                (tptr (Tstruct _wormhole noattr))))
            (Ssequence
              (Sset _t'4
                (Efield
                  (Efield
                    (Ederef (Etempvar _t'3 (tptr (Tstruct _wormhole noattr)))
                      (Tstruct _wormhole noattr)) _mm
                    (Tstruct _kvmap_mm noattr)) _out
                  (tptr (Tfunction
                          (Tcons (tptr (Tstruct _kv noattr))
                            (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                          (tptr (Tstruct _kv noattr)) cc_default))))
              (Scall (Some _t'2)
                (Etempvar _t'4 (tptr (Tfunction
                                       (Tcons (tptr (Tstruct _kv noattr))
                                         (Tcons (tptr (Tstruct _kv noattr))
                                           Tnil)) (tptr (Tstruct _kv noattr))
                                       cc_default)))
                ((Etempvar _kv__1 (tptr (Tstruct _kv noattr))) ::
                 (Etempvar _out (tptr (Tstruct _kv noattr))) :: nil))))
          (Sset _ret (Etempvar _t'2 (tptr (Tstruct _kv noattr)))))
        (Sreturn (Some (Etempvar _ret (tptr (Tstruct _kv noattr))))))
      Sskip)
    (Sreturn (Some (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))))))
|}.

Definition f_wormhole_iter_kref := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) ::
                (_kref__1, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_kv__1, (tptr (Tstruct _kv noattr))) ::
               (_t'1, (tptr (Tstruct _kv noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhole_iter_current (Tfunction
                                     (Tcons
                                       (tptr (Tstruct _wormhole_iter noattr))
                                       Tnil) (tptr (Tstruct _kv noattr))
                                     cc_default))
      ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil))
    (Sset _kv__1 (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
  (Ssequence
    (Sifthenelse (Etempvar _kv__1 (tptr (Tstruct _kv noattr)))
      (Ssequence
        (Scall None
          (Evar _kref_ref_kv (Tfunction
                               (Tcons (tptr (Tstruct _kref noattr))
                                 (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                               tvoid cc_default))
          ((Etempvar _kref__1 (tptr (Tstruct _kref noattr))) ::
           (Etempvar _kv__1 (tptr (Tstruct _kv noattr))) :: nil))
        (Sreturn (Some (Econst_int (Int.repr 1) tint))))
      Sskip)
    (Sreturn (Some (Econst_int (Int.repr 0) tint)))))
|}.

Definition f_wormhole_iter_kvref := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) ::
                (_kvref__1, (tptr (Tstruct _kvref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_kv__1, (tptr (Tstruct _kv noattr))) ::
               (_t'1, (tptr (Tstruct _kv noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhole_iter_current (Tfunction
                                     (Tcons
                                       (tptr (Tstruct _wormhole_iter noattr))
                                       Tnil) (tptr (Tstruct _kv noattr))
                                     cc_default))
      ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil))
    (Sset _kv__1 (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
  (Ssequence
    (Sifthenelse (Etempvar _kv__1 (tptr (Tstruct _kv noattr)))
      (Ssequence
        (Scall None
          (Evar _kvref_ref_kv (Tfunction
                                (Tcons (tptr (Tstruct _kvref noattr))
                                  (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                                tvoid cc_default))
          ((Etempvar _kvref__1 (tptr (Tstruct _kvref noattr))) ::
           (Etempvar _kv__1 (tptr (Tstruct _kv noattr))) :: nil))
        (Sreturn (Some (Econst_int (Int.repr 1) tint))))
      Sskip)
    (Sreturn (Some (Econst_int (Int.repr 0) tint)))))
|}.

Definition f_wormhole_iter_skip1 := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tbool) :: (_t'2, tuint) :: nil);
  fn_body :=
(Ssequence
  (Scall (Some _t'1)
    (Evar _wormhole_iter_valid (Tfunction
                                 (Tcons
                                   (tptr (Tstruct _wormhole_iter noattr))
                                   Tnil) tbool cc_default))
    ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil))
  (Sifthenelse (Etempvar _t'1 tbool)
    (Ssequence
      (Ssequence
        (Sset _t'2
          (Efield
            (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
              (Tstruct _wormhole_iter noattr)) _is tuint))
        (Sassign
          (Efield
            (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
              (Tstruct _wormhole_iter noattr)) _is tuint)
          (Ebinop Oadd (Etempvar _t'2 tuint) (Econst_int (Int.repr 1) tint)
            tuint)))
      (Scall None
        (Evar _wormhole_iter_fix (Tfunction
                                   (Tcons
                                     (tptr (Tstruct _wormhole_iter noattr))
                                     Tnil) tvoid cc_default))
        ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil)))
    Sskip))
|}.

Definition f_wormhole_iter_skip := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) ::
                (_nr, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_todo, tuint) :: (_cap, tuint) :: (_nskip, tuint) ::
               (_t'3, tuint) :: (_t'2, tbool) :: (_t'1, tint) ::
               (_t'7, tuint) :: (_t'6, tuint) ::
               (_t'5, (tptr (Tstruct _wormleaf noattr))) :: (_t'4, tuint) ::
               nil);
  fn_body :=
(Ssequence
  (Sset _todo (Etempvar _nr tuint))
  (Sloop
    (Ssequence
      (Ssequence
        (Sifthenelse (Etempvar _todo tuint)
          (Ssequence
            (Scall (Some _t'2)
              (Evar _wormhole_iter_valid (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormhole_iter noattr))
                                             Tnil) tbool cc_default))
              ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) ::
               nil))
            (Sset _t'1 (Ecast (Etempvar _t'2 tbool) tbool)))
          (Sset _t'1 (Econst_int (Int.repr 0) tint)))
        (Sifthenelse (Etempvar _t'1 tint) Sskip Sbreak))
      (Ssequence
        (Ssequence
          (Sset _t'5
            (Efield
              (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                (Tstruct _wormhole_iter noattr)) _leaf
              (tptr (Tstruct _wormleaf noattr))))
          (Ssequence
            (Sset _t'6
              (Efield
                (Ederef (Etempvar _t'5 (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _nr_sorted tuint))
            (Ssequence
              (Sset _t'7
                (Efield
                  (Ederef
                    (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                    (Tstruct _wormhole_iter noattr)) _is tuint))
              (Sset _cap
                (Ebinop Osub (Etempvar _t'6 tuint) (Etempvar _t'7 tuint)
                  tuint)))))
        (Ssequence
          (Ssequence
            (Sifthenelse (Ebinop Olt (Etempvar _cap tuint)
                           (Etempvar _todo tuint) tint)
              (Sset _t'3 (Ecast (Etempvar _cap tuint) tuint))
              (Sset _t'3 (Ecast (Etempvar _todo tuint) tuint)))
            (Sset _nskip (Etempvar _t'3 tuint)))
          (Ssequence
            (Ssequence
              (Sset _t'4
                (Efield
                  (Ederef
                    (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                    (Tstruct _wormhole_iter noattr)) _is tuint))
              (Sassign
                (Efield
                  (Ederef
                    (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                    (Tstruct _wormhole_iter noattr)) _is tuint)
                (Ebinop Oadd (Etempvar _t'4 tuint) (Etempvar _nskip tuint)
                  tuint)))
            (Ssequence
              (Scall None
                (Evar _wormhole_iter_fix (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormhole_iter noattr))
                                             Tnil) tvoid cc_default))
                ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) ::
                 nil))
              (Sset _todo
                (Ebinop Osub (Etempvar _todo tuint) (Etempvar _nskip tuint)
                  tuint)))))))
    Sskip))
|}.

Definition f_wormhole_iter_next := {|
  fn_return := (tptr (Tstruct _kv noattr));
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) ::
                (_out, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_ret, (tptr (Tstruct _kv noattr))) ::
               (_t'1, (tptr (Tstruct _kv noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhole_iter_peek (Tfunction
                                  (Tcons
                                    (tptr (Tstruct _wormhole_iter noattr))
                                    (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                                  (tptr (Tstruct _kv noattr)) cc_default))
      ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) ::
       (Etempvar _out (tptr (Tstruct _kv noattr))) :: nil))
    (Sset _ret (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
  (Ssequence
    (Scall None
      (Evar _wormhole_iter_skip1 (Tfunction
                                   (Tcons
                                     (tptr (Tstruct _wormhole_iter noattr))
                                     Tnil) tvoid cc_default))
      ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil))
    (Sreturn (Some (Etempvar _ret (tptr (Tstruct _kv noattr)))))))
|}.

Definition f_wormhole_iter_inp := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) ::
                (_uf,
                 (tptr (Tfunction
                         (Tcons (tptr (Tstruct _kv noattr))
                           (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
                (_priv, (tptr tvoid)) :: nil);
  fn_vars := nil;
  fn_temps := ((_kv__1, (tptr (Tstruct _kv noattr))) ::
               (_t'1, (tptr (Tstruct _kv noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhole_iter_current (Tfunction
                                     (Tcons
                                       (tptr (Tstruct _wormhole_iter noattr))
                                       Tnil) (tptr (Tstruct _kv noattr))
                                     cc_default))
      ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil))
    (Sset _kv__1 (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
  (Ssequence
    (Scall None
      (Etempvar _uf (tptr (Tfunction
                            (Tcons (tptr (Tstruct _kv noattr))
                              (Tcons (tptr tvoid) Tnil)) tvoid cc_default)))
      ((Etempvar _kv__1 (tptr (Tstruct _kv noattr))) ::
       (Etempvar _priv (tptr tvoid)) :: nil))
    (Sreturn (Some (Ebinop One (Etempvar _kv__1 (tptr (Tstruct _kv noattr)))
                     (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))
                     tint)))))
|}.

Definition f_wormhole_iter_park := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'2, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'1, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1
    (Efield
      (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
        (Tstruct _wormhole_iter noattr)) _leaf
      (tptr (Tstruct _wormleaf noattr))))
  (Sifthenelse (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))
    (Ssequence
      (Ssequence
        (Sset _t'2
          (Efield
            (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
              (Tstruct _wormhole_iter noattr)) _leaf
            (tptr (Tstruct _wormleaf noattr))))
        (Scall None
          (Evar _wormleaf_unlock_read (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormleaf noattr))
                                          Tnil) tvoid cc_default))
          ((Etempvar _t'2 (tptr (Tstruct _wormleaf noattr))) :: nil)))
      (Sassign
        (Efield
          (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
            (Tstruct _wormhole_iter noattr)) _leaf
          (tptr (Tstruct _wormleaf noattr)))
        (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))))
    Sskip))
|}.

Definition f_whsafe_iter_park := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr (Tstruct _wormref noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _wormhole_iter_park (Tfunction
                                (Tcons (tptr (Tstruct _wormhole_iter noattr))
                                  Tnil) tvoid cc_default))
    ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil))
  (Ssequence
    (Sset _t'1
      (Efield
        (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
          (Tstruct _wormhole_iter noattr)) _ref
        (tptr (Tstruct _wormref noattr))))
    (Scall None
      (Evar _wormhole_park (Tfunction
                             (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                             tvoid cc_default))
      ((Etempvar _t'1 (tptr (Tstruct _wormref noattr))) :: nil))))
|}.

Definition f_wormhole_iter_destroy := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'2, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'1, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'1
      (Efield
        (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
          (Tstruct _wormhole_iter noattr)) _leaf
        (tptr (Tstruct _wormleaf noattr))))
    (Sifthenelse (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))
      (Ssequence
        (Sset _t'2
          (Efield
            (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
              (Tstruct _wormhole_iter noattr)) _leaf
            (tptr (Tstruct _wormleaf noattr))))
        (Scall None
          (Evar _wormleaf_unlock_read (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormleaf noattr))
                                          Tnil) tvoid cc_default))
          ((Etempvar _t'2 (tptr (Tstruct _wormleaf noattr))) :: nil)))
      Sskip))
  (Scall None
    (Evar _free (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))
    ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil)))
|}.

Definition f_whsafe_iter_destroy := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr (Tstruct _wormref noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'1
      (Efield
        (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
          (Tstruct _wormhole_iter noattr)) _ref
        (tptr (Tstruct _wormref noattr))))
    (Scall None
      (Evar _wormhole_park (Tfunction
                             (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                             tvoid cc_default))
      ((Etempvar _t'1 (tptr (Tstruct _wormref noattr))) :: nil)))
  (Scall None
    (Evar _wormhole_iter_destroy (Tfunction
                                   (Tcons
                                     (tptr (Tstruct _wormhole_iter noattr))
                                     Tnil) tvoid cc_default))
    ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil)))
|}.

Definition f_whunsafe_iter_create := {|
  fn_return := (tptr (Tstruct _wormhole_iter noattr));
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) ::
               (_t'2, (tptr (Tstruct _kref noattr))) ::
               (_t'1, (tptr tvoid)) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _malloc (Tfunction (Tcons tulong Tnil) (tptr tvoid) cc_default))
      ((Esizeof (Tstruct _wormhole_iter noattr) tulong) :: nil))
    (Sset _iter (Etempvar _t'1 (tptr tvoid))))
  (Ssequence
    (Sifthenelse (Ebinop Oeq
                   (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                   (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) tint)
      (Sreturn (Some (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))))
      Sskip)
    (Ssequence
      (Sassign
        (Efield
          (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
            (Tstruct _wormhole_iter noattr)) _ref
          (tptr (Tstruct _wormref noattr)))
        (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)))
      (Ssequence
        (Sassign
          (Efield
            (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
              (Tstruct _wormhole_iter noattr)) _map
            (tptr (Tstruct _wormhole noattr)))
          (Etempvar _map (tptr (Tstruct _wormhole noattr))))
        (Ssequence
          (Sassign
            (Efield
              (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                (Tstruct _wormhole_iter noattr)) _leaf
              (tptr (Tstruct _wormleaf noattr)))
            (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)))
          (Ssequence
            (Sassign
              (Efield
                (Ederef
                  (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                  (Tstruct _wormhole_iter noattr)) _is tuint)
              (Econst_int (Int.repr 0) tint))
            (Ssequence
              (Ssequence
                (Scall (Some _t'2)
                  (Evar _kref_null (Tfunction Tnil
                                     (tptr (Tstruct _kref noattr))
                                     cc_default)) nil)
                (Scall None
                  (Evar _whunsafe_iter_seek (Tfunction
                                              (Tcons
                                                (tptr (Tstruct _wormhole_iter noattr))
                                                (Tcons
                                                  (tptr (Tstruct _kref noattr))
                                                  Tnil)) tvoid cc_default))
                  ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) ::
                   (Etempvar _t'2 (tptr (Tstruct _kref noattr))) :: nil)))
              (Sreturn (Some (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))))))))))))
|}.

Definition f_whunsafe_iter_fix := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_next, (tptr (Tstruct _wormleaf noattr))) :: (_t'2, tbool) ::
               (_t'1, tbool) :: (_t'6, tuint) ::
               (_t'5, (tptr (Tstruct _wormleaf noattr))) :: (_t'4, tuint) ::
               (_t'3, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhole_iter_valid (Tfunction
                                   (Tcons
                                     (tptr (Tstruct _wormhole_iter noattr))
                                     Tnil) tbool cc_default))
      ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil))
    (Sifthenelse (Eunop Onotbool (Etempvar _t'1 tbool) tint)
      (Sreturn None)
      Sskip))
  (Sloop
    (Ssequence
      (Ssequence
        (Sset _t'4
          (Efield
            (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
              (Tstruct _wormhole_iter noattr)) _is tuint))
        (Ssequence
          (Sset _t'5
            (Efield
              (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                (Tstruct _wormhole_iter noattr)) _leaf
              (tptr (Tstruct _wormleaf noattr))))
          (Ssequence
            (Sset _t'6
              (Efield
                (Ederef (Etempvar _t'5 (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _nr_sorted tuint))
            (Sifthenelse (Ebinop Oge (Etempvar _t'4 tuint)
                           (Etempvar _t'6 tuint) tint)
              Sskip
              Sbreak))))
      (Ssequence
        (Ssequence
          (Sset _t'3
            (Efield
              (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                (Tstruct _wormhole_iter noattr)) _leaf
              (tptr (Tstruct _wormleaf noattr))))
          (Sset _next
            (Efield
              (Ederef (Etempvar _t'3 (tptr (Tstruct _wormleaf noattr)))
                (Tstruct _wormleaf noattr)) _next
              (tptr (Tstruct _wormleaf noattr)))))
        (Ssequence
          (Sifthenelse (Ebinop One
                         (Etempvar _next (tptr (Tstruct _wormleaf noattr)))
                         (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))
                         tint)
            (Scall None
              (Evar _wormhole_iter_leaf_sync_sorted (Tfunction
                                                      (Tcons
                                                        (tptr (Tstruct _wormleaf noattr))
                                                        Tnil) tvoid
                                                      cc_default))
              ((Etempvar _next (tptr (Tstruct _wormleaf noattr))) :: nil))
            Sskip)
          (Ssequence
            (Sassign
              (Efield
                (Ederef
                  (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                  (Tstruct _wormhole_iter noattr)) _leaf
                (tptr (Tstruct _wormleaf noattr)))
              (Etempvar _next (tptr (Tstruct _wormleaf noattr))))
            (Ssequence
              (Sassign
                (Efield
                  (Ederef
                    (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                    (Tstruct _wormhole_iter noattr)) _is tuint)
                (Econst_int (Int.repr 0) tint))
              (Ssequence
                (Scall (Some _t'2)
                  (Evar _wormhole_iter_valid (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _wormhole_iter noattr))
                                                 Tnil) tbool cc_default))
                  ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) ::
                   nil))
                (Sifthenelse (Eunop Onotbool (Etempvar _t'2 tbool) tint)
                  (Sreturn None)
                  Sskip)))))))
    Sskip))
|}.

Definition f_whunsafe_iter_seek := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) ::
                (_key, (tptr (Tstruct _kref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_t'2, tuint) ::
               (_t'1, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'4, (tptr (Tstruct _wormhmap noattr))) ::
               (_t'3, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'3
        (Efield
          (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
            (Tstruct _wormhole_iter noattr)) _map
          (tptr (Tstruct _wormhole noattr))))
      (Ssequence
        (Sset _t'4
          (Efield
            (Efield
              (Ederef (Etempvar _t'3 (tptr (Tstruct _wormhole noattr)))
                (Tstruct _wormhole noattr)) 18727075383868559167%positive
              (Tunion __7371 noattr)) _hmap
            (tptr (Tstruct _wormhmap noattr))))
        (Scall (Some _t'1)
          (Evar _wormhole_jump_leaf (Tfunction
                                      (Tcons
                                        (tptr (Tstruct _wormhmap noattr))
                                        (Tcons (tptr (Tstruct _kref noattr))
                                          Tnil))
                                      (tptr (Tstruct _wormleaf noattr))
                                      cc_default))
          ((Etempvar _t'4 (tptr (Tstruct _wormhmap noattr))) ::
           (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))))
    (Sset _leaf (Etempvar _t'1 (tptr (Tstruct _wormleaf noattr)))))
  (Ssequence
    (Scall None
      (Evar _wormhole_iter_leaf_sync_sorted (Tfunction
                                              (Tcons
                                                (tptr (Tstruct _wormleaf noattr))
                                                Tnil) tvoid cc_default))
      ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil))
    (Ssequence
      (Sassign
        (Efield
          (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
            (Tstruct _wormhole_iter noattr)) _leaf
          (tptr (Tstruct _wormleaf noattr)))
        (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))))
      (Ssequence
        (Ssequence
          (Scall (Some _t'2)
            (Evar _wormleaf_seek (Tfunction
                                   (Tcons (tptr (Tstruct _wormleaf noattr))
                                     (Tcons (tptr (Tstruct _kref noattr))
                                       Tnil)) tuint cc_default))
            ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
             (Etempvar _key (tptr (Tstruct _kref noattr))) :: nil))
          (Sassign
            (Efield
              (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                (Tstruct _wormhole_iter noattr)) _is tuint)
            (Etempvar _t'2 tuint)))
        (Scall None
          (Evar _whunsafe_iter_fix (Tfunction
                                     (Tcons
                                       (tptr (Tstruct _wormhole_iter noattr))
                                       Tnil) tvoid cc_default))
          ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil))))))
|}.

Definition f_whunsafe_iter_skip1 := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tbool) :: (_t'2, tuint) :: nil);
  fn_body :=
(Ssequence
  (Scall (Some _t'1)
    (Evar _wormhole_iter_valid (Tfunction
                                 (Tcons
                                   (tptr (Tstruct _wormhole_iter noattr))
                                   Tnil) tbool cc_default))
    ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil))
  (Sifthenelse (Etempvar _t'1 tbool)
    (Ssequence
      (Ssequence
        (Sset _t'2
          (Efield
            (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
              (Tstruct _wormhole_iter noattr)) _is tuint))
        (Sassign
          (Efield
            (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
              (Tstruct _wormhole_iter noattr)) _is tuint)
          (Ebinop Oadd (Etempvar _t'2 tuint) (Econst_int (Int.repr 1) tint)
            tuint)))
      (Scall None
        (Evar _whunsafe_iter_fix (Tfunction
                                   (Tcons
                                     (tptr (Tstruct _wormhole_iter noattr))
                                     Tnil) tvoid cc_default))
        ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil)))
    Sskip))
|}.

Definition f_whunsafe_iter_skip := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) ::
                (_nr, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_todo, tuint) :: (_cap, tuint) :: (_nskip, tuint) ::
               (_t'3, tuint) :: (_t'2, tbool) :: (_t'1, tint) ::
               (_t'7, tuint) :: (_t'6, tuint) ::
               (_t'5, (tptr (Tstruct _wormleaf noattr))) :: (_t'4, tuint) ::
               nil);
  fn_body :=
(Ssequence
  (Sset _todo (Etempvar _nr tuint))
  (Sloop
    (Ssequence
      (Ssequence
        (Sifthenelse (Etempvar _todo tuint)
          (Ssequence
            (Scall (Some _t'2)
              (Evar _wormhole_iter_valid (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormhole_iter noattr))
                                             Tnil) tbool cc_default))
              ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) ::
               nil))
            (Sset _t'1 (Ecast (Etempvar _t'2 tbool) tbool)))
          (Sset _t'1 (Econst_int (Int.repr 0) tint)))
        (Sifthenelse (Etempvar _t'1 tint) Sskip Sbreak))
      (Ssequence
        (Ssequence
          (Sset _t'5
            (Efield
              (Ederef (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                (Tstruct _wormhole_iter noattr)) _leaf
              (tptr (Tstruct _wormleaf noattr))))
          (Ssequence
            (Sset _t'6
              (Efield
                (Ederef (Etempvar _t'5 (tptr (Tstruct _wormleaf noattr)))
                  (Tstruct _wormleaf noattr)) _nr_sorted tuint))
            (Ssequence
              (Sset _t'7
                (Efield
                  (Ederef
                    (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                    (Tstruct _wormhole_iter noattr)) _is tuint))
              (Sset _cap
                (Ebinop Osub (Etempvar _t'6 tuint) (Etempvar _t'7 tuint)
                  tuint)))))
        (Ssequence
          (Ssequence
            (Sifthenelse (Ebinop Olt (Etempvar _cap tuint)
                           (Etempvar _todo tuint) tint)
              (Sset _t'3 (Ecast (Etempvar _cap tuint) tuint))
              (Sset _t'3 (Ecast (Etempvar _todo tuint) tuint)))
            (Sset _nskip (Etempvar _t'3 tuint)))
          (Ssequence
            (Ssequence
              (Sset _t'4
                (Efield
                  (Ederef
                    (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                    (Tstruct _wormhole_iter noattr)) _is tuint))
              (Sassign
                (Efield
                  (Ederef
                    (Etempvar _iter (tptr (Tstruct _wormhole_iter noattr)))
                    (Tstruct _wormhole_iter noattr)) _is tuint)
                (Ebinop Oadd (Etempvar _t'4 tuint) (Etempvar _nskip tuint)
                  tuint)))
            (Ssequence
              (Scall None
                (Evar _whunsafe_iter_fix (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormhole_iter noattr))
                                             Tnil) tvoid cc_default))
                ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) ::
                 nil))
              (Sset _todo
                (Ebinop Osub (Etempvar _todo tuint) (Etempvar _nskip tuint)
                  tuint)))))))
    Sskip))
|}.

Definition f_whunsafe_iter_next := {|
  fn_return := (tptr (Tstruct _kv noattr));
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) ::
                (_out, (tptr (Tstruct _kv noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_ret, (tptr (Tstruct _kv noattr))) ::
               (_t'1, (tptr (Tstruct _kv noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhole_iter_peek (Tfunction
                                  (Tcons
                                    (tptr (Tstruct _wormhole_iter noattr))
                                    (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                                  (tptr (Tstruct _kv noattr)) cc_default))
      ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) ::
       (Etempvar _out (tptr (Tstruct _kv noattr))) :: nil))
    (Sset _ret (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
  (Ssequence
    (Scall None
      (Evar _whunsafe_iter_skip1 (Tfunction
                                   (Tcons
                                     (tptr (Tstruct _wormhole_iter noattr))
                                     Tnil) tvoid cc_default))
      ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil))
    (Sreturn (Some (Etempvar _ret (tptr (Tstruct _kv noattr)))))))
|}.

Definition f_whunsafe_iter_destroy := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) :: nil);
  fn_vars := nil;
  fn_temps := nil;
  fn_body :=
(Scall None
  (Evar _free (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))
  ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil))
|}.

Definition f_wormhole_ref := {|
  fn_return := (tptr (Tstruct _wormref noattr));
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_ref, (tptr (Tstruct _wormref noattr))) :: (_t'2, tbool) ::
               (_t'1, (tptr tvoid)) ::
               (_t'3, (tptr (Tstruct _qsbr noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _malloc (Tfunction (Tcons tulong Tnil) (tptr tvoid) cc_default))
      ((Esizeof (Tstruct _wormref noattr) tulong) :: nil))
    (Sset _ref (Etempvar _t'1 (tptr tvoid))))
  (Ssequence
    (Sifthenelse (Ebinop Oeq (Etempvar _ref (tptr (Tstruct _wormref noattr)))
                   (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) tint)
      (Sreturn (Some (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))))
      Sskip)
    (Ssequence
      (Sassign
        (Efield
          (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
            (Tstruct _wormref noattr)) _map
          (tptr (Tstruct _wormhole noattr)))
        (Etempvar _map (tptr (Tstruct _wormhole noattr))))
      (Ssequence
        (Ssequence
          (Ssequence
            (Sset _t'3
              (Efield
                (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                  (Tstruct _wormhole noattr)) _qsbr
                (tptr (Tstruct _qsbr noattr))))
            (Scall (Some _t'2)
              (Evar _qsbr_register (Tfunction
                                     (Tcons (tptr (Tstruct _qsbr noattr))
                                       (Tcons
                                         (tptr (Tstruct _qsbr_ref noattr))
                                         Tnil)) tbool cc_default))
              ((Etempvar _t'3 (tptr (Tstruct _qsbr noattr))) ::
               (Eaddrof
                 (Efield
                   (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
                     (Tstruct _wormref noattr)) _qref
                   (Tstruct _qsbr_ref noattr))
                 (tptr (Tstruct _qsbr_ref noattr))) :: nil)))
          (Sifthenelse (Ebinop Oeq (Etempvar _t'2 tbool)
                         (Econst_int (Int.repr 0) tint) tint)
            (Ssequence
              (Scall None
                (Evar _free (Tfunction (Tcons (tptr tvoid) Tnil) tvoid
                              cc_default))
                ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
              (Sreturn (Some (Ecast (Econst_int (Int.repr 0) tint)
                               (tptr tvoid)))))
            Sskip))
        (Sreturn (Some (Etempvar _ref (tptr (Tstruct _wormref noattr)))))))))
|}.

Definition f_whsafe_ref := {|
  fn_return := (tptr (Tstruct _wormref noattr));
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_ref, (tptr (Tstruct _wormref noattr))) ::
               (_t'1, (tptr (Tstruct _wormref noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _wormhole_ref (Tfunction
                            (Tcons (tptr (Tstruct _wormhole noattr)) Tnil)
                            (tptr (Tstruct _wormref noattr)) cc_default))
      ((Etempvar _map (tptr (Tstruct _wormhole noattr))) :: nil))
    (Sset _ref (Etempvar _t'1 (tptr (Tstruct _wormref noattr)))))
  (Ssequence
    (Sifthenelse (Etempvar _ref (tptr (Tstruct _wormref noattr)))
      (Scall None
        (Evar _wormhole_park (Tfunction
                               (Tcons (tptr (Tstruct _wormref noattr)) Tnil)
                               tvoid cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
      Sskip)
    (Sreturn (Some (Etempvar _ref (tptr (Tstruct _wormref noattr)))))))
|}.

Definition f_wormhole_unref := {|
  fn_return := (tptr (Tstruct _wormhole noattr));
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_map, (tptr (Tstruct _wormhole noattr))) ::
               (_t'1, (tptr (Tstruct _qsbr noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _map
    (Efield
      (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
        (Tstruct _wormref noattr)) _map (tptr (Tstruct _wormhole noattr))))
  (Ssequence
    (Ssequence
      (Sset _t'1
        (Efield
          (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
            (Tstruct _wormhole noattr)) _qsbr (tptr (Tstruct _qsbr noattr))))
      (Scall None
        (Evar _qsbr_unregister (Tfunction
                                 (Tcons (tptr (Tstruct _qsbr noattr))
                                   (Tcons (tptr (Tstruct _qsbr_ref noattr))
                                     Tnil)) tvoid cc_default))
        ((Etempvar _t'1 (tptr (Tstruct _qsbr noattr))) ::
         (Eaddrof
           (Efield
             (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
               (Tstruct _wormref noattr)) _qref (Tstruct _qsbr_ref noattr))
           (tptr (Tstruct _qsbr_ref noattr))) :: nil)))
    (Ssequence
      (Scall None
        (Evar _free (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))
      (Sreturn (Some (Etempvar _map (tptr (Tstruct _wormhole noattr))))))))
|}.

Definition f_wormhole_park := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := nil;
  fn_body :=
(Scall None
  (Evar _qsbr_park (Tfunction (Tcons (tptr (Tstruct _qsbr_ref noattr)) Tnil)
                     tvoid cc_default))
  ((Eaddrof
     (Efield
       (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
         (Tstruct _wormref noattr)) _qref (Tstruct _qsbr_ref noattr))
     (tptr (Tstruct _qsbr_ref noattr))) :: nil))
|}.

Definition f_wormhole_resume := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := nil;
  fn_body :=
(Scall None
  (Evar _qsbr_resume (Tfunction
                       (Tcons (tptr (Tstruct _qsbr_ref noattr)) Tnil) tvoid
                       cc_default))
  ((Eaddrof
     (Efield
       (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
         (Tstruct _wormref noattr)) _qref (Tstruct _qsbr_ref noattr))
     (tptr (Tstruct _qsbr_ref noattr))) :: nil))
|}.

Definition f_wormhole_refresh_qstate := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'2, tulong) :: (_t'1, (tptr (Tstruct _wormhmap noattr))) ::
               (_t'3, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'3
        (Efield
          (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
            (Tstruct _wormref noattr)) _map
          (tptr (Tstruct _wormhole noattr))))
      (Scall (Some _t'1)
        (Evar _wormhmap_load (Tfunction
                               (Tcons (tptr (Tstruct _wormhole noattr)) Tnil)
                               (tptr (Tstruct _wormhmap noattr)) cc_default))
        ((Etempvar _t'3 (tptr (Tstruct _wormhole noattr))) :: nil)))
    (Scall (Some _t'2)
      (Evar _wormhmap_version_load (Tfunction
                                     (Tcons (tptr (Tstruct _wormhmap noattr))
                                       Tnil) tulong cc_default))
      ((Etempvar _t'1 (tptr (Tstruct _wormhmap noattr))) :: nil)))
  (Scall None
    (Evar _qsbr_update (Tfunction
                         (Tcons (tptr (Tstruct _qsbr_ref noattr))
                           (Tcons tulong Tnil)) tvoid cc_default))
    ((Eaddrof
       (Efield
         (Ederef (Etempvar _ref (tptr (Tstruct _wormref noattr)))
           (Tstruct _wormref noattr)) _qref (Tstruct _qsbr_ref noattr))
       (tptr (Tstruct _qsbr_ref noattr))) :: (Etempvar _t'2 tulong) :: nil)))
|}.

Definition f_wormhole_clean_hmap := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_x, tuint) :: (_hmap, (tptr (Tstruct _wormhmap noattr))) ::
               (_nr_slots, tulong) ::
               (_pmap, (tptr (Tstruct _wormmbkt noattr))) :: (_s, tulong) ::
               (_slot, (tptr (Tstruct _wormmbkt noattr))) :: (_i, tuint) ::
               (_t'8, (tptr (Tstruct _wormmbkt noattr))) :: (_t'7, tuint) ::
               (_t'6, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'5, (tptr (Tstruct _wormmeta noattr))) ::
               (_t'4, (tptr (Tstruct _slab noattr))) ::
               (_t'3, (tptr (Tstruct _slab noattr))) :: (_t'2, tulong) ::
               (_t'1, (tptr (Tstruct _wormmbkt noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _x (Econst_int (Int.repr 0) tint))
  (Sloop
    (Ssequence
      (Sifthenelse (Ebinop Olt (Etempvar _x tuint)
                     (Econst_int (Int.repr 2) tint) tint)
        Sskip
        Sbreak)
      (Ssequence
        (Ssequence
          (Sset _t'8
            (Efield
              (Ederef
                (Ebinop Oadd
                  (Efield
                    (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                      (Tstruct _wormhole noattr)) _hmap2
                    (tarray (Tstruct _wormhmap noattr) 2))
                  (Etempvar _x tuint) (tptr (Tstruct _wormhmap noattr)))
                (Tstruct _wormhmap noattr)) _pmap
              (tptr (Tstruct _wormmbkt noattr))))
          (Sifthenelse (Ebinop Oeq
                         (Etempvar _t'8 (tptr (Tstruct _wormmbkt noattr)))
                         (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))
                         tint)
            Scontinue
            Sskip))
        (Ssequence
          (Sset _hmap
            (Ebinop Oadd
              (Efield
                (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                  (Tstruct _wormhole noattr)) _hmap2
                (tarray (Tstruct _wormhmap noattr) 2)) (Etempvar _x tuint)
              (tptr (Tstruct _wormhmap noattr))))
          (Ssequence
            (Ssequence
              (Sset _t'7
                (Efield
                  (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                    (Tstruct _wormhmap noattr)) _mask tuint))
              (Sset _nr_slots
                (Ebinop Oadd (Ecast (Etempvar _t'7 tuint) tulong)
                  (Econst_int (Int.repr 1) tint) tulong)))
            (Ssequence
              (Sset _pmap
                (Efield
                  (Ederef (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                    (Tstruct _wormhmap noattr)) _pmap
                  (tptr (Tstruct _wormmbkt noattr))))
              (Ssequence
                (Ssequence
                  (Sset _s (Ecast (Econst_int (Int.repr 0) tint) tulong))
                  (Sloop
                    (Ssequence
                      (Sifthenelse (Ebinop Olt (Etempvar _s tulong)
                                     (Etempvar _nr_slots tulong) tint)
                        Sskip
                        Sbreak)
                      (Ssequence
                        (Sset _slot
                          (Ebinop Oadd
                            (Etempvar _pmap (tptr (Tstruct _wormmbkt noattr)))
                            (Etempvar _s tulong)
                            (tptr (Tstruct _wormmbkt noattr))))
                        (Ssequence
                          (Sset _i (Econst_int (Int.repr 0) tint))
                          (Sloop
                            (Ssequence
                              (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                                             (Econst_int (Int.repr 8) tint)
                                             tint)
                                Sskip
                                Sbreak)
                              (Ssequence
                                (Sset _t'5
                                  (Ederef
                                    (Ebinop Oadd
                                      (Efield
                                        (Ederef
                                          (Etempvar _slot (tptr (Tstruct _wormmbkt noattr)))
                                          (Tstruct _wormmbkt noattr)) _e
                                        (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                                      (Etempvar _i tuint)
                                      (tptr (tptr (Tstruct _wormmeta noattr))))
                                    (tptr (Tstruct _wormmeta noattr))))
                                (Sifthenelse (Etempvar _t'5 (tptr (Tstruct _wormmeta noattr)))
                                  (Ssequence
                                    (Sset _t'6
                                      (Ederef
                                        (Ebinop Oadd
                                          (Efield
                                            (Ederef
                                              (Etempvar _slot (tptr (Tstruct _wormmbkt noattr)))
                                              (Tstruct _wormmbkt noattr)) _e
                                            (tarray (tptr (Tstruct _wormmeta noattr)) 8))
                                          (Etempvar _i tuint)
                                          (tptr (tptr (Tstruct _wormmeta noattr))))
                                        (tptr (Tstruct _wormmeta noattr))))
                                    (Scall None
                                      (Evar _wormmeta_keyref_release 
                                      (Tfunction
                                        (Tcons
                                          (tptr (Tstruct _wormmeta noattr))
                                          Tnil) tvoid cc_default))
                                      ((Etempvar _t'6 (tptr (Tstruct _wormmeta noattr))) ::
                                       nil)))
                                  Sskip)))
                            (Sset _i
                              (Ebinop Oadd (Etempvar _i tuint)
                                (Econst_int (Int.repr 1) tint) tuint))))))
                    (Sset _s
                      (Ebinop Oadd (Etempvar _s tulong)
                        (Econst_int (Int.repr 1) tint) tulong))))
                (Ssequence
                  (Ssequence
                    (Sset _t'4
                      (Efield
                        (Ederef
                          (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                          (Tstruct _wormhmap noattr)) _slab1
                        (tptr (Tstruct _slab noattr))))
                    (Scall None
                      (Evar _slab_free_all (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _slab noattr))
                                               Tnil) tvoid cc_default))
                      ((Etempvar _t'4 (tptr (Tstruct _slab noattr))) :: nil)))
                  (Ssequence
                    (Ssequence
                      (Sset _t'3
                        (Efield
                          (Ederef
                            (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                            (Tstruct _wormhmap noattr)) _slab2
                          (tptr (Tstruct _slab noattr))))
                      (Scall None
                        (Evar _slab_free_all (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _slab noattr))
                                                 Tnil) tvoid cc_default))
                        ((Etempvar _t'3 (tptr (Tstruct _slab noattr))) ::
                         nil)))
                    (Ssequence
                      (Ssequence
                        (Sset _t'1
                          (Efield
                            (Ederef
                              (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                              (Tstruct _wormhmap noattr)) _pmap
                            (tptr (Tstruct _wormmbkt noattr))))
                        (Ssequence
                          (Sset _t'2
                            (Efield
                              (Ederef
                                (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                                (Tstruct _wormhmap noattr)) _msize tulong))
                          (Scall None
                            (Evar _memset (Tfunction
                                            (Tcons (tptr tvoid)
                                              (Tcons tint
                                                (Tcons tulong Tnil)))
                                            (tptr tvoid) cc_default))
                            ((Etempvar _t'1 (tptr (Tstruct _wormmbkt noattr))) ::
                             (Econst_int (Int.repr 0) tint) ::
                             (Etempvar _t'2 tulong) :: nil))))
                      (Sassign
                        (Efield
                          (Ederef
                            (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                            (Tstruct _wormhmap noattr)) _maxplen tuint)
                        (Econst_int (Int.repr 0) tint)))))))))))
    (Sset _x
      (Ebinop Oadd (Etempvar _x tuint) (Econst_int (Int.repr 1) tint) tuint))))
|}.

Definition f_wormhole_free_leaf_keys := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_leaf, (tptr (Tstruct _wormleaf noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_nr, tuint) :: (_i, tuint) :: (_curr, (tptr tvoid)) ::
               (_t'1, (tptr (Tstruct _kv noattr))) :: (_t'4, (tptr tvoid)) ::
               (_t'3,
                (tptr (Tfunction
                        (Tcons (tptr (Tstruct _kv noattr))
                          (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
               (_t'2, (tptr (Tstruct _kv noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _nr
    (Efield
      (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
        (Tstruct _wormleaf noattr)) _nr_keys tuint))
  (Ssequence
    (Ssequence
      (Sset _i (Econst_int (Int.repr 0) tint))
      (Sloop
        (Ssequence
          (Sifthenelse (Ebinop Olt (Etempvar _i tuint) (Etempvar _nr tuint)
                         tint)
            Sskip
            Sbreak)
          (Ssequence
            (Ssequence
              (Scall (Some _t'1)
                (Evar _wormleaf_kv_at_is (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormleaf noattr))
                                             (Tcons tuint Tnil))
                                           (tptr (Tstruct _kv noattr))
                                           cc_default))
                ((Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) ::
                 (Etempvar _i tuint) :: nil))
              (Sset _curr (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
            (Ssequence
              (Scall None
                (Evar _debug_assert (Tfunction (Tcons tbool Tnil) tvoid
                                      cc_default))
                ((Etempvar _curr (tptr tvoid)) :: nil))
              (Ssequence
                (Sset _t'3
                  (Efield
                    (Efield
                      (Ederef
                        (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                        (Tstruct _wormhole noattr)) _mm
                      (Tstruct _kvmap_mm noattr)) _free
                    (tptr (Tfunction
                            (Tcons (tptr (Tstruct _kv noattr))
                              (Tcons (tptr tvoid) Tnil)) tvoid cc_default))))
                (Ssequence
                  (Sset _t'4
                    (Efield
                      (Efield
                        (Ederef
                          (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                          (Tstruct _wormhole noattr)) _mm
                        (Tstruct _kvmap_mm noattr)) _priv (tptr tvoid)))
                  (Scall None
                    (Etempvar _t'3 (tptr (Tfunction
                                           (Tcons (tptr (Tstruct _kv noattr))
                                             (Tcons (tptr tvoid) Tnil)) tvoid
                                           cc_default)))
                    ((Etempvar _curr (tptr tvoid)) ::
                     (Etempvar _t'4 (tptr tvoid)) :: nil)))))))
        (Sset _i
          (Ebinop Oadd (Etempvar _i tuint) (Econst_int (Int.repr 1) tint)
            tuint))))
    (Ssequence
      (Sset _t'2
        (Efield
          (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
            (Tstruct _wormleaf noattr)) _anchor (tptr (Tstruct _kv noattr))))
      (Scall None
        (Evar _wormhole_free_akey (Tfunction
                                    (Tcons (tptr (Tstruct _kv noattr)) Tnil)
                                    tvoid cc_default))
        ((Etempvar _t'2 (tptr (Tstruct _kv noattr))) :: nil)))))
|}.

Definition f_wormhole_clean_helper := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_leaf, (tptr (Tstruct _wormleaf noattr))) ::
               (_t'1, (tptr (Tstruct _slab noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _wormhole_clean_hmap (Tfunction
                                 (Tcons (tptr (Tstruct _wormhole noattr))
                                   Tnil) tvoid cc_default))
    ((Etempvar _map (tptr (Tstruct _wormhole noattr))) :: nil))
  (Ssequence
    (Ssequence
      (Sset _leaf
        (Efield
          (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
            (Tstruct _wormhole noattr)) _leaf0
          (tptr (Tstruct _wormleaf noattr))))
      (Sloop
        (Ssequence
          (Sifthenelse (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
            Sskip
            Sbreak)
          (Scall None
            (Evar _wormhole_free_leaf_keys (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _wormhole noattr))
                                               (Tcons
                                                 (tptr (Tstruct _wormleaf noattr))
                                                 Tnil)) tvoid cc_default))
            ((Etempvar _map (tptr (Tstruct _wormhole noattr))) ::
             (Etempvar _leaf (tptr (Tstruct _wormleaf noattr))) :: nil)))
        (Sset _leaf
          (Efield
            (Ederef (Etempvar _leaf (tptr (Tstruct _wormleaf noattr)))
              (Tstruct _wormleaf noattr)) _next
            (tptr (Tstruct _wormleaf noattr))))))
    (Ssequence
      (Ssequence
        (Sset _t'1
          (Efield
            (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
              (Tstruct _wormhole noattr)) _slab_leaf
            (tptr (Tstruct _slab noattr))))
        (Scall None
          (Evar _slab_free_all (Tfunction
                                 (Tcons (tptr (Tstruct _slab noattr)) Tnil)
                                 tvoid cc_default))
          ((Etempvar _t'1 (tptr (Tstruct _slab noattr))) :: nil)))
      (Sassign
        (Efield
          (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
            (Tstruct _wormhole noattr)) _leaf0
          (tptr (Tstruct _wormleaf noattr)))
        (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid))))))
|}.

Definition f_wormhole_clean := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_vars := nil;
  fn_temps := nil;
  fn_body :=
(Ssequence
  (Scall None
    (Evar _wormhole_clean_helper (Tfunction
                                   (Tcons (tptr (Tstruct _wormhole noattr))
                                     Tnil) tvoid cc_default))
    ((Etempvar _map (tptr (Tstruct _wormhole noattr))) :: nil))
  (Scall None
    (Evar _wormhole_create_leaf0 (Tfunction
                                   (Tcons (tptr (Tstruct _wormhole noattr))
                                     Tnil) tbool cc_default))
    ((Etempvar _map (tptr (Tstruct _wormhole noattr))) :: nil)))
|}.

Definition f_wormhole_destroy := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_i, tuint) :: (_hmap, (tptr (Tstruct _wormhmap noattr))) ::
               (_t'7, (tptr (Tstruct _slab noattr))) ::
               (_t'6, (tptr (Tstruct _slab noattr))) ::
               (_t'5, (tptr (Tstruct _slab noattr))) ::
               (_t'4, (tptr (Tstruct _slab noattr))) ::
               (_t'3, (tptr (Tstruct _qsbr noattr))) ::
               (_t'2, (tptr (Tstruct _slab noattr))) ::
               (_t'1, (tptr (Tstruct _kv noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _wormhole_clean_helper (Tfunction
                                   (Tcons (tptr (Tstruct _wormhole noattr))
                                     Tnil) tvoid cc_default))
    ((Etempvar _map (tptr (Tstruct _wormhole noattr))) :: nil))
  (Ssequence
    (Ssequence
      (Sset _i (Econst_int (Int.repr 0) tint))
      (Sloop
        (Ssequence
          (Sifthenelse (Ebinop Olt (Etempvar _i tuint)
                         (Econst_int (Int.repr 2) tint) tint)
            Sskip
            Sbreak)
          (Ssequence
            (Sset _hmap
              (Ebinop Oadd
                (Efield
                  (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                    (Tstruct _wormhole noattr)) _hmap2
                  (tarray (Tstruct _wormhmap noattr) 2)) (Etempvar _i tuint)
                (tptr (Tstruct _wormhmap noattr))))
            (Ssequence
              (Ssequence
                (Sset _t'6
                  (Efield
                    (Ederef
                      (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                      (Tstruct _wormhmap noattr)) _slab1
                    (tptr (Tstruct _slab noattr))))
                (Sifthenelse (Etempvar _t'6 (tptr (Tstruct _slab noattr)))
                  (Ssequence
                    (Sset _t'7
                      (Efield
                        (Ederef
                          (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                          (Tstruct _wormhmap noattr)) _slab1
                        (tptr (Tstruct _slab noattr))))
                    (Scall None
                      (Evar _slab_destroy (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _slab noattr))
                                              Tnil) tvoid cc_default))
                      ((Etempvar _t'7 (tptr (Tstruct _slab noattr))) :: nil)))
                  Sskip))
              (Ssequence
                (Ssequence
                  (Sset _t'4
                    (Efield
                      (Ederef
                        (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                        (Tstruct _wormhmap noattr)) _slab2
                      (tptr (Tstruct _slab noattr))))
                  (Sifthenelse (Etempvar _t'4 (tptr (Tstruct _slab noattr)))
                    (Ssequence
                      (Sset _t'5
                        (Efield
                          (Ederef
                            (Etempvar _hmap (tptr (Tstruct _wormhmap noattr)))
                            (Tstruct _wormhmap noattr)) _slab2
                          (tptr (Tstruct _slab noattr))))
                      (Scall None
                        (Evar _slab_destroy (Tfunction
                                              (Tcons
                                                (tptr (Tstruct _slab noattr))
                                                Tnil) tvoid cc_default))
                        ((Etempvar _t'5 (tptr (Tstruct _slab noattr))) ::
                         nil)))
                    Sskip))
                (Scall None
                  (Evar _wormhmap_deinit (Tfunction
                                           (Tcons
                                             (tptr (Tstruct _wormhmap noattr))
                                             Tnil) tvoid cc_default))
                  ((Etempvar _hmap (tptr (Tstruct _wormhmap noattr))) :: nil))))))
        (Sset _i
          (Ebinop Oadd (Etempvar _i tuint) (Econst_int (Int.repr 1) tint)
            tuint))))
    (Ssequence
      (Ssequence
        (Sset _t'3
          (Efield
            (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
              (Tstruct _wormhole noattr)) _qsbr
            (tptr (Tstruct _qsbr noattr))))
        (Scall None
          (Evar _qsbr_destroy (Tfunction
                                (Tcons (tptr (Tstruct _qsbr noattr)) Tnil)
                                tvoid cc_default))
          ((Etempvar _t'3 (tptr (Tstruct _qsbr noattr))) :: nil)))
      (Ssequence
        (Ssequence
          (Sset _t'2
            (Efield
              (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                (Tstruct _wormhole noattr)) _slab_leaf
              (tptr (Tstruct _slab noattr))))
          (Scall None
            (Evar _slab_destroy (Tfunction
                                  (Tcons (tptr (Tstruct _slab noattr)) Tnil)
                                  tvoid cc_default))
            ((Etempvar _t'2 (tptr (Tstruct _slab noattr))) :: nil)))
        (Ssequence
          (Ssequence
            (Sset _t'1
              (Efield
                (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                  (Tstruct _wormhole noattr)) _pbuf
                (tptr (Tstruct _kv noattr))))
            (Scall None
              (Evar _free (Tfunction (Tcons (tptr tvoid) Tnil) tvoid
                            cc_default))
              ((Etempvar _t'1 (tptr (Tstruct _kv noattr))) :: nil)))
          (Scall None
            (Evar _free (Tfunction (Tcons (tptr tvoid) Tnil) tvoid
                          cc_default))
            ((Etempvar _map (tptr (Tstruct _wormhole noattr))) :: nil)))))))
|}.

Definition v___func____1 := {|
  gvar_info := (tarray tschar 16);
  gvar_init := (Init_int8 (Int.repr 119) :: Init_int8 (Int.repr 111) ::
                Init_int8 (Int.repr 114) :: Init_int8 (Int.repr 109) ::
                Init_int8 (Int.repr 104) :: Init_int8 (Int.repr 111) ::
                Init_int8 (Int.repr 108) :: Init_int8 (Int.repr 101) ::
                Init_int8 (Int.repr 95) :: Init_int8 (Int.repr 102) ::
                Init_int8 (Int.repr 112) :: Init_int8 (Int.repr 114) ::
                Init_int8 (Int.repr 105) :: Init_int8 (Int.repr 110) ::
                Init_int8 (Int.repr 116) :: Init_int8 (Int.repr 0) :: nil);
  gvar_readonly := true;
  gvar_volatile := false
|}.

Definition f_wormhole_fprint := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) ::
                (_out, (tptr (Tstruct __IO_FILE noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_nr_slab_ul, tulong) :: (_nr_slab_um11, tulong) ::
               (_nr_slab_um12, tulong) :: (_nr_slab_um21, tulong) ::
               (_nr_slab_um22, tulong) :: (_t'7, tulong) :: (_t'6, tulong) ::
               (_t'5, tulong) :: (_t'4, tulong) :: (_t'3, tulong) ::
               (_t'2, tulong) :: (_t'1, tulong) ::
               (_t'14, (tptr (Tstruct _slab noattr))) ::
               (_t'13, (tptr (Tstruct _slab noattr))) ::
               (_t'12, (tptr (Tstruct _slab noattr))) ::
               (_t'11, (tptr (Tstruct _slab noattr))) ::
               (_t'10, (tptr (Tstruct _slab noattr))) ::
               (_t'9, (tptr (Tstruct _slab noattr))) ::
               (_t'8, (tptr (Tstruct _slab noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Ssequence
      (Sset _t'14
        (Efield
          (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
            (Tstruct _wormhole noattr)) _slab_leaf
          (tptr (Tstruct _slab noattr))))
      (Scall (Some _t'1)
        (Evar _slab_get_nalloc (Tfunction
                                 (Tcons (tptr (Tstruct _slab noattr)) Tnil)
                                 tulong cc_default))
        ((Etempvar _t'14 (tptr (Tstruct _slab noattr))) :: nil)))
    (Sset _nr_slab_ul (Etempvar _t'1 tulong)))
  (Ssequence
    (Ssequence
      (Ssequence
        (Sset _t'13
          (Efield
            (Ederef
              (Ebinop Oadd
                (Efield
                  (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                    (Tstruct _wormhole noattr)) _hmap2
                  (tarray (Tstruct _wormhmap noattr) 2))
                (Econst_int (Int.repr 0) tint)
                (tptr (Tstruct _wormhmap noattr)))
              (Tstruct _wormhmap noattr)) _slab1
            (tptr (Tstruct _slab noattr))))
        (Scall (Some _t'2)
          (Evar _slab_get_nalloc (Tfunction
                                   (Tcons (tptr (Tstruct _slab noattr)) Tnil)
                                   tulong cc_default))
          ((Etempvar _t'13 (tptr (Tstruct _slab noattr))) :: nil)))
      (Sset _nr_slab_um11 (Etempvar _t'2 tulong)))
    (Ssequence
      (Ssequence
        (Ssequence
          (Sset _t'12
            (Efield
              (Ederef
                (Ebinop Oadd
                  (Efield
                    (Ederef (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                      (Tstruct _wormhole noattr)) _hmap2
                    (tarray (Tstruct _wormhmap noattr) 2))
                  (Econst_int (Int.repr 0) tint)
                  (tptr (Tstruct _wormhmap noattr)))
                (Tstruct _wormhmap noattr)) _slab2
              (tptr (Tstruct _slab noattr))))
          (Scall (Some _t'3)
            (Evar _slab_get_nalloc (Tfunction
                                     (Tcons (tptr (Tstruct _slab noattr))
                                       Tnil) tulong cc_default))
            ((Etempvar _t'12 (tptr (Tstruct _slab noattr))) :: nil)))
        (Sset _nr_slab_um12 (Etempvar _t'3 tulong)))
      (Ssequence
        (Ssequence
          (Ssequence
            (Sset _t'10
              (Efield
                (Ederef
                  (Ebinop Oadd
                    (Efield
                      (Ederef
                        (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                        (Tstruct _wormhole noattr)) _hmap2
                      (tarray (Tstruct _wormhmap noattr) 2))
                    (Econst_int (Int.repr 1) tint)
                    (tptr (Tstruct _wormhmap noattr)))
                  (Tstruct _wormhmap noattr)) _slab1
                (tptr (Tstruct _slab noattr))))
            (Sifthenelse (Etempvar _t'10 (tptr (Tstruct _slab noattr)))
              (Ssequence
                (Ssequence
                  (Sset _t'11
                    (Efield
                      (Ederef
                        (Ebinop Oadd
                          (Efield
                            (Ederef
                              (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                              (Tstruct _wormhole noattr)) _hmap2
                            (tarray (Tstruct _wormhmap noattr) 2))
                          (Econst_int (Int.repr 1) tint)
                          (tptr (Tstruct _wormhmap noattr)))
                        (Tstruct _wormhmap noattr)) _slab1
                      (tptr (Tstruct _slab noattr))))
                  (Scall (Some _t'5)
                    (Evar _slab_get_nalloc (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _slab noattr))
                                               Tnil) tulong cc_default))
                    ((Etempvar _t'11 (tptr (Tstruct _slab noattr))) :: nil)))
                (Sset _t'4 (Ecast (Etempvar _t'5 tulong) tulong)))
              (Sset _t'4 (Ecast (Econst_int (Int.repr 0) tint) tulong))))
          (Sset _nr_slab_um21 (Etempvar _t'4 tulong)))
        (Ssequence
          (Ssequence
            (Ssequence
              (Sset _t'8
                (Efield
                  (Ederef
                    (Ebinop Oadd
                      (Efield
                        (Ederef
                          (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                          (Tstruct _wormhole noattr)) _hmap2
                        (tarray (Tstruct _wormhmap noattr) 2))
                      (Econst_int (Int.repr 1) tint)
                      (tptr (Tstruct _wormhmap noattr)))
                    (Tstruct _wormhmap noattr)) _slab2
                  (tptr (Tstruct _slab noattr))))
              (Sifthenelse (Etempvar _t'8 (tptr (Tstruct _slab noattr)))
                (Ssequence
                  (Ssequence
                    (Sset _t'9
                      (Efield
                        (Ederef
                          (Ebinop Oadd
                            (Efield
                              (Ederef
                                (Etempvar _map (tptr (Tstruct _wormhole noattr)))
                                (Tstruct _wormhole noattr)) _hmap2
                              (tarray (Tstruct _wormhmap noattr) 2))
                            (Econst_int (Int.repr 1) tint)
                            (tptr (Tstruct _wormhmap noattr)))
                          (Tstruct _wormhmap noattr)) _slab2
                        (tptr (Tstruct _slab noattr))))
                    (Scall (Some _t'7)
                      (Evar _slab_get_nalloc (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _slab noattr))
                                                 Tnil) tulong cc_default))
                      ((Etempvar _t'9 (tptr (Tstruct _slab noattr))) :: nil)))
                  (Sset _t'6 (Ecast (Etempvar _t'7 tulong) tulong)))
                (Sset _t'6 (Ecast (Econst_int (Int.repr 0) tint) tulong))))
            (Sset _nr_slab_um22 (Etempvar _t'6 tulong)))
          (Scall None
            (Evar _fprintf (Tfunction
                             (Tcons (tptr (Tstruct __IO_FILE noattr))
                               (Tcons (tptr tschar) Tnil)) tint
                             {|cc_vararg:=(Some 2); cc_unproto:=false; cc_structret:=false|}))
            ((Etempvar _out (tptr (Tstruct __IO_FILE noattr))) ::
             (Evar ___stringlit_3 (tarray tschar 46)) ::
             (Evar ___func____1 (tarray tschar 16)) ::
             (Etempvar _nr_slab_ul tulong) ::
             (Etempvar _nr_slab_um11 tulong) ::
             (Etempvar _nr_slab_um12 tulong) ::
             (Etempvar _nr_slab_um21 tulong) ::
             (Etempvar _nr_slab_um22 tulong) :: nil)))))))
|}.

Definition v_kvmap_api_wormhole := {|
  gvar_info := (Tstruct _kvmap_api noattr);
  gvar_init := (Init_int8 (Int.repr 1) :: Init_int8 (Int.repr 1) ::
                Init_int8 (Int.repr 1) :: Init_int8 (Int.repr 0) ::
                Init_int8 (Int.repr 0) :: Init_int8 (Int.repr 1) ::
                Init_int8 (Int.repr 1) :: Init_int8 (Int.repr 0) ::
                Init_addrof _wormhole_put (Ptrofs.repr 0) ::
                Init_addrof _wormhole_get (Ptrofs.repr 0) ::
                Init_addrof _wormhole_probe (Ptrofs.repr 0) ::
                Init_addrof _wormhole_del (Ptrofs.repr 0) ::
                Init_addrof _wormhole_inpr (Ptrofs.repr 0) ::
                Init_addrof _wormhole_inpw (Ptrofs.repr 0) ::
                Init_addrof _wormhole_merge (Ptrofs.repr 0) ::
                Init_addrof _wormhole_delr (Ptrofs.repr 0) ::
                Init_int64 (Int64.repr 0) ::
                Init_addrof _wormhole_iter_create (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_seek (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_valid (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_peek (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_kref (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_kvref (Ptrofs.repr 0) ::
                Init_int64 (Int64.repr 0) :: Init_int64 (Int64.repr 0) ::
                Init_addrof _wormhole_iter_skip1 (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_skip (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_next (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_inp (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_park (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_destroy (Ptrofs.repr 0) ::
                Init_addrof _wormhole_ref (Ptrofs.repr 0) ::
                Init_addrof _wormhole_unref (Ptrofs.repr 0) ::
                Init_addrof _wormhole_park (Ptrofs.repr 0) ::
                Init_addrof _wormhole_resume (Ptrofs.repr 0) ::
                Init_addrof _wormhole_clean (Ptrofs.repr 0) ::
                Init_addrof _wormhole_destroy (Ptrofs.repr 0) ::
                Init_addrof _wormhole_fprint (Ptrofs.repr 0) :: nil);
  gvar_readonly := true;
  gvar_volatile := false
|}.

Definition v_kvmap_api_whsafe := {|
  gvar_info := (Tstruct _kvmap_api noattr);
  gvar_init := (Init_int8 (Int.repr 1) :: Init_int8 (Int.repr 1) ::
                Init_int8 (Int.repr 1) :: Init_int8 (Int.repr 0) ::
                Init_int8 (Int.repr 0) :: Init_int8 (Int.repr 1) ::
                Init_int8 (Int.repr 0) :: Init_int8 (Int.repr 0) ::
                Init_addrof _whsafe_put (Ptrofs.repr 0) ::
                Init_addrof _whsafe_get (Ptrofs.repr 0) ::
                Init_addrof _whsafe_probe (Ptrofs.repr 0) ::
                Init_addrof _whsafe_del (Ptrofs.repr 0) ::
                Init_addrof _whsafe_inpr (Ptrofs.repr 0) ::
                Init_addrof _whsafe_inpw (Ptrofs.repr 0) ::
                Init_addrof _whsafe_merge (Ptrofs.repr 0) ::
                Init_addrof _whsafe_delr (Ptrofs.repr 0) ::
                Init_int64 (Int64.repr 0) ::
                Init_addrof _wormhole_iter_create (Ptrofs.repr 0) ::
                Init_addrof _whsafe_iter_seek (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_valid (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_peek (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_kref (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_kvref (Ptrofs.repr 0) ::
                Init_int64 (Int64.repr 0) :: Init_int64 (Int64.repr 0) ::
                Init_addrof _wormhole_iter_skip1 (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_skip (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_next (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_inp (Ptrofs.repr 0) ::
                Init_addrof _whsafe_iter_park (Ptrofs.repr 0) ::
                Init_addrof _whsafe_iter_destroy (Ptrofs.repr 0) ::
                Init_addrof _whsafe_ref (Ptrofs.repr 0) ::
                Init_addrof _wormhole_unref (Ptrofs.repr 0) ::
                Init_int64 (Int64.repr 0) :: Init_int64 (Int64.repr 0) ::
                Init_addrof _wormhole_clean (Ptrofs.repr 0) ::
                Init_addrof _wormhole_destroy (Ptrofs.repr 0) ::
                Init_addrof _wormhole_fprint (Ptrofs.repr 0) :: nil);
  gvar_readonly := true;
  gvar_volatile := false
|}.

Definition v_kvmap_api_whunsafe := {|
  gvar_info := (Tstruct _kvmap_api noattr);
  gvar_init := (Init_int8 (Int.repr 1) :: Init_int8 (Int.repr 1) ::
                Init_int8 (Int.repr 0) :: Init_int8 (Int.repr 0) ::
                Init_int8 (Int.repr 0) :: Init_int8 (Int.repr 1) ::
                Init_int8 (Int.repr 0) :: Init_int8 (Int.repr 0) ::
                Init_addrof _whunsafe_put (Ptrofs.repr 0) ::
                Init_addrof _whunsafe_get (Ptrofs.repr 0) ::
                Init_addrof _whunsafe_probe (Ptrofs.repr 0) ::
                Init_addrof _whunsafe_del (Ptrofs.repr 0) ::
                Init_addrof _whunsafe_inp (Ptrofs.repr 0) ::
                Init_addrof _whunsafe_inp (Ptrofs.repr 0) ::
                Init_addrof _whunsafe_merge (Ptrofs.repr 0) ::
                Init_addrof _whunsafe_delr (Ptrofs.repr 0) ::
                Init_int64 (Int64.repr 0) ::
                Init_addrof _whunsafe_iter_create (Ptrofs.repr 0) ::
                Init_addrof _whunsafe_iter_seek (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_valid (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_peek (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_kref (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_kvref (Ptrofs.repr 0) ::
                Init_int64 (Int64.repr 0) :: Init_int64 (Int64.repr 0) ::
                Init_addrof _whunsafe_iter_skip1 (Ptrofs.repr 0) ::
                Init_addrof _whunsafe_iter_skip (Ptrofs.repr 0) ::
                Init_addrof _whunsafe_iter_next (Ptrofs.repr 0) ::
                Init_addrof _wormhole_iter_inp (Ptrofs.repr 0) ::
                Init_int64 (Int64.repr 0) ::
                Init_addrof _whunsafe_iter_destroy (Ptrofs.repr 0) ::
                Init_int64 (Int64.repr 0) :: Init_int64 (Int64.repr 0) ::
                Init_int64 (Int64.repr 0) :: Init_int64 (Int64.repr 0) ::
                Init_addrof _wormhole_clean (Ptrofs.repr 0) ::
                Init_addrof _wormhole_destroy (Ptrofs.repr 0) ::
                Init_addrof _wormhole_fprint (Ptrofs.repr 0) :: nil);
  gvar_readonly := true;
  gvar_volatile := false
|}.

Definition v_wh_api := {|
  gvar_info := (tptr (Tstruct _kvmap_api noattr));
  gvar_init := (Init_addrof _kvmap_api_whsafe (Ptrofs.repr 0) :: nil);
  gvar_readonly := true;
  gvar_volatile := false
|}.

Definition f_wh_create := {|
  fn_return := (tptr (Tstruct _wormhole noattr));
  fn_callconv := cc_default;
  fn_params := nil;
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall (Some _t'1)
    (Evar _wormhole_create (Tfunction
                             (Tcons (tptr (Tstruct _kvmap_mm noattr)) Tnil)
                             (tptr (Tstruct _wormhole noattr)) cc_default))
    ((Eaddrof (Evar _kvmap_mm_ndf (Tstruct _kvmap_mm noattr))
       (tptr (Tstruct _kvmap_mm noattr))) :: nil))
  (Sreturn (Some (Etempvar _t'1 (tptr (Tstruct _wormhole noattr))))))
|}.

Definition f_wh_ref := {|
  fn_return := (tptr (Tstruct _wormref noattr));
  fn_callconv := cc_default;
  fn_params := ((_wh, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr tvoid)) ::
               (_t'3,
                (tptr (Tfunction (Tcons (tptr tvoid) Tnil) (tptr tvoid)
                        cc_default))) ::
               (_t'2, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'2 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
    (Ssequence
      (Sset _t'3
        (Efield
          (Ederef (Etempvar _t'2 (tptr (Tstruct _kvmap_api noattr)))
            (Tstruct _kvmap_api noattr)) _ref
          (tptr (Tfunction (Tcons (tptr tvoid) Tnil) (tptr tvoid) cc_default))))
      (Scall (Some _t'1)
        (Etempvar _t'3 (tptr (Tfunction (Tcons (tptr tvoid) Tnil)
                               (tptr tvoid) cc_default)))
        ((Etempvar _wh (tptr (Tstruct _wormhole noattr))) :: nil))))
  (Sreturn (Some (Etempvar _t'1 (tptr tvoid)))))
|}.

Definition f_wh_unref := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'2,
                (tptr (Tfunction (Tcons (tptr tvoid) Tnil) (tptr tvoid)
                        cc_default))) ::
               (_t'1, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
  (Ssequence
    (Sset _t'2
      (Efield
        (Ederef (Etempvar _t'1 (tptr (Tstruct _kvmap_api noattr)))
          (Tstruct _kvmap_api noattr)) _unref
        (tptr (Tfunction (Tcons (tptr tvoid) Tnil) (tptr tvoid) cc_default))))
    (Scall None
      (Etempvar _t'2 (tptr (Tfunction (Tcons (tptr tvoid) Tnil) (tptr tvoid)
                             cc_default)))
      ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))))
|}.

Definition f_wh_park := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'4,
                (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))) ::
               (_t'3, (tptr (Tstruct _kvmap_api noattr))) ::
               (_t'2,
                (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))) ::
               (_t'1, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
  (Ssequence
    (Sset _t'2
      (Efield
        (Ederef (Etempvar _t'1 (tptr (Tstruct _kvmap_api noattr)))
          (Tstruct _kvmap_api noattr)) _park
        (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))))
    (Sifthenelse (Etempvar _t'2 (tptr (Tfunction (Tcons (tptr tvoid) Tnil)
                                        tvoid cc_default)))
      (Ssequence
        (Sset _t'3 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
        (Ssequence
          (Sset _t'4
            (Efield
              (Ederef (Etempvar _t'3 (tptr (Tstruct _kvmap_api noattr)))
                (Tstruct _kvmap_api noattr)) _park
              (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))))
          (Scall None
            (Etempvar _t'4 (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid
                                   cc_default)))
            ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))))
      Sskip)))
|}.

Definition f_wh_resume := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'4,
                (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))) ::
               (_t'3, (tptr (Tstruct _kvmap_api noattr))) ::
               (_t'2,
                (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))) ::
               (_t'1, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
  (Ssequence
    (Sset _t'2
      (Efield
        (Ederef (Etempvar _t'1 (tptr (Tstruct _kvmap_api noattr)))
          (Tstruct _kvmap_api noattr)) _resume
        (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))))
    (Sifthenelse (Etempvar _t'2 (tptr (Tfunction (Tcons (tptr tvoid) Tnil)
                                        tvoid cc_default)))
      (Ssequence
        (Sset _t'3 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
        (Ssequence
          (Sset _t'4
            (Efield
              (Ederef (Etempvar _t'3 (tptr (Tstruct _kvmap_api noattr)))
                (Tstruct _kvmap_api noattr)) _resume
              (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))))
          (Scall None
            (Etempvar _t'4 (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid
                                   cc_default)))
            ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))))
      Sskip)))
|}.

Definition f_wh_clean := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'2,
                (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))) ::
               (_t'1, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
  (Ssequence
    (Sset _t'2
      (Efield
        (Ederef (Etempvar _t'1 (tptr (Tstruct _kvmap_api noattr)))
          (Tstruct _kvmap_api noattr)) _clean
        (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))))
    (Scall None
      (Etempvar _t'2 (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid
                             cc_default)))
      ((Etempvar _map (tptr (Tstruct _wormhole noattr))) :: nil))))
|}.

Definition f_wh_destroy := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_map, (tptr (Tstruct _wormhole noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'2,
                (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))) ::
               (_t'1, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
  (Ssequence
    (Sset _t'2
      (Efield
        (Ederef (Etempvar _t'1 (tptr (Tstruct _kvmap_api noattr)))
          (Tstruct _kvmap_api noattr)) _destroy
        (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))))
    (Scall None
      (Etempvar _t'2 (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid
                             cc_default)))
      ((Etempvar _map (tptr (Tstruct _wormhole noattr))) :: nil))))
|}.

Definition f_wh_put := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_kbuf, (tptr tvoid)) :: (_klen, tuint) ::
                (_vbuf, (tptr tvoid)) :: (_vlen, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_newkv, (tptr (Tstruct _kv noattr))) :: (_t'2, tbool) ::
               (_t'1, (tptr (Tstruct _kv noattr))) ::
               (_t'4,
                (tptr (Tfunction
                        (Tcons (tptr tvoid)
                          (Tcons (tptr (Tstruct _kv noattr)) Tnil)) tbool
                        cc_default))) ::
               (_t'3, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Scall (Some _t'1)
      (Evar _kv_create (Tfunction
                         (Tcons (tptr tvoid)
                           (Tcons tuint
                             (Tcons (tptr tvoid) (Tcons tuint Tnil))))
                         (tptr (Tstruct _kv noattr)) cc_default))
      ((Etempvar _kbuf (tptr tvoid)) :: (Etempvar _klen tuint) ::
       (Etempvar _vbuf (tptr tvoid)) :: (Etempvar _vlen tuint) :: nil))
    (Sset _newkv (Etempvar _t'1 (tptr (Tstruct _kv noattr)))))
  (Ssequence
    (Sifthenelse (Ebinop Oeq (Etempvar _newkv (tptr (Tstruct _kv noattr)))
                   (Ecast (Econst_int (Int.repr 0) tint) (tptr tvoid)) tint)
      (Sreturn (Some (Econst_int (Int.repr 0) tint)))
      Sskip)
    (Ssequence
      (Ssequence
        (Sset _t'3 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
        (Ssequence
          (Sset _t'4
            (Efield
              (Ederef (Etempvar _t'3 (tptr (Tstruct _kvmap_api noattr)))
                (Tstruct _kvmap_api noattr)) _put
              (tptr (Tfunction
                      (Tcons (tptr tvoid)
                        (Tcons (tptr (Tstruct _kv noattr)) Tnil)) tbool
                      cc_default))))
          (Scall (Some _t'2)
            (Etempvar _t'4 (tptr (Tfunction
                                   (Tcons (tptr tvoid)
                                     (Tcons (tptr (Tstruct _kv noattr)) Tnil))
                                   tbool cc_default)))
            ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
             (Etempvar _newkv (tptr (Tstruct _kv noattr))) :: nil))))
      (Sreturn (Some (Etempvar _t'2 tbool))))))
|}.

Definition f_wh_del := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_kbuf, (tptr tvoid)) :: (_klen, tuint) :: nil);
  fn_vars := ((_kref__1, (Tstruct _kref noattr)) :: nil);
  fn_temps := ((_t'1, tbool) ::
               (_t'3,
                (tptr (Tfunction
                        (Tcons (tptr tvoid)
                          (Tcons (tptr (Tstruct _kref noattr)) Tnil)) tbool
                        cc_default))) ::
               (_t'2, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _kref_ref_hash32 (Tfunction
                             (Tcons (tptr (Tstruct _kref noattr))
                               (Tcons (tptr tuchar) (Tcons tuint Tnil)))
                             tvoid cc_default))
    ((Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
       (tptr (Tstruct _kref noattr))) :: (Etempvar _kbuf (tptr tvoid)) ::
     (Etempvar _klen tuint) :: nil))
  (Ssequence
    (Ssequence
      (Sset _t'2 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
      (Ssequence
        (Sset _t'3
          (Efield
            (Ederef (Etempvar _t'2 (tptr (Tstruct _kvmap_api noattr)))
              (Tstruct _kvmap_api noattr)) _del
            (tptr (Tfunction
                    (Tcons (tptr tvoid)
                      (Tcons (tptr (Tstruct _kref noattr)) Tnil)) tbool
                    cc_default))))
        (Scall (Some _t'1)
          (Etempvar _t'3 (tptr (Tfunction
                                 (Tcons (tptr tvoid)
                                   (Tcons (tptr (Tstruct _kref noattr)) Tnil))
                                 tbool cc_default)))
          ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
           (Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
             (tptr (Tstruct _kref noattr))) :: nil))))
    (Sreturn (Some (Etempvar _t'1 tbool)))))
|}.

Definition f_wh_probe := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_kbuf, (tptr tvoid)) :: (_klen, tuint) :: nil);
  fn_vars := ((_kref__1, (Tstruct _kref noattr)) :: nil);
  fn_temps := ((_t'1, tbool) ::
               (_t'3,
                (tptr (Tfunction
                        (Tcons (tptr tvoid)
                          (Tcons (tptr (Tstruct _kref noattr)) Tnil)) tbool
                        cc_default))) ::
               (_t'2, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _kref_ref_hash32 (Tfunction
                             (Tcons (tptr (Tstruct _kref noattr))
                               (Tcons (tptr tuchar) (Tcons tuint Tnil)))
                             tvoid cc_default))
    ((Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
       (tptr (Tstruct _kref noattr))) :: (Etempvar _kbuf (tptr tvoid)) ::
     (Etempvar _klen tuint) :: nil))
  (Ssequence
    (Ssequence
      (Sset _t'2 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
      (Ssequence
        (Sset _t'3
          (Efield
            (Ederef (Etempvar _t'2 (tptr (Tstruct _kvmap_api noattr)))
              (Tstruct _kvmap_api noattr)) _probe
            (tptr (Tfunction
                    (Tcons (tptr tvoid)
                      (Tcons (tptr (Tstruct _kref noattr)) Tnil)) tbool
                    cc_default))))
        (Scall (Some _t'1)
          (Etempvar _t'3 (tptr (Tfunction
                                 (Tcons (tptr tvoid)
                                   (Tcons (tptr (Tstruct _kref noattr)) Tnil))
                                 tbool cc_default)))
          ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
           (Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
             (tptr (Tstruct _kref noattr))) :: nil))))
    (Sreturn (Some (Etempvar _t'1 tbool)))))
|}.

Definition f_wh_inp_copy_value := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_curr, (tptr (Tstruct _kv noattr))) ::
                (_priv, (tptr tvoid)) :: nil);
  fn_vars := nil;
  fn_temps := ((_info, (tptr (Tstruct _wh_inp_info noattr))) ::
               (_copy_size, tuint) :: (_t'2, (tptr tvoid)) ::
               (_t'1, tuint) :: (_t'9, tuint) :: (_t'8, tuint) ::
               (_t'7, tuint) :: (_t'6, tuint) :: (_t'5, (tptr tvoid)) ::
               (_t'4, tuint) :: (_t'3, (tptr tuint)) :: nil);
  fn_body :=
(Sifthenelse (Etempvar _curr (tptr (Tstruct _kv noattr)))
  (Ssequence
    (Sset _info
      (Ecast (Etempvar _priv (tptr tvoid))
        (tptr (Tstruct _wh_inp_info noattr))))
    (Ssequence
      (Ssequence
        (Ssequence
          (Sset _t'6
            (Efield
              (Ederef (Etempvar _info (tptr (Tstruct _wh_inp_info noattr)))
                (Tstruct _wh_inp_info noattr)) _vbuf_size tuint))
          (Ssequence
            (Sset _t'7
              (Efield
                (Efield
                  (Efield
                    (Efield
                      (Ederef (Etempvar _curr (tptr (Tstruct _kv noattr)))
                        (Tstruct _kv noattr)) 18727075383868559167%positive
                      (Tunion __6646 noattr)) 18727075383868559167%positive
                    (Tstruct __6647 noattr)) 18727075383868559167%positive
                  (Tunion __6648 noattr)) _vlen tuint))
            (Sifthenelse (Ebinop Olt (Etempvar _t'6 tuint)
                           (Etempvar _t'7 tuint) tint)
              (Ssequence
                (Sset _t'9
                  (Efield
                    (Ederef
                      (Etempvar _info (tptr (Tstruct _wh_inp_info noattr)))
                      (Tstruct _wh_inp_info noattr)) _vbuf_size tuint))
                (Sset _t'1 (Ecast (Etempvar _t'9 tuint) tuint)))
              (Ssequence
                (Sset _t'8
                  (Efield
                    (Efield
                      (Efield
                        (Efield
                          (Ederef
                            (Etempvar _curr (tptr (Tstruct _kv noattr)))
                            (Tstruct _kv noattr))
                          18727075383868559167%positive
                          (Tunion __6646 noattr))
                        18727075383868559167%positive
                        (Tstruct __6647 noattr))
                      18727075383868559167%positive (Tunion __6648 noattr))
                    _vlen tuint))
                (Sset _t'1 (Ecast (Etempvar _t'8 tuint) tuint))))))
        (Sset _copy_size (Etempvar _t'1 tuint)))
      (Ssequence
        (Ssequence
          (Scall (Some _t'2)
            (Evar _kv_vptr_c (Tfunction
                               (Tcons (tptr (Tstruct _kv noattr)) Tnil)
                               (tptr tvoid) cc_default))
            ((Etempvar _curr (tptr (Tstruct _kv noattr))) :: nil))
          (Ssequence
            (Sset _t'5
              (Efield
                (Ederef (Etempvar _info (tptr (Tstruct _wh_inp_info noattr)))
                  (Tstruct _wh_inp_info noattr)) _vbuf_out (tptr tvoid)))
            (Scall None
              (Evar _memcpy (Tfunction
                              (Tcons (tptr tvoid)
                                (Tcons (tptr tvoid) (Tcons tulong Tnil)))
                              (tptr tvoid) cc_default))
              ((Etempvar _t'5 (tptr tvoid)) ::
               (Etempvar _t'2 (tptr tvoid)) :: (Etempvar _copy_size tuint) ::
               nil))))
        (Ssequence
          (Sset _t'3
            (Efield
              (Ederef (Etempvar _info (tptr (Tstruct _wh_inp_info noattr)))
                (Tstruct _wh_inp_info noattr)) _vlen_out (tptr tuint)))
          (Ssequence
            (Sset _t'4
              (Efield
                (Efield
                  (Efield
                    (Efield
                      (Ederef (Etempvar _curr (tptr (Tstruct _kv noattr)))
                        (Tstruct _kv noattr)) 18727075383868559167%positive
                      (Tunion __6646 noattr)) 18727075383868559167%positive
                    (Tstruct __6647 noattr)) 18727075383868559167%positive
                  (Tunion __6648 noattr)) _vlen tuint))
            (Sassign (Ederef (Etempvar _t'3 (tptr tuint)) tuint)
              (Etempvar _t'4 tuint)))))))
  Sskip)
|}.

Definition f_wh_get := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_kbuf, (tptr tvoid)) :: (_klen, tuint) ::
                (_vbuf_out, (tptr tvoid)) :: (_vbuf_size, tuint) ::
                (_vlen_out, (tptr tuint)) :: nil);
  fn_vars := ((_kref__1, (Tstruct _kref noattr)) ::
              (_info, (Tstruct _wh_inp_info noattr)) :: nil);
  fn_temps := ((_t'1, tbool) ::
               (_t'3,
                (tptr (Tfunction
                        (Tcons (tptr tvoid)
                          (Tcons (tptr (Tstruct _kref noattr))
                            (Tcons
                              (tptr (Tfunction
                                      (Tcons (tptr (Tstruct _kv noattr))
                                        (Tcons (tptr tvoid) Tnil)) tvoid
                                      cc_default)) (Tcons (tptr tvoid) Tnil))))
                        tbool cc_default))) ::
               (_t'2, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _kref_ref_hash32 (Tfunction
                             (Tcons (tptr (Tstruct _kref noattr))
                               (Tcons (tptr tuchar) (Tcons tuint Tnil)))
                             tvoid cc_default))
    ((Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
       (tptr (Tstruct _kref noattr))) :: (Etempvar _kbuf (tptr tvoid)) ::
     (Etempvar _klen tuint) :: nil))
  (Ssequence
    (Sassign
      (Efield (Evar _info (Tstruct _wh_inp_info noattr)) _vbuf_out
        (tptr tvoid)) (Etempvar _vbuf_out (tptr tvoid)))
    (Ssequence
      (Sassign
        (Efield (Evar _info (Tstruct _wh_inp_info noattr)) _vlen_out
          (tptr tuint)) (Etempvar _vlen_out (tptr tuint)))
      (Ssequence
        (Sassign
          (Efield (Evar _info (Tstruct _wh_inp_info noattr)) _vbuf_size
            tuint) (Etempvar _vbuf_size tuint))
        (Ssequence
          (Ssequence
            (Sset _t'2 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
            (Ssequence
              (Sset _t'3
                (Efield
                  (Ederef (Etempvar _t'2 (tptr (Tstruct _kvmap_api noattr)))
                    (Tstruct _kvmap_api noattr)) _inpr
                  (tptr (Tfunction
                          (Tcons (tptr tvoid)
                            (Tcons (tptr (Tstruct _kref noattr))
                              (Tcons
                                (tptr (Tfunction
                                        (Tcons (tptr (Tstruct _kv noattr))
                                          (Tcons (tptr tvoid) Tnil)) tvoid
                                        cc_default))
                                (Tcons (tptr tvoid) Tnil)))) tbool
                          cc_default))))
              (Scall (Some _t'1)
                (Etempvar _t'3 (tptr (Tfunction
                                       (Tcons (tptr tvoid)
                                         (Tcons (tptr (Tstruct _kref noattr))
                                           (Tcons
                                             (tptr (Tfunction
                                                     (Tcons
                                                       (tptr (Tstruct _kv noattr))
                                                       (Tcons (tptr tvoid)
                                                         Tnil)) tvoid
                                                     cc_default))
                                             (Tcons (tptr tvoid) Tnil))))
                                       tbool cc_default)))
                ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
                 (Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
                   (tptr (Tstruct _kref noattr))) ::
                 (Evar _wh_inp_copy_value (Tfunction
                                            (Tcons
                                              (tptr (Tstruct _kv noattr))
                                              (Tcons (tptr tvoid) Tnil))
                                            tvoid cc_default)) ::
                 (Eaddrof (Evar _info (Tstruct _wh_inp_info noattr))
                   (tptr (Tstruct _wh_inp_info noattr))) :: nil))))
          (Sreturn (Some (Etempvar _t'1 tbool))))))))
|}.

Definition f_wh_inpr := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_kbuf, (tptr tvoid)) :: (_klen, tuint) ::
                (_uf,
                 (tptr (Tfunction
                         (Tcons (tptr (Tstruct _kv noattr))
                           (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
                (_priv, (tptr tvoid)) :: nil);
  fn_vars := ((_kref__1, (Tstruct _kref noattr)) :: nil);
  fn_temps := ((_t'1, tbool) ::
               (_t'3,
                (tptr (Tfunction
                        (Tcons (tptr tvoid)
                          (Tcons (tptr (Tstruct _kref noattr))
                            (Tcons
                              (tptr (Tfunction
                                      (Tcons (tptr (Tstruct _kv noattr))
                                        (Tcons (tptr tvoid) Tnil)) tvoid
                                      cc_default)) (Tcons (tptr tvoid) Tnil))))
                        tbool cc_default))) ::
               (_t'2, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _kref_ref_hash32 (Tfunction
                             (Tcons (tptr (Tstruct _kref noattr))
                               (Tcons (tptr tuchar) (Tcons tuint Tnil)))
                             tvoid cc_default))
    ((Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
       (tptr (Tstruct _kref noattr))) :: (Etempvar _kbuf (tptr tvoid)) ::
     (Etempvar _klen tuint) :: nil))
  (Ssequence
    (Ssequence
      (Sset _t'2 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
      (Ssequence
        (Sset _t'3
          (Efield
            (Ederef (Etempvar _t'2 (tptr (Tstruct _kvmap_api noattr)))
              (Tstruct _kvmap_api noattr)) _inpr
            (tptr (Tfunction
                    (Tcons (tptr tvoid)
                      (Tcons (tptr (Tstruct _kref noattr))
                        (Tcons
                          (tptr (Tfunction
                                  (Tcons (tptr (Tstruct _kv noattr))
                                    (Tcons (tptr tvoid) Tnil)) tvoid
                                  cc_default)) (Tcons (tptr tvoid) Tnil))))
                    tbool cc_default))))
        (Scall (Some _t'1)
          (Etempvar _t'3 (tptr (Tfunction
                                 (Tcons (tptr tvoid)
                                   (Tcons (tptr (Tstruct _kref noattr))
                                     (Tcons
                                       (tptr (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _kv noattr))
                                                 (Tcons (tptr tvoid) Tnil))
                                               tvoid cc_default))
                                       (Tcons (tptr tvoid) Tnil)))) tbool
                                 cc_default)))
          ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
           (Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
             (tptr (Tstruct _kref noattr))) ::
           (Etempvar _uf (tptr (Tfunction
                                 (Tcons (tptr (Tstruct _kv noattr))
                                   (Tcons (tptr tvoid) Tnil)) tvoid
                                 cc_default))) ::
           (Etempvar _priv (tptr tvoid)) :: nil))))
    (Sreturn (Some (Etempvar _t'1 tbool)))))
|}.

Definition f_wh_inpw := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_kbuf, (tptr tvoid)) :: (_klen, tuint) ::
                (_uf,
                 (tptr (Tfunction
                         (Tcons (tptr (Tstruct _kv noattr))
                           (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
                (_priv, (tptr tvoid)) :: nil);
  fn_vars := ((_kref__1, (Tstruct _kref noattr)) :: nil);
  fn_temps := ((_t'1, tbool) ::
               (_t'3,
                (tptr (Tfunction
                        (Tcons (tptr tvoid)
                          (Tcons (tptr (Tstruct _kref noattr))
                            (Tcons
                              (tptr (Tfunction
                                      (Tcons (tptr (Tstruct _kv noattr))
                                        (Tcons (tptr tvoid) Tnil)) tvoid
                                      cc_default)) (Tcons (tptr tvoid) Tnil))))
                        tbool cc_default))) ::
               (_t'2, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _kref_ref_hash32 (Tfunction
                             (Tcons (tptr (Tstruct _kref noattr))
                               (Tcons (tptr tuchar) (Tcons tuint Tnil)))
                             tvoid cc_default))
    ((Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
       (tptr (Tstruct _kref noattr))) :: (Etempvar _kbuf (tptr tvoid)) ::
     (Etempvar _klen tuint) :: nil))
  (Ssequence
    (Ssequence
      (Sset _t'2 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
      (Ssequence
        (Sset _t'3
          (Efield
            (Ederef (Etempvar _t'2 (tptr (Tstruct _kvmap_api noattr)))
              (Tstruct _kvmap_api noattr)) _inpw
            (tptr (Tfunction
                    (Tcons (tptr tvoid)
                      (Tcons (tptr (Tstruct _kref noattr))
                        (Tcons
                          (tptr (Tfunction
                                  (Tcons (tptr (Tstruct _kv noattr))
                                    (Tcons (tptr tvoid) Tnil)) tvoid
                                  cc_default)) (Tcons (tptr tvoid) Tnil))))
                    tbool cc_default))))
        (Scall (Some _t'1)
          (Etempvar _t'3 (tptr (Tfunction
                                 (Tcons (tptr tvoid)
                                   (Tcons (tptr (Tstruct _kref noattr))
                                     (Tcons
                                       (tptr (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _kv noattr))
                                                 (Tcons (tptr tvoid) Tnil))
                                               tvoid cc_default))
                                       (Tcons (tptr tvoid) Tnil)))) tbool
                                 cc_default)))
          ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
           (Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
             (tptr (Tstruct _kref noattr))) ::
           (Etempvar _uf (tptr (Tfunction
                                 (Tcons (tptr (Tstruct _kv noattr))
                                   (Tcons (tptr tvoid) Tnil)) tvoid
                                 cc_default))) ::
           (Etempvar _priv (tptr tvoid)) :: nil))))
    (Sreturn (Some (Etempvar _t'1 tbool)))))
|}.

Definition f_wh_merge := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_kbuf, (tptr tvoid)) :: (_klen, tuint) ::
                (_uf,
                 (tptr (Tfunction
                         (Tcons (tptr (Tstruct _kv noattr))
                           (Tcons (tptr tvoid) Tnil))
                         (tptr (Tstruct _kv noattr)) cc_default))) ::
                (_priv, (tptr tvoid)) :: nil);
  fn_vars := ((_kref__1, (Tstruct _kref noattr)) :: nil);
  fn_temps := ((_t'1, tbool) ::
               (_t'3,
                (tptr (Tfunction
                        (Tcons (tptr tvoid)
                          (Tcons (tptr (Tstruct _kref noattr))
                            (Tcons
                              (tptr (Tfunction
                                      (Tcons (tptr (Tstruct _kv noattr))
                                        (Tcons (tptr tvoid) Tnil))
                                      (tptr (Tstruct _kv noattr)) cc_default))
                              (Tcons (tptr tvoid) Tnil)))) tbool cc_default))) ::
               (_t'2, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _kref_ref_hash32 (Tfunction
                             (Tcons (tptr (Tstruct _kref noattr))
                               (Tcons (tptr tuchar) (Tcons tuint Tnil)))
                             tvoid cc_default))
    ((Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
       (tptr (Tstruct _kref noattr))) :: (Etempvar _kbuf (tptr tvoid)) ::
     (Etempvar _klen tuint) :: nil))
  (Ssequence
    (Ssequence
      (Sset _t'2 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
      (Ssequence
        (Sset _t'3
          (Efield
            (Ederef (Etempvar _t'2 (tptr (Tstruct _kvmap_api noattr)))
              (Tstruct _kvmap_api noattr)) _merge
            (tptr (Tfunction
                    (Tcons (tptr tvoid)
                      (Tcons (tptr (Tstruct _kref noattr))
                        (Tcons
                          (tptr (Tfunction
                                  (Tcons (tptr (Tstruct _kv noattr))
                                    (Tcons (tptr tvoid) Tnil))
                                  (tptr (Tstruct _kv noattr)) cc_default))
                          (Tcons (tptr tvoid) Tnil)))) tbool cc_default))))
        (Scall (Some _t'1)
          (Etempvar _t'3 (tptr (Tfunction
                                 (Tcons (tptr tvoid)
                                   (Tcons (tptr (Tstruct _kref noattr))
                                     (Tcons
                                       (tptr (Tfunction
                                               (Tcons
                                                 (tptr (Tstruct _kv noattr))
                                                 (Tcons (tptr tvoid) Tnil))
                                               (tptr (Tstruct _kv noattr))
                                               cc_default))
                                       (Tcons (tptr tvoid) Tnil)))) tbool
                                 cc_default)))
          ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
           (Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
             (tptr (Tstruct _kref noattr))) ::
           (Etempvar _uf (tptr (Tfunction
                                 (Tcons (tptr (Tstruct _kv noattr))
                                   (Tcons (tptr tvoid) Tnil))
                                 (tptr (Tstruct _kv noattr)) cc_default))) ::
           (Etempvar _priv (tptr tvoid)) :: nil))))
    (Sreturn (Some (Etempvar _t'1 tbool)))))
|}.

Definition f_wh_delr := {|
  fn_return := tulong;
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) ::
                (_kbuf_start, (tptr tvoid)) :: (_klen_start, tuint) ::
                (_kbuf_end, (tptr tvoid)) :: (_klen_end, tuint) :: nil);
  fn_vars := ((_kref_start, (Tstruct _kref noattr)) ::
              (_kref_end, (Tstruct _kref noattr)) :: nil);
  fn_temps := ((_t'1, tulong) ::
               (_t'3,
                (tptr (Tfunction
                        (Tcons (tptr tvoid)
                          (Tcons (tptr (Tstruct _kref noattr))
                            (Tcons (tptr (Tstruct _kref noattr)) Tnil)))
                        tulong cc_default))) ::
               (_t'2, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _kref_ref_hash32 (Tfunction
                             (Tcons (tptr (Tstruct _kref noattr))
                               (Tcons (tptr tuchar) (Tcons tuint Tnil)))
                             tvoid cc_default))
    ((Eaddrof (Evar _kref_start (Tstruct _kref noattr))
       (tptr (Tstruct _kref noattr))) ::
     (Etempvar _kbuf_start (tptr tvoid)) :: (Etempvar _klen_start tuint) ::
     nil))
  (Ssequence
    (Scall None
      (Evar _kref_ref_hash32 (Tfunction
                               (Tcons (tptr (Tstruct _kref noattr))
                                 (Tcons (tptr tuchar) (Tcons tuint Tnil)))
                               tvoid cc_default))
      ((Eaddrof (Evar _kref_end (Tstruct _kref noattr))
         (tptr (Tstruct _kref noattr))) ::
       (Etempvar _kbuf_end (tptr tvoid)) :: (Etempvar _klen_end tuint) ::
       nil))
    (Ssequence
      (Ssequence
        (Sset _t'2 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
        (Ssequence
          (Sset _t'3
            (Efield
              (Ederef (Etempvar _t'2 (tptr (Tstruct _kvmap_api noattr)))
                (Tstruct _kvmap_api noattr)) _delr
              (tptr (Tfunction
                      (Tcons (tptr tvoid)
                        (Tcons (tptr (Tstruct _kref noattr))
                          (Tcons (tptr (Tstruct _kref noattr)) Tnil))) tulong
                      cc_default))))
          (Scall (Some _t'1)
            (Etempvar _t'3 (tptr (Tfunction
                                   (Tcons (tptr tvoid)
                                     (Tcons (tptr (Tstruct _kref noattr))
                                       (Tcons (tptr (Tstruct _kref noattr))
                                         Tnil))) tulong cc_default)))
            ((Etempvar _ref (tptr (Tstruct _wormref noattr))) ::
             (Eaddrof (Evar _kref_start (Tstruct _kref noattr))
               (tptr (Tstruct _kref noattr))) ::
             (Eaddrof (Evar _kref_end (Tstruct _kref noattr))
               (tptr (Tstruct _kref noattr))) :: nil))))
      (Sreturn (Some (Etempvar _t'1 tulong))))))
|}.

Definition f_wh_iter_create := {|
  fn_return := (tptr (Tstruct _wormhole_iter noattr));
  fn_callconv := cc_default;
  fn_params := ((_ref, (tptr (Tstruct _wormref noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, (tptr tvoid)) ::
               (_t'3,
                (tptr (Tfunction (Tcons (tptr tvoid) Tnil) (tptr tvoid)
                        cc_default))) ::
               (_t'2, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'2 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
    (Ssequence
      (Sset _t'3
        (Efield
          (Ederef (Etempvar _t'2 (tptr (Tstruct _kvmap_api noattr)))
            (Tstruct _kvmap_api noattr)) _iter_create
          (tptr (Tfunction (Tcons (tptr tvoid) Tnil) (tptr tvoid) cc_default))))
      (Scall (Some _t'1)
        (Etempvar _t'3 (tptr (Tfunction (Tcons (tptr tvoid) Tnil)
                               (tptr tvoid) cc_default)))
        ((Etempvar _ref (tptr (Tstruct _wormref noattr))) :: nil))))
  (Sreturn (Some (Etempvar _t'1 (tptr tvoid)))))
|}.

Definition f_wh_iter_seek := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) ::
                (_kbuf, (tptr tvoid)) :: (_klen, tuint) :: nil);
  fn_vars := ((_kref__1, (Tstruct _kref noattr)) :: nil);
  fn_temps := ((_t'2,
                (tptr (Tfunction
                        (Tcons (tptr tvoid)
                          (Tcons (tptr (Tstruct _kref noattr)) Tnil)) tvoid
                        cc_default))) ::
               (_t'1, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Scall None
    (Evar _kref_ref_hash32 (Tfunction
                             (Tcons (tptr (Tstruct _kref noattr))
                               (Tcons (tptr tuchar) (Tcons tuint Tnil)))
                             tvoid cc_default))
    ((Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
       (tptr (Tstruct _kref noattr))) :: (Etempvar _kbuf (tptr tvoid)) ::
     (Etempvar _klen tuint) :: nil))
  (Ssequence
    (Sset _t'1 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
    (Ssequence
      (Sset _t'2
        (Efield
          (Ederef (Etempvar _t'1 (tptr (Tstruct _kvmap_api noattr)))
            (Tstruct _kvmap_api noattr)) _iter_seek
          (tptr (Tfunction
                  (Tcons (tptr tvoid)
                    (Tcons (tptr (Tstruct _kref noattr)) Tnil)) tvoid
                  cc_default))))
      (Scall None
        (Etempvar _t'2 (tptr (Tfunction
                               (Tcons (tptr tvoid)
                                 (Tcons (tptr (Tstruct _kref noattr)) Tnil))
                               tvoid cc_default)))
        ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) ::
         (Eaddrof (Evar _kref__1 (Tstruct _kref noattr))
           (tptr (Tstruct _kref noattr))) :: nil)))))
|}.

Definition f_wh_iter_valid := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tbool) ::
               (_t'3,
                (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tbool cc_default))) ::
               (_t'2, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'2 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
    (Ssequence
      (Sset _t'3
        (Efield
          (Ederef (Etempvar _t'2 (tptr (Tstruct _kvmap_api noattr)))
            (Tstruct _kvmap_api noattr)) _iter_valid
          (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tbool cc_default))))
      (Scall (Some _t'1)
        (Etempvar _t'3 (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tbool
                               cc_default)))
        ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil))))
  (Sreturn (Some (Etempvar _t'1 tbool))))
|}.

Definition f_inp_copy_kv_cb := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_curr, (tptr (Tstruct _kv noattr))) ::
                (_priv, (tptr tvoid)) :: nil);
  fn_vars := nil;
  fn_temps := ((_info, (tptr (Tstruct _wh_iter_inp_info noattr))) ::
               (_clen, tuint) :: (_clen__1, tuint) :: (_t'4, (tptr tvoid)) ::
               (_t'3, tuint) :: (_t'2, (tptr tvoid)) :: (_t'1, tuint) ::
               (_t'20, tuint) :: (_t'19, tuint) :: (_t'18, tuint) ::
               (_t'17, tuint) :: (_t'16, (tptr tvoid)) :: (_t'15, tuint) ::
               (_t'14, (tptr tuint)) :: (_t'13, (tptr tvoid)) ::
               (_t'12, tuint) :: (_t'11, tuint) :: (_t'10, tuint) ::
               (_t'9, tuint) :: (_t'8, (tptr tvoid)) :: (_t'7, tuint) ::
               (_t'6, (tptr tuint)) :: (_t'5, (tptr tvoid)) :: nil);
  fn_body :=
(Sifthenelse (Etempvar _curr (tptr (Tstruct _kv noattr)))
  (Ssequence
    (Sset _info
      (Ecast (Etempvar _priv (tptr tvoid))
        (tptr (Tstruct _wh_inp_info noattr))))
    (Ssequence
      (Ssequence
        (Sset _t'13
          (Efield
            (Ederef
              (Etempvar _info (tptr (Tstruct _wh_iter_inp_info noattr)))
              (Tstruct _wh_iter_inp_info noattr)) _kbuf_out (tptr tvoid)))
        (Sifthenelse (Etempvar _t'13 (tptr tvoid))
          (Ssequence
            (Ssequence
              (Ssequence
                (Sset _t'17
                  (Efield
                    (Efield
                      (Efield
                        (Ederef (Etempvar _curr (tptr (Tstruct _kv noattr)))
                          (Tstruct _kv noattr)) 18727075383868559167%positive
                        (Tunion __6646 noattr)) 18727075383868559167%positive
                      (Tstruct __6647 noattr)) _klen tuint))
                (Ssequence
                  (Sset _t'18
                    (Efield
                      (Ederef
                        (Etempvar _info (tptr (Tstruct _wh_iter_inp_info noattr)))
                        (Tstruct _wh_iter_inp_info noattr)) _kbuf_size tuint))
                  (Sifthenelse (Ebinop Olt (Etempvar _t'17 tuint)
                                 (Etempvar _t'18 tuint) tint)
                    (Ssequence
                      (Sset _t'20
                        (Efield
                          (Efield
                            (Efield
                              (Ederef
                                (Etempvar _curr (tptr (Tstruct _kv noattr)))
                                (Tstruct _kv noattr))
                              18727075383868559167%positive
                              (Tunion __6646 noattr))
                            18727075383868559167%positive
                            (Tstruct __6647 noattr)) _klen tuint))
                      (Sset _t'1 (Ecast (Etempvar _t'20 tuint) tuint)))
                    (Ssequence
                      (Sset _t'19
                        (Efield
                          (Ederef
                            (Etempvar _info (tptr (Tstruct _wh_iter_inp_info noattr)))
                            (Tstruct _wh_iter_inp_info noattr)) _kbuf_size
                          tuint))
                      (Sset _t'1 (Ecast (Etempvar _t'19 tuint) tuint))))))
              (Sset _clen (Etempvar _t'1 tuint)))
            (Ssequence
              (Ssequence
                (Scall (Some _t'2)
                  (Evar _kv_kptr_c (Tfunction
                                     (Tcons (tptr (Tstruct _kv noattr)) Tnil)
                                     (tptr tvoid) cc_default))
                  ((Etempvar _curr (tptr (Tstruct _kv noattr))) :: nil))
                (Ssequence
                  (Sset _t'16
                    (Efield
                      (Ederef
                        (Etempvar _info (tptr (Tstruct _wh_iter_inp_info noattr)))
                        (Tstruct _wh_iter_inp_info noattr)) _kbuf_out
                      (tptr tvoid)))
                  (Scall None
                    (Evar _memcpy (Tfunction
                                    (Tcons (tptr tvoid)
                                      (Tcons (tptr tvoid)
                                        (Tcons tulong Tnil))) (tptr tvoid)
                                    cc_default))
                    ((Etempvar _t'16 (tptr tvoid)) ::
                     (Etempvar _t'2 (tptr tvoid)) ::
                     (Etempvar _clen tuint) :: nil))))
              (Ssequence
                (Sset _t'14
                  (Efield
                    (Ederef
                      (Etempvar _info (tptr (Tstruct _wh_iter_inp_info noattr)))
                      (Tstruct _wh_iter_inp_info noattr)) _klen_out
                    (tptr tuint)))
                (Ssequence
                  (Sset _t'15
                    (Efield
                      (Efield
                        (Efield
                          (Ederef
                            (Etempvar _curr (tptr (Tstruct _kv noattr)))
                            (Tstruct _kv noattr))
                          18727075383868559167%positive
                          (Tunion __6646 noattr))
                        18727075383868559167%positive
                        (Tstruct __6647 noattr)) _klen tuint))
                  (Sassign (Ederef (Etempvar _t'14 (tptr tuint)) tuint)
                    (Etempvar _t'15 tuint))))))
          Sskip))
      (Ssequence
        (Sset _t'5
          (Efield
            (Ederef
              (Etempvar _info (tptr (Tstruct _wh_iter_inp_info noattr)))
              (Tstruct _wh_iter_inp_info noattr)) _vbuf_out (tptr tvoid)))
        (Sifthenelse (Etempvar _t'5 (tptr tvoid))
          (Ssequence
            (Ssequence
              (Ssequence
                (Sset _t'9
                  (Efield
                    (Efield
                      (Efield
                        (Efield
                          (Ederef
                            (Etempvar _curr (tptr (Tstruct _kv noattr)))
                            (Tstruct _kv noattr))
                          18727075383868559167%positive
                          (Tunion __6646 noattr))
                        18727075383868559167%positive
                        (Tstruct __6647 noattr))
                      18727075383868559167%positive (Tunion __6648 noattr))
                    _vlen tuint))
                (Ssequence
                  (Sset _t'10
                    (Efield
                      (Ederef
                        (Etempvar _info (tptr (Tstruct _wh_iter_inp_info noattr)))
                        (Tstruct _wh_iter_inp_info noattr)) _vbuf_size tuint))
                  (Sifthenelse (Ebinop Olt (Etempvar _t'9 tuint)
                                 (Etempvar _t'10 tuint) tint)
                    (Ssequence
                      (Sset _t'12
                        (Efield
                          (Efield
                            (Efield
                              (Efield
                                (Ederef
                                  (Etempvar _curr (tptr (Tstruct _kv noattr)))
                                  (Tstruct _kv noattr))
                                18727075383868559167%positive
                                (Tunion __6646 noattr))
                              18727075383868559167%positive
                              (Tstruct __6647 noattr))
                            18727075383868559167%positive
                            (Tunion __6648 noattr)) _vlen tuint))
                      (Sset _t'3 (Ecast (Etempvar _t'12 tuint) tuint)))
                    (Ssequence
                      (Sset _t'11
                        (Efield
                          (Ederef
                            (Etempvar _info (tptr (Tstruct _wh_iter_inp_info noattr)))
                            (Tstruct _wh_iter_inp_info noattr)) _vbuf_size
                          tuint))
                      (Sset _t'3 (Ecast (Etempvar _t'11 tuint) tuint))))))
              (Sset _clen__1 (Etempvar _t'3 tuint)))
            (Ssequence
              (Ssequence
                (Scall (Some _t'4)
                  (Evar _kv_vptr_c (Tfunction
                                     (Tcons (tptr (Tstruct _kv noattr)) Tnil)
                                     (tptr tvoid) cc_default))
                  ((Etempvar _curr (tptr (Tstruct _kv noattr))) :: nil))
                (Ssequence
                  (Sset _t'8
                    (Efield
                      (Ederef
                        (Etempvar _info (tptr (Tstruct _wh_iter_inp_info noattr)))
                        (Tstruct _wh_iter_inp_info noattr)) _vbuf_out
                      (tptr tvoid)))
                  (Scall None
                    (Evar _memcpy (Tfunction
                                    (Tcons (tptr tvoid)
                                      (Tcons (tptr tvoid)
                                        (Tcons tulong Tnil))) (tptr tvoid)
                                    cc_default))
                    ((Etempvar _t'8 (tptr tvoid)) ::
                     (Etempvar _t'4 (tptr tvoid)) ::
                     (Etempvar _clen__1 tuint) :: nil))))
              (Ssequence
                (Sset _t'6
                  (Efield
                    (Ederef
                      (Etempvar _info (tptr (Tstruct _wh_iter_inp_info noattr)))
                      (Tstruct _wh_iter_inp_info noattr)) _vlen_out
                    (tptr tuint)))
                (Ssequence
                  (Sset _t'7
                    (Efield
                      (Efield
                        (Efield
                          (Efield
                            (Ederef
                              (Etempvar _curr (tptr (Tstruct _kv noattr)))
                              (Tstruct _kv noattr))
                            18727075383868559167%positive
                            (Tunion __6646 noattr))
                          18727075383868559167%positive
                          (Tstruct __6647 noattr))
                        18727075383868559167%positive (Tunion __6648 noattr))
                      _vlen tuint))
                  (Sassign (Ederef (Etempvar _t'6 (tptr tuint)) tuint)
                    (Etempvar _t'7 tuint))))))
          Sskip))))
  Sskip)
|}.

Definition f_wh_iter_peek := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) ::
                (_kbuf_out, (tptr tvoid)) :: (_kbuf_size, tuint) ::
                (_klen_out, (tptr tuint)) :: (_vbuf_out, (tptr tvoid)) ::
                (_vbuf_size, tuint) :: (_vlen_out, (tptr tuint)) :: nil);
  fn_vars := ((_info, (Tstruct _wh_iter_inp_info noattr)) :: nil);
  fn_temps := ((_t'1, tbool) ::
               (_t'3,
                (tptr (Tfunction
                        (Tcons (tptr tvoid)
                          (Tcons
                            (tptr (Tfunction
                                    (Tcons (tptr (Tstruct _kv noattr))
                                      (Tcons (tptr tvoid) Tnil)) tvoid
                                    cc_default)) (Tcons (tptr tvoid) Tnil)))
                        tbool cc_default))) ::
               (_t'2, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sassign
    (Efield (Evar _info (Tstruct _wh_iter_inp_info noattr)) _kbuf_out
      (tptr tvoid)) (Etempvar _kbuf_out (tptr tvoid)))
  (Ssequence
    (Sassign
      (Efield (Evar _info (Tstruct _wh_iter_inp_info noattr)) _vbuf_out
        (tptr tvoid)) (Etempvar _vbuf_out (tptr tvoid)))
    (Ssequence
      (Sassign
        (Efield (Evar _info (Tstruct _wh_iter_inp_info noattr)) _kbuf_size
          tuint) (Etempvar _kbuf_size tuint))
      (Ssequence
        (Sassign
          (Efield (Evar _info (Tstruct _wh_iter_inp_info noattr)) _vbuf_size
            tuint) (Etempvar _vbuf_size tuint))
        (Ssequence
          (Sassign
            (Efield (Evar _info (Tstruct _wh_iter_inp_info noattr)) _klen_out
              (tptr tuint)) (Etempvar _klen_out (tptr tuint)))
          (Ssequence
            (Sassign
              (Efield (Evar _info (Tstruct _wh_iter_inp_info noattr))
                _vlen_out (tptr tuint)) (Etempvar _vlen_out (tptr tuint)))
            (Ssequence
              (Ssequence
                (Sset _t'2 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
                (Ssequence
                  (Sset _t'3
                    (Efield
                      (Ederef
                        (Etempvar _t'2 (tptr (Tstruct _kvmap_api noattr)))
                        (Tstruct _kvmap_api noattr)) _iter_inp
                      (tptr (Tfunction
                              (Tcons (tptr tvoid)
                                (Tcons
                                  (tptr (Tfunction
                                          (Tcons (tptr (Tstruct _kv noattr))
                                            (Tcons (tptr tvoid) Tnil)) tvoid
                                          cc_default))
                                  (Tcons (tptr tvoid) Tnil))) tbool
                              cc_default))))
                  (Scall (Some _t'1)
                    (Etempvar _t'3 (tptr (Tfunction
                                           (Tcons (tptr tvoid)
                                             (Tcons
                                               (tptr (Tfunction
                                                       (Tcons
                                                         (tptr (Tstruct _kv noattr))
                                                         (Tcons (tptr tvoid)
                                                           Tnil)) tvoid
                                                       cc_default))
                                               (Tcons (tptr tvoid) Tnil)))
                                           tbool cc_default)))
                    ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) ::
                     (Evar _inp_copy_kv_cb (Tfunction
                                             (Tcons
                                               (tptr (Tstruct _kv noattr))
                                               (Tcons (tptr tvoid) Tnil))
                                             tvoid cc_default)) ::
                     (Eaddrof (Evar _info (Tstruct _wh_iter_inp_info noattr))
                       (tptr (Tstruct _wh_iter_inp_info noattr))) :: nil))))
              (Sreturn (Some (Etempvar _t'1 tbool))))))))))
|}.

Definition f_wh_iter_skip1 := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'2,
                (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))) ::
               (_t'1, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
  (Ssequence
    (Sset _t'2
      (Efield
        (Ederef (Etempvar _t'1 (tptr (Tstruct _kvmap_api noattr)))
          (Tstruct _kvmap_api noattr)) _iter_skip1
        (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))))
    (Scall None
      (Etempvar _t'2 (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid
                             cc_default)))
      ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil))))
|}.

Definition f_wh_iter_skip := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) ::
                (_nr, tuint) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'2,
                (tptr (Tfunction (Tcons (tptr tvoid) (Tcons tuint Tnil))
                        tvoid cc_default))) ::
               (_t'1, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
  (Ssequence
    (Sset _t'2
      (Efield
        (Ederef (Etempvar _t'1 (tptr (Tstruct _kvmap_api noattr)))
          (Tstruct _kvmap_api noattr)) _iter_skip
        (tptr (Tfunction (Tcons (tptr tvoid) (Tcons tuint Tnil)) tvoid
                cc_default))))
    (Scall None
      (Etempvar _t'2 (tptr (Tfunction (Tcons (tptr tvoid) (Tcons tuint Tnil))
                             tvoid cc_default)))
      ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) ::
       (Etempvar _nr tuint) :: nil))))
|}.

Definition f_wh_iter_inp := {|
  fn_return := tbool;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) ::
                (_uf,
                 (tptr (Tfunction
                         (Tcons (tptr (Tstruct _kv noattr))
                           (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
                (_priv, (tptr tvoid)) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'1, tbool) ::
               (_t'3,
                (tptr (Tfunction
                        (Tcons (tptr tvoid)
                          (Tcons
                            (tptr (Tfunction
                                    (Tcons (tptr (Tstruct _kv noattr))
                                      (Tcons (tptr tvoid) Tnil)) tvoid
                                    cc_default)) (Tcons (tptr tvoid) Tnil)))
                        tbool cc_default))) ::
               (_t'2, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Ssequence
    (Sset _t'2 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
    (Ssequence
      (Sset _t'3
        (Efield
          (Ederef (Etempvar _t'2 (tptr (Tstruct _kvmap_api noattr)))
            (Tstruct _kvmap_api noattr)) _iter_inp
          (tptr (Tfunction
                  (Tcons (tptr tvoid)
                    (Tcons
                      (tptr (Tfunction
                              (Tcons (tptr (Tstruct _kv noattr))
                                (Tcons (tptr tvoid) Tnil)) tvoid cc_default))
                      (Tcons (tptr tvoid) Tnil))) tbool cc_default))))
      (Scall (Some _t'1)
        (Etempvar _t'3 (tptr (Tfunction
                               (Tcons (tptr tvoid)
                                 (Tcons
                                   (tptr (Tfunction
                                           (Tcons (tptr (Tstruct _kv noattr))
                                             (Tcons (tptr tvoid) Tnil)) tvoid
                                           cc_default))
                                   (Tcons (tptr tvoid) Tnil))) tbool
                               cc_default)))
        ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) ::
         (Etempvar _uf (tptr (Tfunction
                               (Tcons (tptr (Tstruct _kv noattr))
                                 (Tcons (tptr tvoid) Tnil)) tvoid cc_default))) ::
         (Etempvar _priv (tptr tvoid)) :: nil))))
  (Sreturn (Some (Etempvar _t'1 tbool))))
|}.

Definition f_wh_iter_park := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'2,
                (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))) ::
               (_t'1, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
  (Ssequence
    (Sset _t'2
      (Efield
        (Ederef (Etempvar _t'1 (tptr (Tstruct _kvmap_api noattr)))
          (Tstruct _kvmap_api noattr)) _iter_park
        (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))))
    (Scall None
      (Etempvar _t'2 (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid
                             cc_default)))
      ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil))))
|}.

Definition f_wh_iter_destroy := {|
  fn_return := tvoid;
  fn_callconv := cc_default;
  fn_params := ((_iter, (tptr (Tstruct _wormhole_iter noattr))) :: nil);
  fn_vars := nil;
  fn_temps := ((_t'2,
                (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))) ::
               (_t'1, (tptr (Tstruct _kvmap_api noattr))) :: nil);
  fn_body :=
(Ssequence
  (Sset _t'1 (Evar _wh_api (tptr (Tstruct _kvmap_api noattr))))
  (Ssequence
    (Sset _t'2
      (Efield
        (Ederef (Etempvar _t'1 (tptr (Tstruct _kvmap_api noattr)))
          (Tstruct _kvmap_api noattr)) _iter_destroy
        (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))))
    (Scall None
      (Etempvar _t'2 (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid
                             cc_default)))
      ((Etempvar _iter (tptr (Tstruct _wormhole_iter noattr))) :: nil))))
|}.

Definition composites : list composite_definition :=
(Composite __IO_FILE Struct
   ((__flags, tint) :: (__IO_read_ptr, (tptr tschar)) ::
    (__IO_read_end, (tptr tschar)) :: (__IO_read_base, (tptr tschar)) ::
    (__IO_write_base, (tptr tschar)) :: (__IO_write_ptr, (tptr tschar)) ::
    (__IO_write_end, (tptr tschar)) :: (__IO_buf_base, (tptr tschar)) ::
    (__IO_buf_end, (tptr tschar)) :: (__IO_save_base, (tptr tschar)) ::
    (__IO_backup_base, (tptr tschar)) :: (__IO_save_end, (tptr tschar)) ::
    (__markers, (tptr (Tstruct __IO_marker noattr))) ::
    (__chain, (tptr (Tstruct __IO_FILE noattr))) :: (__fileno, tint) ::
    (__flags2, tint) :: (__old_offset, tlong) :: (__cur_column, tushort) ::
    (__vtable_offset, tschar) :: (__shortbuf, (tarray tschar 1)) ::
    (__lock, (tptr tvoid)) :: (__offset, tlong) ::
    (__codecvt, (tptr (Tstruct __IO_codecvt noattr))) ::
    (__wide_data, (tptr (Tstruct __IO_wide_data noattr))) ::
    (__freeres_list, (tptr (Tstruct __IO_FILE noattr))) ::
    (__freeres_buf, (tptr tvoid)) :: (___pad5, tulong) :: (__mode, tint) ::
    (__unused2, (tarray tschar 20)) :: nil)
   noattr ::
 Composite __m128 Struct ((_a, tulong) :: (_b, tulong) :: nil) noattr ::
 Composite __6323 Union ((_opaque, tuint) :: nil) noattr ::
 Composite __6333 Union ((_opaque, tuint) :: nil) noattr ::
 Composite __6499 Struct ((_e1_64, tulong) :: (_e3, tulong) :: nil) noattr ::
 Composite __6498 Union
   ((_e1, tushort) ::
    (18727075383868559167%positive, (Tstruct __6499 noattr)) ::
    (_v64, tulong) :: (_ptr, (tptr tvoid)) :: nil)
   noattr ::
 Composite _entry13__1 Struct
   ((18727075383868559167%positive, (Tunion __6498 noattr)) :: nil)
   noattr ::
 Composite _qsbr_ref Struct ((_opaque, (tarray tulong 3)) :: nil) noattr ::
 Composite __6648 Union ((_vlen, tuint) :: (_refcnt, tuint) :: nil) noattr ::
 Composite __6647 Struct
   ((_klen, tuint) ::
    (18727075383868559167%positive, (Tunion __6648 noattr)) :: nil)
   noattr ::
 Composite __6646 Union
   ((_kvlen, tulong) ::
    (18727075383868559167%positive, (Tstruct __6647 noattr)) :: nil)
   noattr ::
 Composite __6650 Struct ((_hashlo, tuint) :: (_hashhi, tuint) :: nil) noattr ::
 Composite __6651 Struct ((_privlo, tuint) :: (_privhi, tuint) :: nil) noattr ::
 Composite __6649 Union
   ((_hash, tulong) :: (_priv, tulong) :: (_privptr, (tptr tvoid)) ::
    (18727075383868559167%positive, (Tstruct __6650 noattr)) ::
    (19015305760020270911%positive, (Tstruct __6651 noattr)) :: nil)
   noattr ::
 Composite _kv Struct
   ((18727075383868559167%positive, (Tunion __6646 noattr)) ::
    (19015305760020270911%positive, (Tunion __6649 noattr)) ::
    (_kv, (tarray tuchar 0)) :: nil)
   noattr ::
 Composite __6653 Union ((_hash32, tuint) :: (_priv, tuint) :: nil) noattr ::
 Composite _kref Struct
   ((_len, tuint) ::
    (18727075383868559167%positive, (Tunion __6653 noattr)) ::
    (_ptr, (tptr tuchar)) :: nil)
   noattr ::
 Composite _kvref Struct
   ((_kptr, (tptr tuchar)) :: (_vptr, (tptr tuchar)) ::
    (_hdr, (Tstruct _kv noattr)) :: nil)
   noattr ::
 Composite _kvmap_mm Struct
   ((_in,
     (tptr (Tfunction
             (Tcons (tptr (Tstruct _kv noattr)) (Tcons (tptr tvoid) Tnil))
             (tptr (Tstruct _kv noattr)) cc_default))) ::
    (_out,
     (tptr (Tfunction
             (Tcons (tptr (Tstruct _kv noattr))
               (Tcons (tptr (Tstruct _kv noattr)) Tnil))
             (tptr (Tstruct _kv noattr)) cc_default))) ::
    (_free,
     (tptr (Tfunction
             (Tcons (tptr (Tstruct _kv noattr)) (Tcons (tptr tvoid) Tnil))
             tvoid cc_default))) :: (_priv, (tptr tvoid)) :: nil)
   noattr ::
 Composite _kvmap_api Struct
   ((_hashkey, tbool) :: (_ordered, tbool) :: (_threadsafe, tbool) ::
    (_readonly, tbool) :: (_irefsafe, tbool) :: (_unique, tbool) ::
    (_refpark, tbool) :: (_async, tbool) ::
    (_put,
     (tptr (Tfunction
             (Tcons (tptr tvoid) (Tcons (tptr (Tstruct _kv noattr)) Tnil))
             tbool cc_default))) ::
    (_get,
     (tptr (Tfunction
             (Tcons (tptr tvoid)
               (Tcons (tptr (Tstruct _kref noattr))
                 (Tcons (tptr (Tstruct _kv noattr)) Tnil)))
             (tptr (Tstruct _kv noattr)) cc_default))) ::
    (_probe,
     (tptr (Tfunction
             (Tcons (tptr tvoid) (Tcons (tptr (Tstruct _kref noattr)) Tnil))
             tbool cc_default))) ::
    (_del,
     (tptr (Tfunction
             (Tcons (tptr tvoid) (Tcons (tptr (Tstruct _kref noattr)) Tnil))
             tbool cc_default))) ::
    (_inpr,
     (tptr (Tfunction
             (Tcons (tptr tvoid)
               (Tcons (tptr (Tstruct _kref noattr))
                 (Tcons
                   (tptr (Tfunction
                           (Tcons (tptr (Tstruct _kv noattr))
                             (Tcons (tptr tvoid) Tnil)) tvoid cc_default))
                   (Tcons (tptr tvoid) Tnil)))) tbool cc_default))) ::
    (_inpw,
     (tptr (Tfunction
             (Tcons (tptr tvoid)
               (Tcons (tptr (Tstruct _kref noattr))
                 (Tcons
                   (tptr (Tfunction
                           (Tcons (tptr (Tstruct _kv noattr))
                             (Tcons (tptr tvoid) Tnil)) tvoid cc_default))
                   (Tcons (tptr tvoid) Tnil)))) tbool cc_default))) ::
    (_merge,
     (tptr (Tfunction
             (Tcons (tptr tvoid)
               (Tcons (tptr (Tstruct _kref noattr))
                 (Tcons
                   (tptr (Tfunction
                           (Tcons (tptr (Tstruct _kv noattr))
                             (Tcons (tptr tvoid) Tnil))
                           (tptr (Tstruct _kv noattr)) cc_default))
                   (Tcons (tptr tvoid) Tnil)))) tbool cc_default))) ::
    (_delr,
     (tptr (Tfunction
             (Tcons (tptr tvoid)
               (Tcons (tptr (Tstruct _kref noattr))
                 (Tcons (tptr (Tstruct _kref noattr)) Tnil))) tulong
             cc_default))) ::
    (_sync, (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))) ::
    (_iter_create,
     (tptr (Tfunction (Tcons (tptr tvoid) Tnil) (tptr tvoid) cc_default))) ::
    (_iter_seek,
     (tptr (Tfunction
             (Tcons (tptr tvoid) (Tcons (tptr (Tstruct _kref noattr)) Tnil))
             tvoid cc_default))) ::
    (_iter_valid,
     (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tbool cc_default))) ::
    (_iter_peek,
     (tptr (Tfunction
             (Tcons (tptr tvoid) (Tcons (tptr (Tstruct _kv noattr)) Tnil))
             (tptr (Tstruct _kv noattr)) cc_default))) ::
    (_iter_kref,
     (tptr (Tfunction
             (Tcons (tptr tvoid) (Tcons (tptr (Tstruct _kref noattr)) Tnil))
             tbool cc_default))) ::
    (_iter_kvref,
     (tptr (Tfunction
             (Tcons (tptr tvoid) (Tcons (tptr (Tstruct _kvref noattr)) Tnil))
             tbool cc_default))) ::
    (_iter_retain,
     (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tulong cc_default))) ::
    (_iter_release,
     (tptr (Tfunction (Tcons (tptr tvoid) (Tcons tulong Tnil)) tvoid
             cc_default))) ::
    (_iter_skip1,
     (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))) ::
    (_iter_skip,
     (tptr (Tfunction (Tcons (tptr tvoid) (Tcons tuint Tnil)) tvoid
             cc_default))) ::
    (_iter_next,
     (tptr (Tfunction
             (Tcons (tptr tvoid) (Tcons (tptr (Tstruct _kv noattr)) Tnil))
             (tptr (Tstruct _kv noattr)) cc_default))) ::
    (_iter_inp,
     (tptr (Tfunction
             (Tcons (tptr tvoid)
               (Tcons
                 (tptr (Tfunction
                         (Tcons (tptr (Tstruct _kv noattr))
                           (Tcons (tptr tvoid) Tnil)) tvoid cc_default))
                 (Tcons (tptr tvoid) Tnil))) tbool cc_default))) ::
    (_iter_park,
     (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))) ::
    (_iter_destroy,
     (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))) ::
    (_ref,
     (tptr (Tfunction (Tcons (tptr tvoid) Tnil) (tptr tvoid) cc_default))) ::
    (_unref,
     (tptr (Tfunction (Tcons (tptr tvoid) Tnil) (tptr tvoid) cc_default))) ::
    (_park, (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))) ::
    (_resume, (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))) ::
    (_clean, (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))) ::
    (_destroy, (tptr (Tfunction (Tcons (tptr tvoid) Tnil) tvoid cc_default))) ::
    (_fprint,
     (tptr (Tfunction
             (Tcons (tptr tvoid)
               (Tcons (tptr (Tstruct __IO_FILE noattr)) Tnil)) tvoid
             cc_default))) :: nil)
   noattr ::
 Composite _wormmeta Struct
   ((_k13, (Tstruct _entry13__1 noattr)) ::
    (_l13, (Tstruct _entry13__1 noattr)) ::
    (_r13, (Tstruct _entry13__1 noattr)) ::
    (_p13, (Tstruct _entry13__1 noattr)) :: (_bitmap, (tarray tulong 0)) ::
    nil)
   noattr ::
 Composite _wormleaf Struct
   ((_leaflock, (Tunion __6333 noattr)) ::
    (_sortlock, (Tunion __6323 noattr)) :: (_lv, tlong) ::
    (_prev, (tptr (Tstruct _wormleaf noattr))) ::
    (_next, (tptr (Tstruct _wormleaf noattr))) ::
    (_anchor, (tptr (Tstruct _kv noattr))) :: (_nr_sorted, tuint) ::
    (_nr_keys, tuint) :: (_reserved, (tarray tulong 2)) ::
    (_hs, (tarray (Tstruct _entry13__1 noattr) 128)) ::
    (_ss, (tarray tuchar 128)) :: nil)
   noattr ::
 Composite _wormslot Struct ((_t, (tarray tushort 8)) :: nil) noattr ::
 Composite _wormmbkt Struct
   ((_e, (tarray (tptr (Tstruct _wormmeta noattr)) 8)) :: nil)
   noattr ::
 Composite _wormhmap Struct
   ((_hv, tlong) :: (_wmap, (tptr (Tstruct _wormslot noattr))) ::
    (_pmap, (tptr (Tstruct _wormmbkt noattr))) :: (_mask, tuint) ::
    (_maxplen, tuint) :: (_msize, tulong) ::
    (_slab1, (tptr (Tstruct _slab noattr))) ::
    (_slab2, (tptr (Tstruct _slab noattr))) ::
    (_pbuf, (tptr (Tstruct _kv noattr))) :: nil)
   noattr ::
 Composite __7371 Union
   ((_hmap_ptr, (tvolatile tlong)) ::
    (_hmap, (tptr (Tstruct _wormhmap noattr))) :: nil)
   noattr ::
 Composite _wormhole Struct
   ((18727075383868559167%positive, (Tunion __7371 noattr)) ::
    (_padding0, (tarray tulong 6)) ::
    (_leaf0, (tptr (Tstruct _wormleaf noattr))) ::
    (_mm, (Tstruct _kvmap_mm noattr)) ::
    (_qsbr, (tptr (Tstruct _qsbr noattr))) ::
    (_slab_leaf, (tptr (Tstruct _slab noattr))) ::
    (_pbuf, (tptr (Tstruct _kv noattr))) :: (_leaftype, tuint) ::
    (_padding1, tuint) :: (_hmap2, (tarray (Tstruct _wormhmap noattr) 2)) ::
    (_metalock, (Tunion __6333 noattr)) :: (_padding2, (tarray tuint 15)) ::
    nil)
   noattr ::
 Composite _wormhole_iter Struct
   ((_ref, (tptr (Tstruct _wormref noattr))) ::
    (_map, (tptr (Tstruct _wormhole noattr))) ::
    (_leaf, (tptr (Tstruct _wormleaf noattr))) :: (_is, tuint) :: nil)
   noattr ::
 Composite _wormref Struct
   ((_map, (tptr (Tstruct _wormhole noattr))) ::
    (_qref, (Tstruct _qsbr_ref noattr)) :: nil)
   noattr ::
 Composite _wh_inp_info Struct
   ((_vbuf_out, (tptr tvoid)) :: (_vlen_out, (tptr tuint)) ::
    (_vbuf_size, tuint) :: nil)
   noattr ::
 Composite _wh_iter_inp_info Struct
   ((_kbuf_out, (tptr tvoid)) :: (_vbuf_out, (tptr tvoid)) ::
    (_kbuf_size, tuint) :: (_vbuf_size, tuint) ::
    (_klen_out, (tptr tuint)) :: (_vlen_out, (tptr tuint)) :: nil)
   noattr :: nil).

Definition global_definitions : list (ident * globdef fundef type) :=
((___stringlit_2, Gvar v___stringlit_2) ::
 (___stringlit_3, Gvar v___stringlit_3) ::
 (___stringlit_1, Gvar v___stringlit_1) ::
 (___builtin_ais_annot,
   Gfun(External (EF_builtin "__builtin_ais_annot"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid
                     {|cc_vararg:=(Some 1); cc_unproto:=false; cc_structret:=false|}))
     (Tcons (tptr tschar) Tnil) tvoid
     {|cc_vararg:=(Some 1); cc_unproto:=false; cc_structret:=false|})) ::
 (___builtin_bswap64,
   Gfun(External (EF_builtin "__builtin_bswap64"
                   (mksignature (AST.Tlong :: nil) AST.Tlong cc_default))
     (Tcons tulong Tnil) tulong cc_default)) ::
 (___builtin_bswap,
   Gfun(External (EF_builtin "__builtin_bswap"
                   (mksignature (AST.Tint :: nil) AST.Tint cc_default))
     (Tcons tuint Tnil) tuint cc_default)) ::
 (___builtin_bswap32,
   Gfun(External (EF_builtin "__builtin_bswap32"
                   (mksignature (AST.Tint :: nil) AST.Tint cc_default))
     (Tcons tuint Tnil) tuint cc_default)) ::
 (___builtin_bswap16,
   Gfun(External (EF_builtin "__builtin_bswap16"
                   (mksignature (AST.Tint :: nil) AST.Tint16unsigned
                     cc_default)) (Tcons tushort Tnil) tushort cc_default)) ::
 (___builtin_clz,
   Gfun(External (EF_builtin "__builtin_clz"
                   (mksignature (AST.Tint :: nil) AST.Tint cc_default))
     (Tcons tuint Tnil) tint cc_default)) ::
 (___builtin_clzl,
   Gfun(External (EF_builtin "__builtin_clzl"
                   (mksignature (AST.Tlong :: nil) AST.Tint cc_default))
     (Tcons tulong Tnil) tint cc_default)) ::
 (___builtin_clzll,
   Gfun(External (EF_builtin "__builtin_clzll"
                   (mksignature (AST.Tlong :: nil) AST.Tint cc_default))
     (Tcons tulong Tnil) tint cc_default)) ::
 (___builtin_ctz,
   Gfun(External (EF_builtin "__builtin_ctz"
                   (mksignature (AST.Tint :: nil) AST.Tint cc_default))
     (Tcons tuint Tnil) tint cc_default)) ::
 (___builtin_ctzl,
   Gfun(External (EF_builtin "__builtin_ctzl"
                   (mksignature (AST.Tlong :: nil) AST.Tint cc_default))
     (Tcons tulong Tnil) tint cc_default)) ::
 (___builtin_ctzll,
   Gfun(External (EF_builtin "__builtin_ctzll"
                   (mksignature (AST.Tlong :: nil) AST.Tint cc_default))
     (Tcons tulong Tnil) tint cc_default)) ::
 (___builtin_fabs,
   Gfun(External (EF_builtin "__builtin_fabs"
                   (mksignature (AST.Tfloat :: nil) AST.Tfloat cc_default))
     (Tcons tdouble Tnil) tdouble cc_default)) ::
 (___builtin_fabsf,
   Gfun(External (EF_builtin "__builtin_fabsf"
                   (mksignature (AST.Tsingle :: nil) AST.Tsingle cc_default))
     (Tcons tfloat Tnil) tfloat cc_default)) ::
 (___builtin_fsqrt,
   Gfun(External (EF_builtin "__builtin_fsqrt"
                   (mksignature (AST.Tfloat :: nil) AST.Tfloat cc_default))
     (Tcons tdouble Tnil) tdouble cc_default)) ::
 (___builtin_sqrt,
   Gfun(External (EF_builtin "__builtin_sqrt"
                   (mksignature (AST.Tfloat :: nil) AST.Tfloat cc_default))
     (Tcons tdouble Tnil) tdouble cc_default)) ::
 (___builtin_memcpy_aligned,
   Gfun(External (EF_builtin "__builtin_memcpy_aligned"
                   (mksignature
                     (AST.Tlong :: AST.Tlong :: AST.Tlong :: AST.Tlong ::
                      nil) AST.Tvoid cc_default))
     (Tcons (tptr tvoid)
       (Tcons (tptr tvoid) (Tcons tulong (Tcons tulong Tnil)))) tvoid
     cc_default)) ::
 (___builtin_sel,
   Gfun(External (EF_builtin "__builtin_sel"
                   (mksignature (AST.Tint :: nil) AST.Tvoid
                     {|cc_vararg:=(Some 1); cc_unproto:=false; cc_structret:=false|}))
     (Tcons tbool Tnil) tvoid
     {|cc_vararg:=(Some 1); cc_unproto:=false; cc_structret:=false|})) ::
 (___builtin_annot,
   Gfun(External (EF_builtin "__builtin_annot"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid
                     {|cc_vararg:=(Some 1); cc_unproto:=false; cc_structret:=false|}))
     (Tcons (tptr tschar) Tnil) tvoid
     {|cc_vararg:=(Some 1); cc_unproto:=false; cc_structret:=false|})) ::
 (___builtin_annot_intval,
   Gfun(External (EF_builtin "__builtin_annot_intval"
                   (mksignature (AST.Tlong :: AST.Tint :: nil) AST.Tint
                     cc_default)) (Tcons (tptr tschar) (Tcons tint Tnil))
     tint cc_default)) ::
 (___builtin_membar,
   Gfun(External (EF_builtin "__builtin_membar"
                   (mksignature nil AST.Tvoid cc_default)) Tnil tvoid
     cc_default)) ::
 (___builtin_va_start,
   Gfun(External (EF_builtin "__builtin_va_start"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid cc_default))
     (Tcons (tptr tvoid) Tnil) tvoid cc_default)) ::
 (___builtin_va_arg,
   Gfun(External (EF_builtin "__builtin_va_arg"
                   (mksignature (AST.Tlong :: AST.Tint :: nil) AST.Tvoid
                     cc_default)) (Tcons (tptr tvoid) (Tcons tuint Tnil))
     tvoid cc_default)) ::
 (___builtin_va_copy,
   Gfun(External (EF_builtin "__builtin_va_copy"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tvoid
                     cc_default))
     (Tcons (tptr tvoid) (Tcons (tptr tvoid) Tnil)) tvoid cc_default)) ::
 (___builtin_va_end,
   Gfun(External (EF_builtin "__builtin_va_end"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid cc_default))
     (Tcons (tptr tvoid) Tnil) tvoid cc_default)) ::
 (___compcert_va_int32,
   Gfun(External (EF_external "__compcert_va_int32"
                   (mksignature (AST.Tlong :: nil) AST.Tint cc_default))
     (Tcons (tptr tvoid) Tnil) tuint cc_default)) ::
 (___compcert_va_int64,
   Gfun(External (EF_external "__compcert_va_int64"
                   (mksignature (AST.Tlong :: nil) AST.Tlong cc_default))
     (Tcons (tptr tvoid) Tnil) tulong cc_default)) ::
 (___compcert_va_float64,
   Gfun(External (EF_external "__compcert_va_float64"
                   (mksignature (AST.Tlong :: nil) AST.Tfloat cc_default))
     (Tcons (tptr tvoid) Tnil) tdouble cc_default)) ::
 (___compcert_va_composite,
   Gfun(External (EF_external "__compcert_va_composite"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tlong
                     cc_default)) (Tcons (tptr tvoid) (Tcons tulong Tnil))
     (tptr tvoid) cc_default)) ::
 (___builtin_unreachable,
   Gfun(External (EF_builtin "__builtin_unreachable"
                   (mksignature nil AST.Tvoid cc_default)) Tnil tvoid
     cc_default)) ::
 (___builtin_expect,
   Gfun(External (EF_builtin "__builtin_expect"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tlong
                     cc_default)) (Tcons tlong (Tcons tlong Tnil)) tlong
     cc_default)) ::
 (___compcert_i64_dtos,
   Gfun(External (EF_runtime "__compcert_i64_dtos"
                   (mksignature (AST.Tfloat :: nil) AST.Tlong cc_default))
     (Tcons tdouble Tnil) tlong cc_default)) ::
 (___compcert_i64_dtou,
   Gfun(External (EF_runtime "__compcert_i64_dtou"
                   (mksignature (AST.Tfloat :: nil) AST.Tlong cc_default))
     (Tcons tdouble Tnil) tulong cc_default)) ::
 (___compcert_i64_stod,
   Gfun(External (EF_runtime "__compcert_i64_stod"
                   (mksignature (AST.Tlong :: nil) AST.Tfloat cc_default))
     (Tcons tlong Tnil) tdouble cc_default)) ::
 (___compcert_i64_utod,
   Gfun(External (EF_runtime "__compcert_i64_utod"
                   (mksignature (AST.Tlong :: nil) AST.Tfloat cc_default))
     (Tcons tulong Tnil) tdouble cc_default)) ::
 (___compcert_i64_stof,
   Gfun(External (EF_runtime "__compcert_i64_stof"
                   (mksignature (AST.Tlong :: nil) AST.Tsingle cc_default))
     (Tcons tlong Tnil) tfloat cc_default)) ::
 (___compcert_i64_utof,
   Gfun(External (EF_runtime "__compcert_i64_utof"
                   (mksignature (AST.Tlong :: nil) AST.Tsingle cc_default))
     (Tcons tulong Tnil) tfloat cc_default)) ::
 (___compcert_i64_sdiv,
   Gfun(External (EF_runtime "__compcert_i64_sdiv"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tlong
                     cc_default)) (Tcons tlong (Tcons tlong Tnil)) tlong
     cc_default)) ::
 (___compcert_i64_udiv,
   Gfun(External (EF_runtime "__compcert_i64_udiv"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tlong
                     cc_default)) (Tcons tulong (Tcons tulong Tnil)) tulong
     cc_default)) ::
 (___compcert_i64_smod,
   Gfun(External (EF_runtime "__compcert_i64_smod"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tlong
                     cc_default)) (Tcons tlong (Tcons tlong Tnil)) tlong
     cc_default)) ::
 (___compcert_i64_umod,
   Gfun(External (EF_runtime "__compcert_i64_umod"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tlong
                     cc_default)) (Tcons tulong (Tcons tulong Tnil)) tulong
     cc_default)) ::
 (___compcert_i64_shl,
   Gfun(External (EF_runtime "__compcert_i64_shl"
                   (mksignature (AST.Tlong :: AST.Tint :: nil) AST.Tlong
                     cc_default)) (Tcons tlong (Tcons tint Tnil)) tlong
     cc_default)) ::
 (___compcert_i64_shr,
   Gfun(External (EF_runtime "__compcert_i64_shr"
                   (mksignature (AST.Tlong :: AST.Tint :: nil) AST.Tlong
                     cc_default)) (Tcons tulong (Tcons tint Tnil)) tulong
     cc_default)) ::
 (___compcert_i64_sar,
   Gfun(External (EF_runtime "__compcert_i64_sar"
                   (mksignature (AST.Tlong :: AST.Tint :: nil) AST.Tlong
                     cc_default)) (Tcons tlong (Tcons tint Tnil)) tlong
     cc_default)) ::
 (___compcert_i64_smulh,
   Gfun(External (EF_runtime "__compcert_i64_smulh"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tlong
                     cc_default)) (Tcons tlong (Tcons tlong Tnil)) tlong
     cc_default)) ::
 (___compcert_i64_umulh,
   Gfun(External (EF_runtime "__compcert_i64_umulh"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tlong
                     cc_default)) (Tcons tulong (Tcons tulong Tnil)) tulong
     cc_default)) ::
 (___builtin_fmax,
   Gfun(External (EF_builtin "__builtin_fmax"
                   (mksignature (AST.Tfloat :: AST.Tfloat :: nil) AST.Tfloat
                     cc_default)) (Tcons tdouble (Tcons tdouble Tnil))
     tdouble cc_default)) ::
 (___builtin_fmin,
   Gfun(External (EF_builtin "__builtin_fmin"
                   (mksignature (AST.Tfloat :: AST.Tfloat :: nil) AST.Tfloat
                     cc_default)) (Tcons tdouble (Tcons tdouble Tnil))
     tdouble cc_default)) ::
 (___builtin_fmadd,
   Gfun(External (EF_builtin "__builtin_fmadd"
                   (mksignature
                     (AST.Tfloat :: AST.Tfloat :: AST.Tfloat :: nil)
                     AST.Tfloat cc_default))
     (Tcons tdouble (Tcons tdouble (Tcons tdouble Tnil))) tdouble
     cc_default)) ::
 (___builtin_fmsub,
   Gfun(External (EF_builtin "__builtin_fmsub"
                   (mksignature
                     (AST.Tfloat :: AST.Tfloat :: AST.Tfloat :: nil)
                     AST.Tfloat cc_default))
     (Tcons tdouble (Tcons tdouble (Tcons tdouble Tnil))) tdouble
     cc_default)) ::
 (___builtin_fnmadd,
   Gfun(External (EF_builtin "__builtin_fnmadd"
                   (mksignature
                     (AST.Tfloat :: AST.Tfloat :: AST.Tfloat :: nil)
                     AST.Tfloat cc_default))
     (Tcons tdouble (Tcons tdouble (Tcons tdouble Tnil))) tdouble
     cc_default)) ::
 (___builtin_fnmsub,
   Gfun(External (EF_builtin "__builtin_fnmsub"
                   (mksignature
                     (AST.Tfloat :: AST.Tfloat :: AST.Tfloat :: nil)
                     AST.Tfloat cc_default))
     (Tcons tdouble (Tcons tdouble (Tcons tdouble Tnil))) tdouble
     cc_default)) ::
 (___builtin_read16_reversed,
   Gfun(External (EF_builtin "__builtin_read16_reversed"
                   (mksignature (AST.Tlong :: nil) AST.Tint16unsigned
                     cc_default)) (Tcons (tptr tushort) Tnil) tushort
     cc_default)) ::
 (___builtin_read32_reversed,
   Gfun(External (EF_builtin "__builtin_read32_reversed"
                   (mksignature (AST.Tlong :: nil) AST.Tint cc_default))
     (Tcons (tptr tuint) Tnil) tuint cc_default)) ::
 (___builtin_write16_reversed,
   Gfun(External (EF_builtin "__builtin_write16_reversed"
                   (mksignature (AST.Tlong :: AST.Tint :: nil) AST.Tvoid
                     cc_default)) (Tcons (tptr tushort) (Tcons tushort Tnil))
     tvoid cc_default)) ::
 (___builtin_write32_reversed,
   Gfun(External (EF_builtin "__builtin_write32_reversed"
                   (mksignature (AST.Tlong :: AST.Tint :: nil) AST.Tvoid
                     cc_default)) (Tcons (tptr tuint) (Tcons tuint Tnil))
     tvoid cc_default)) ::
 (___builtin_debug,
   Gfun(External (EF_external "__builtin_debug"
                   (mksignature (AST.Tint :: nil) AST.Tvoid
                     {|cc_vararg:=(Some 1); cc_unproto:=false; cc_structret:=false|}))
     (Tcons tint Tnil) tvoid
     {|cc_vararg:=(Some 1); cc_unproto:=false; cc_structret:=false|})) ::
 (_stderr, Gvar v_stderr) ::
 (_fprintf,
   Gfun(External (EF_external "fprintf"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tint
                     {|cc_vararg:=(Some 2); cc_unproto:=false; cc_structret:=false|}))
     (Tcons (tptr (Tstruct __IO_FILE noattr)) (Tcons (tptr tschar) Tnil))
     tint {|cc_vararg:=(Some 2); cc_unproto:=false; cc_structret:=false|})) ::
 (_malloc,
   Gfun(External EF_malloc (Tcons tulong Tnil) (tptr tvoid) cc_default)) ::
 (_free, Gfun(External EF_free (Tcons (tptr tvoid) Tnil) tvoid cc_default)) ::
 (_qsort_r,
   Gfun(External (EF_external "qsort_r"
                   (mksignature
                     (AST.Tlong :: AST.Tlong :: AST.Tlong :: AST.Tlong ::
                      AST.Tlong :: nil) AST.Tvoid cc_default))
     (Tcons (tptr tvoid)
       (Tcons tulong
         (Tcons tulong
           (Tcons
             (tptr (Tfunction
                     (Tcons (tptr tvoid)
                       (Tcons (tptr tvoid) (Tcons (tptr tvoid) Tnil))) tint
                     cc_default)) (Tcons (tptr tvoid) Tnil))))) tvoid
     cc_default)) ::
 (_memcpy,
   Gfun(External (EF_external "memcpy"
                   (mksignature (AST.Tlong :: AST.Tlong :: AST.Tlong :: nil)
                     AST.Tlong cc_default))
     (Tcons (tptr tvoid) (Tcons (tptr tvoid) (Tcons tulong Tnil)))
     (tptr tvoid) cc_default)) ::
 (_memmove,
   Gfun(External (EF_external "memmove"
                   (mksignature (AST.Tlong :: AST.Tlong :: AST.Tlong :: nil)
                     AST.Tlong cc_default))
     (Tcons (tptr tvoid) (Tcons (tptr tvoid) (Tcons tulong Tnil)))
     (tptr tvoid) cc_default)) ::
 (_memset,
   Gfun(External (EF_external "memset"
                   (mksignature (AST.Tlong :: AST.Tint :: AST.Tlong :: nil)
                     AST.Tlong cc_default))
     (Tcons (tptr tvoid) (Tcons tint (Tcons tulong Tnil))) (tptr tvoid)
     cc_default)) ::
 (_memcmp,
   Gfun(External (EF_external "memcmp"
                   (mksignature (AST.Tlong :: AST.Tlong :: AST.Tlong :: nil)
                     AST.Tint cc_default))
     (Tcons (tptr tvoid) (Tcons (tptr tvoid) (Tcons tulong Tnil))) tint
     cc_default)) ::
 (_sleep,
   Gfun(External (EF_external "sleep"
                   (mksignature (AST.Tint :: nil) AST.Tint cc_default))
     (Tcons tuint Tnil) tuint cc_default)) ::
 (_time_stamp,
   Gfun(External (EF_external "time_stamp"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tvoid
                     cc_default)) (Tcons (tptr tschar) (Tcons tulong Tnil))
     tvoid cc_default)) ::
 (_cpu_prefetch0,
   Gfun(External (EF_external "cpu_prefetch0"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid cc_default))
     (Tcons (tptr tvoid) Tnil) tvoid cc_default)) ::
 (_crc32c_u8,
   Gfun(External (EF_external "crc32c_u8"
                   (mksignature (AST.Tint :: AST.Tint :: nil) AST.Tint
                     cc_default)) (Tcons tuint (Tcons tuchar Tnil)) tuint
     cc_default)) ::
 (_crc32c_inc_123,
   Gfun(External (EF_external "crc32c_inc_123"
                   (mksignature (AST.Tlong :: AST.Tint :: AST.Tint :: nil)
                     AST.Tint cc_default))
     (Tcons (tptr tuchar) (Tcons tuint (Tcons tuint Tnil))) tuint
     cc_default)) ::
 (_crc32c_inc_x4,
   Gfun(External (EF_external "crc32c_inc_x4"
                   (mksignature (AST.Tlong :: AST.Tint :: AST.Tint :: nil)
                     AST.Tint cc_default))
     (Tcons (tptr tuchar) (Tcons tuint (Tcons tuint Tnil))) tuint
     cc_default)) ::
 (_crc32c_inc,
   Gfun(External (EF_external "crc32c_inc"
                   (mksignature (AST.Tlong :: AST.Tint :: AST.Tint :: nil)
                     AST.Tint cc_default))
     (Tcons (tptr tuchar) (Tcons tuint (Tcons tuint Tnil))) tuint
     cc_default)) ::
 (_debug_assert,
   Gfun(External (EF_external "debug_assert"
                   (mksignature (AST.Tint :: nil) AST.Tvoid cc_default))
     (Tcons tbool Tnil) tvoid cc_default)) ::
 (_debug_die,
   Gfun(External (EF_external "debug_die"
                   (mksignature nil AST.Tvoid cc_default)) Tnil tvoid
     cc_default)) ::
 (_yalloc,
   Gfun(External (EF_external "yalloc"
                   (mksignature (AST.Tlong :: nil) AST.Tlong cc_default))
     (Tcons tulong Tnil) (tptr tvoid) cc_default)) ::
 (_pages_unmap,
   Gfun(External (EF_external "pages_unmap"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tvoid
                     cc_default)) (Tcons (tptr tvoid) (Tcons tulong Tnil))
     tvoid cc_default)) ::
 (_pages_alloc_best,
   Gfun(External (EF_external "pages_alloc_best"
                   (mksignature (AST.Tlong :: AST.Tint :: AST.Tlong :: nil)
                     AST.Tlong cc_default))
     (Tcons tulong (Tcons tbool (Tcons (tptr tulong) Tnil))) (tptr tvoid)
     cc_default)) ::
 (_spinlock_init,
   Gfun(External (EF_external "spinlock_init"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid cc_default))
     (Tcons (tptr (Tunion __6323 noattr)) Tnil) tvoid cc_default)) ::
 (_spinlock_lock,
   Gfun(External (EF_external "spinlock_lock"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid cc_default))
     (Tcons (tptr (Tunion __6323 noattr)) Tnil) tvoid cc_default)) ::
 (_spinlock_unlock,
   Gfun(External (EF_external "spinlock_unlock"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid cc_default))
     (Tcons (tptr (Tunion __6323 noattr)) Tnil) tvoid cc_default)) ::
 (_rwlock_init,
   Gfun(External (EF_external "rwlock_init"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid cc_default))
     (Tcons (tptr (Tunion __6333 noattr)) Tnil) tvoid cc_default)) ::
 (_rwlock_trylock_read,
   Gfun(External (EF_external "rwlock_trylock_read"
                   (mksignature (AST.Tlong :: nil) AST.Tint8unsigned
                     cc_default)) (Tcons (tptr (Tunion __6333 noattr)) Tnil)
     tbool cc_default)) ::
 (_rwlock_trylock_read_nr,
   Gfun(External (EF_external "rwlock_trylock_read_nr"
                   (mksignature (AST.Tlong :: AST.Tint :: nil)
                     AST.Tint8unsigned cc_default))
     (Tcons (tptr (Tunion __6333 noattr)) (Tcons tushort Tnil)) tbool
     cc_default)) ::
 (_rwlock_lock_read,
   Gfun(External (EF_external "rwlock_lock_read"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid cc_default))
     (Tcons (tptr (Tunion __6333 noattr)) Tnil) tvoid cc_default)) ::
 (_rwlock_unlock_read,
   Gfun(External (EF_external "rwlock_unlock_read"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid cc_default))
     (Tcons (tptr (Tunion __6333 noattr)) Tnil) tvoid cc_default)) ::
 (_rwlock_trylock_write,
   Gfun(External (EF_external "rwlock_trylock_write"
                   (mksignature (AST.Tlong :: nil) AST.Tint8unsigned
                     cc_default)) (Tcons (tptr (Tunion __6333 noattr)) Tnil)
     tbool cc_default)) ::
 (_rwlock_trylock_write_nr,
   Gfun(External (EF_external "rwlock_trylock_write_nr"
                   (mksignature (AST.Tlong :: AST.Tint :: nil)
                     AST.Tint8unsigned cc_default))
     (Tcons (tptr (Tunion __6333 noattr)) (Tcons tushort Tnil)) tbool
     cc_default)) ::
 (_rwlock_lock_write,
   Gfun(External (EF_external "rwlock_lock_write"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid cc_default))
     (Tcons (tptr (Tunion __6333 noattr)) Tnil) tvoid cc_default)) ::
 (_rwlock_unlock_write,
   Gfun(External (EF_external "rwlock_unlock_write"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid cc_default))
     (Tcons (tptr (Tunion __6333 noattr)) Tnil) tvoid cc_default)) ::
 (_entry13,
   Gfun(External (EF_external "entry13"
                   (mksignature (AST.Tlong :: AST.Tint :: AST.Tlong :: nil)
                     AST.Tvoid
                     {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
     (Tcons (tptr (Tstruct _entry13__1 noattr))
       (Tcons tushort (Tcons tulong Tnil))) tvoid
     {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|})) ::
 (_entry13_update_e3,
   Gfun(External (EF_external "entry13_update_e3"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tvoid
                     cc_default))
     (Tcons (tptr (Tstruct _entry13__1 noattr)) (Tcons tulong Tnil)) tvoid
     cc_default)) ::
 (_u64_to_ptr,
   Gfun(External (EF_external "u64_to_ptr"
                   (mksignature (AST.Tlong :: nil) AST.Tlong cc_default))
     (Tcons tulong Tnil) (tptr tvoid) cc_default)) ::
 (_ptr_to_u64,
   Gfun(External (EF_external "ptr_to_u64"
                   (mksignature (AST.Tlong :: nil) AST.Tlong cc_default))
     (Tcons (tptr tvoid) Tnil) tulong cc_default)) ::
 (_slab_create,
   Gfun(External (EF_external "slab_create"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tlong
                     cc_default)) (Tcons tulong (Tcons tulong Tnil))
     (tptr (Tstruct _slab noattr)) cc_default)) ::
 (_slab_reserve_unsafe,
   Gfun(External (EF_external "slab_reserve_unsafe"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil)
                     AST.Tint8unsigned cc_default))
     (Tcons (tptr (Tstruct _slab noattr)) (Tcons tulong Tnil)) tbool
     cc_default)) ::
 (_slab_alloc_unsafe,
   Gfun(External (EF_external "slab_alloc_unsafe"
                   (mksignature (AST.Tlong :: nil) AST.Tlong cc_default))
     (Tcons (tptr (Tstruct _slab noattr)) Tnil) (tptr tvoid) cc_default)) ::
 (_slab_alloc_safe,
   Gfun(External (EF_external "slab_alloc_safe"
                   (mksignature (AST.Tlong :: nil) AST.Tlong cc_default))
     (Tcons (tptr (Tstruct _slab noattr)) Tnil) (tptr tvoid) cc_default)) ::
 (_slab_free_unsafe,
   Gfun(External (EF_external "slab_free_unsafe"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tvoid
                     cc_default))
     (Tcons (tptr (Tstruct _slab noattr)) (Tcons (tptr tvoid) Tnil)) tvoid
     cc_default)) ::
 (_slab_free_safe,
   Gfun(External (EF_external "slab_free_safe"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tvoid
                     cc_default))
     (Tcons (tptr (Tstruct _slab noattr)) (Tcons (tptr tvoid) Tnil)) tvoid
     cc_default)) ::
 (_slab_free_all,
   Gfun(External (EF_external "slab_free_all"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid cc_default))
     (Tcons (tptr (Tstruct _slab noattr)) Tnil) tvoid cc_default)) ::
 (_slab_get_nalloc,
   Gfun(External (EF_external "slab_get_nalloc"
                   (mksignature (AST.Tlong :: nil) AST.Tlong cc_default))
     (Tcons (tptr (Tstruct _slab noattr)) Tnil) tulong cc_default)) ::
 (_slab_destroy,
   Gfun(External (EF_external "slab_destroy"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid cc_default))
     (Tcons (tptr (Tstruct _slab noattr)) Tnil) tvoid cc_default)) ::
 (_qsbr_create,
   Gfun(External (EF_external "qsbr_create"
                   (mksignature nil AST.Tlong cc_default)) Tnil
     (tptr (Tstruct _qsbr noattr)) cc_default)) ::
 (_qsbr_register,
   Gfun(External (EF_external "qsbr_register"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil)
                     AST.Tint8unsigned cc_default))
     (Tcons (tptr (Tstruct _qsbr noattr))
       (Tcons (tptr (Tstruct _qsbr_ref noattr)) Tnil)) tbool cc_default)) ::
 (_qsbr_unregister,
   Gfun(External (EF_external "qsbr_unregister"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tvoid
                     cc_default))
     (Tcons (tptr (Tstruct _qsbr noattr))
       (Tcons (tptr (Tstruct _qsbr_ref noattr)) Tnil)) tvoid cc_default)) ::
 (_qsbr_update,
   Gfun(External (EF_external "qsbr_update"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tvoid
                     cc_default))
     (Tcons (tptr (Tstruct _qsbr_ref noattr)) (Tcons tulong Tnil)) tvoid
     cc_default)) ::
 (_qsbr_park,
   Gfun(External (EF_external "qsbr_park"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid cc_default))
     (Tcons (tptr (Tstruct _qsbr_ref noattr)) Tnil) tvoid cc_default)) ::
 (_qsbr_resume,
   Gfun(External (EF_external "qsbr_resume"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid cc_default))
     (Tcons (tptr (Tstruct _qsbr_ref noattr)) Tnil) tvoid cc_default)) ::
 (_qsbr_wait,
   Gfun(External (EF_external "qsbr_wait"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tvoid
                     cc_default))
     (Tcons (tptr (Tstruct _qsbr noattr)) (Tcons tulong Tnil)) tvoid
     cc_default)) ::
 (_qsbr_destroy,
   Gfun(External (EF_external "qsbr_destroy"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid cc_default))
     (Tcons (tptr (Tstruct _qsbr noattr)) Tnil) tvoid cc_default)) ::
 (_kv_crc32c,
   Gfun(External (EF_external "kv_crc32c"
                   (mksignature (AST.Tlong :: AST.Tint :: nil) AST.Tint
                     cc_default)) (Tcons (tptr tvoid) (Tcons tuint Tnil))
     tuint cc_default)) ::
 (_kv_crc32c_extend,
   Gfun(External (EF_external "kv_crc32c_extend"
                   (mksignature (AST.Tint :: nil) AST.Tlong cc_default))
     (Tcons tuint Tnil) tulong cc_default)) ::
 (_kv_update_hash,
   Gfun(External (EF_external "kv_update_hash"
                   (mksignature (AST.Tlong :: nil) AST.Tvoid cc_default))
     (Tcons (tptr (Tstruct _kv noattr)) Tnil) tvoid cc_default)) ::
 (_kv_refill,
   Gfun(External (EF_external "kv_refill"
                   (mksignature
                     (AST.Tlong :: AST.Tlong :: AST.Tint :: AST.Tlong ::
                      AST.Tint :: nil) AST.Tvoid cc_default))
     (Tcons (tptr (Tstruct _kv noattr))
       (Tcons (tptr tvoid)
         (Tcons tuint (Tcons (tptr tvoid) (Tcons tuint Tnil))))) tvoid
     cc_default)) ::
 (_kv_kref,
   Gfun(External (EF_external "kv_kref"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tvoid
                     {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
     (Tcons (tptr (Tstruct _kref noattr))
       (Tcons (tptr (Tstruct _kv noattr)) Tnil)) tvoid
     {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|})) ::
 (_kv_create,
   Gfun(External (EF_external "kv_create"
                   (mksignature
                     (AST.Tlong :: AST.Tint :: AST.Tlong :: AST.Tint :: nil)
                     AST.Tlong cc_default))
     (Tcons (tptr tvoid)
       (Tcons tuint (Tcons (tptr tvoid) (Tcons tuint Tnil))))
     (tptr (Tstruct _kv noattr)) cc_default)) ::
 (_kv_null,
   Gfun(External (EF_external "kv_null"
                   (mksignature nil AST.Tlong cc_default)) Tnil
     (tptr (Tstruct _kv noattr)) cc_default)) ::
 (_kv_dup2,
   Gfun(External (EF_external "kv_dup2"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tlong
                     cc_default))
     (Tcons (tptr (Tstruct _kv noattr))
       (Tcons (tptr (Tstruct _kv noattr)) Tnil)) (tptr (Tstruct _kv noattr))
     cc_default)) ::
 (_kv_dup2_key,
   Gfun(External (EF_external "kv_dup2_key"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tlong
                     cc_default))
     (Tcons (tptr (Tstruct _kv noattr))
       (Tcons (tptr (Tstruct _kv noattr)) Tnil)) (tptr (Tstruct _kv noattr))
     cc_default)) ::
 (_kv_compare,
   Gfun(External (EF_external "kv_compare"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tint
                     cc_default))
     (Tcons (tptr (Tstruct _kv noattr))
       (Tcons (tptr (Tstruct _kv noattr)) Tnil)) tint cc_default)) ::
 (_kv_key_lcp,
   Gfun(External (EF_external "kv_key_lcp"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tint
                     cc_default))
     (Tcons (tptr (Tstruct _kv noattr))
       (Tcons (tptr (Tstruct _kv noattr)) Tnil)) tuint cc_default)) ::
 (_kv_vptr_c,
   Gfun(External (EF_external "kv_vptr_c"
                   (mksignature (AST.Tlong :: nil) AST.Tlong cc_default))
     (Tcons (tptr (Tstruct _kv noattr)) Tnil) (tptr tvoid) cc_default)) ::
 (_kv_kptr_c,
   Gfun(External (EF_external "kv_kptr_c"
                   (mksignature (AST.Tlong :: nil) AST.Tlong cc_default))
     (Tcons (tptr (Tstruct _kv noattr)) Tnil) (tptr tvoid) cc_default)) ::
 (_kvmap_mm_dup, Gvar v_kvmap_mm_dup) ::
 (_kvmap_mm_ndf, Gvar v_kvmap_mm_ndf) ::
 (_kref_ref_hash32,
   Gfun(External (EF_external "kref_ref_hash32"
                   (mksignature (AST.Tlong :: AST.Tlong :: AST.Tint :: nil)
                     AST.Tvoid cc_default))
     (Tcons (tptr (Tstruct _kref noattr))
       (Tcons (tptr tuchar) (Tcons tuint Tnil))) tvoid cc_default)) ::
 (_kref_ref_kv,
   Gfun(External (EF_external "kref_ref_kv"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tvoid
                     cc_default))
     (Tcons (tptr (Tstruct _kref noattr))
       (Tcons (tptr (Tstruct _kv noattr)) Tnil)) tvoid cc_default)) ::
 (_kref_kv_match,
   Gfun(External (EF_external "kref_kv_match"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil)
                     AST.Tint8unsigned cc_default))
     (Tcons (tptr (Tstruct _kref noattr))
       (Tcons (tptr (Tstruct _kv noattr)) Tnil)) tbool cc_default)) ::
 (_kref_kv_compare,
   Gfun(External (EF_external "kref_kv_compare"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tint
                     cc_default))
     (Tcons (tptr (Tstruct _kref noattr))
       (Tcons (tptr (Tstruct _kv noattr)) Tnil)) tint cc_default)) ::
 (_kref_null,
   Gfun(External (EF_external "kref_null"
                   (mksignature nil AST.Tlong cc_default)) Tnil
     (tptr (Tstruct _kref noattr)) cc_default)) ::
 (_kvref_ref_kv,
   Gfun(External (EF_external "kvref_ref_kv"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tvoid
                     cc_default))
     (Tcons (tptr (Tstruct _kvref noattr))
       (Tcons (tptr (Tstruct _kv noattr)) Tnil)) tvoid cc_default)) ::
 (__mm_set1_epi8,
   Gfun(External (EF_external "_mm_set1_epi8"
                   (mksignature (AST.Tlong :: AST.Tint :: nil) AST.Tvoid
                     {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
     (Tcons (tptr (Tstruct __m128 noattr)) (Tcons tschar Tnil)) tvoid
     {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|})) ::
 (__mm_load_si128,
   Gfun(External (EF_external "_mm_load_si128"
                   (mksignature (AST.Tlong :: AST.Tlong :: nil) AST.Tvoid
                     {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
     (Tcons (tptr (Tstruct __m128 noattr))
       (Tcons (tptr (Tstruct __m128 noattr)) Tnil)) tvoid
     {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|})) ::
 (__mm_and_si128,
   Gfun(External (EF_external "_mm_and_si128"
                   (mksignature (AST.Tlong :: AST.Tlong :: AST.Tlong :: nil)
                     AST.Tvoid
                     {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
     (Tcons (tptr (Tstruct __m128 noattr))
       (Tcons (Tstruct __m128 noattr) (Tcons (Tstruct __m128 noattr) Tnil)))
     tvoid {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|})) ::
 (__mm_cmpgt_epi8,
   Gfun(External (EF_external "_mm_cmpgt_epi8"
                   (mksignature (AST.Tlong :: AST.Tlong :: AST.Tlong :: nil)
                     AST.Tvoid
                     {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
     (Tcons (tptr (Tstruct __m128 noattr))
       (Tcons (Tstruct __m128 noattr) (Tcons (Tstruct __m128 noattr) Tnil)))
     tvoid {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|})) ::
 (__mm_add_epi8,
   Gfun(External (EF_external "_mm_add_epi8"
                   (mksignature (AST.Tlong :: AST.Tlong :: AST.Tlong :: nil)
                     AST.Tvoid
                     {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|}))
     (Tcons (tptr (Tstruct __m128 noattr))
       (Tcons (Tstruct __m128 noattr) (Tcons (Tstruct __m128 noattr) Tnil)))
     tvoid {|cc_vararg:=None; cc_unproto:=false; cc_structret:=true|})) ::
 (_wormmeta_keyref_load, Gfun(Internal f_wormmeta_keyref_load)) ::
 (_wormmeta_klen_load, Gfun(Internal f_wormmeta_klen_load)) ::
 (_wormmeta_lmost_load, Gfun(Internal f_wormmeta_lmost_load)) ::
 (_wormmeta_bitmin_load, Gfun(Internal f_wormmeta_bitmin_load)) ::
 (_wormmeta_bitmax_load, Gfun(Internal f_wormmeta_bitmax_load)) ::
 (_wormmeta_hash32_load, Gfun(Internal f_wormmeta_hash32_load)) ::
 (_wormmeta_rmost_load, Gfun(Internal f_wormmeta_rmost_load)) ::
 (_wormmeta_lpath_load, Gfun(Internal f_wormmeta_lpath_load)) ::
 (_wormmeta_lpath_store, Gfun(Internal f_wormmeta_lpath_store)) ::
 (_wormmeta_lmost_store, Gfun(Internal f_wormmeta_lmost_store)) ::
 (_wormmeta_bitmin_store, Gfun(Internal f_wormmeta_bitmin_store)) ::
 (_wormmeta_bitmax_store, Gfun(Internal f_wormmeta_bitmax_store)) ::
 (_wormmeta_rmost_store, Gfun(Internal f_wormmeta_rmost_store)) ::
 (_wormmeta_init, Gfun(Internal f_wormmeta_init)) ::
 (_wormmeta_bm_test, Gfun(Internal f_wormmeta_bm_test)) ::
 (_wormmeta_bm_set, Gfun(Internal f_wormmeta_bm_set)) ::
 (_wormmeta_bm_gt, Gfun(Internal f_wormmeta_bm_gt)) ::
 (_wormmeta_bm_lt, Gfun(Internal f_wormmeta_bm_lt)) ::
 (_wormmeta_bm_clear, Gfun(Internal f_wormmeta_bm_clear)) ::
 (_wormhole_pkey, Gfun(Internal f_wormhole_pkey)) ::
 (_wormhole_bswap, Gfun(Internal f_wormhole_bswap)) ::
 (_wormhole_key_meta_match, Gfun(Internal f_wormhole_key_meta_match)) ::
 (_wormhole_kref_meta_match, Gfun(Internal f_wormhole_kref_meta_match)) ::
 (_wormhole_kref1_meta_match, Gfun(Internal f_wormhole_kref1_meta_match)) ::
 (_wormhole_prefix, Gfun(Internal f_wormhole_prefix)) ::
 (_wormhole_prefix_inc1, Gfun(Internal f_wormhole_prefix_inc1)) ::
 (_wormhole_kref_inc, Gfun(Internal f_wormhole_kref_inc)) ::
 (_wormhole_kref_inc_123, Gfun(Internal f_wormhole_kref_inc_123)) ::
 (_wormhole_alloc_akey, Gfun(Internal f_wormhole_alloc_akey)) ::
 (_wormhole_free_akey, Gfun(Internal f_wormhole_free_akey)) ::
 (_wormhole_alloc_mkey, Gfun(Internal f_wormhole_alloc_mkey)) ::
 (_wormhole_free_mkey, Gfun(Internal f_wormhole_free_mkey)) ::
 (_wormleaf_alloc, Gfun(Internal f_wormleaf_alloc)) ::
 (_wormleaf_free, Gfun(Internal f_wormleaf_free)) ::
 (_wormmeta_alloc, Gfun(Internal f_wormmeta_alloc)) ::
 (_wormhole_slab_reserve, Gfun(Internal f_wormhole_slab_reserve)) ::
 (_wormmeta_keyref_release, Gfun(Internal f_wormmeta_keyref_release)) ::
 (_wormmeta_free, Gfun(Internal f_wormmeta_free)) ::
 (_wormleaf_lock_write, Gfun(Internal f_wormleaf_lock_write)) ::
 (_wormleaf_lock_read, Gfun(Internal f_wormleaf_lock_read)) ::
 (_wormleaf_unlock_write, Gfun(Internal f_wormleaf_unlock_write)) ::
 (_wormleaf_unlock_read, Gfun(Internal f_wormleaf_unlock_read)) ::
 (_wormhmap_lock, Gfun(Internal f_wormhmap_lock)) ::
 (_wormhmap_unlock, Gfun(Internal f_wormhmap_unlock)) ::
 (_wormhmap_switch, Gfun(Internal f_wormhmap_switch)) ::
 (_wormhmap_load, Gfun(Internal f_wormhmap_load)) ::
 (_wormhmap_store, Gfun(Internal f_wormhmap_store)) ::
 (_wormhmap_version_load, Gfun(Internal f_wormhmap_version_load)) ::
 (_wormhmap_version_store, Gfun(Internal f_wormhmap_version_store)) ::
 (_atomic_load_explicit,
   Gfun(External (EF_external "atomic_load_explicit"
                   (mksignature nil AST.Tint
                     {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
     Tnil tint {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|})) ::
 (_wormleaf_version_load, Gfun(Internal f_wormleaf_version_load)) ::
 (_atomic_store_explicit,
   Gfun(External (EF_external "atomic_store_explicit"
                   (mksignature nil AST.Tint
                     {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
     Tnil tint {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|})) ::
 (_wormleaf_version_store, Gfun(Internal f_wormleaf_version_store)) ::
 (_wormhmap_prefetch_pmap, Gfun(Internal f_wormhmap_prefetch_pmap)) ::
 (_wormhmap_get_meta, Gfun(Internal f_wormhmap_get_meta)) ::
 (_wormleaf_prefetch, Gfun(Internal f_wormleaf_prefetch)) ::
 (_wormhole_kref_kv_match, Gfun(Internal f_wormhole_kref_kv_match)) ::
 (_wormhole_qsbr_update_pause, Gfun(Internal f_wormhole_qsbr_update_pause)) ::
 (_wormhmap_init, Gfun(Internal f_wormhmap_init)) ::
 (_wormhmap_deinit, Gfun(Internal f_wormhmap_deinit)) ::
 (_wormhmap_zero, Gfun(Internal f_wormhmap_zero)) ::
 (_wormhmap_m128_pkey, Gfun(Internal f_wormhmap_m128_pkey)) ::
 (__mm_cmpeq_epi16,
   Gfun(External (EF_external "_mm_cmpeq_epi16"
                   (mksignature nil AST.Tint
                     {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
     Tnil tint {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|})) ::
 (_wormhmap_match_mask, Gfun(Internal f_wormhmap_match_mask)) ::
 (_wormhmap_match_any, Gfun(Internal f_wormhmap_match_any)) ::
 (_wormhmap_peek, Gfun(Internal f_wormhmap_peek)) ::
 (_wormhmap_get_slot, Gfun(Internal f_wormhmap_get_slot)) ::
 (_wormhmap_get, Gfun(Internal f_wormhmap_get)) ::
 (_wormhmap_get_kref_slot, Gfun(Internal f_wormhmap_get_kref_slot)) ::
 (_wormhmap_get_kref, Gfun(Internal f_wormhmap_get_kref)) ::
 (_wormhmap_get_kref1_slot, Gfun(Internal f_wormhmap_get_kref1_slot)) ::
 (_wormhmap_get_kref1, Gfun(Internal f_wormhmap_get_kref1)) ::
 (_wormhmap_slot_count, Gfun(Internal f_wormhmap_slot_count)) ::
 (_wormhmap_squeeze, Gfun(Internal f_wormhmap_squeeze)) ::
 (___func__, Gvar v___func__) ::
 (_wormhmap_expand, Gfun(Internal f_wormhmap_expand)) ::
 (_wormhmap_cuckoo, Gfun(Internal f_wormhmap_cuckoo)) ::
 (_wormhmap_set, Gfun(Internal f_wormhmap_set)) ::
 (_wormhmap_del_slot, Gfun(Internal f_wormhmap_del_slot)) ::
 (_wormhmap_del, Gfun(Internal f_wormhmap_del)) ::
 (_wormhmap_replace_slot, Gfun(Internal f_wormhmap_replace_slot)) ::
 (_wormhmap_replace, Gfun(Internal f_wormhmap_replace)) ::
 (_wormhole_create_leaf0, Gfun(Internal f_wormhole_create_leaf0)) ::
 (_wormhole_create_internal, Gfun(Internal f_wormhole_create_internal)) ::
 (_wormhole_create, Gfun(Internal f_wormhole_create)) ::
 (_whunsafe_create, Gfun(Internal f_whunsafe_create)) ::
 (_wormhole_meta_lcp, Gfun(Internal f_wormhole_meta_lcp)) ::
 (_wormhole_meta_down, Gfun(Internal f_wormhole_meta_down)) ::
 (_wormhole_jump_leaf, Gfun(Internal f_wormhole_jump_leaf)) ::
 (_wormhole_jump_leaf_read, Gfun(Internal f_wormhole_jump_leaf_read)) ::
 (_wormhole_jump_leaf_write, Gfun(Internal f_wormhole_jump_leaf_write)) ::
 (_wormleaf_kv_at_ih, Gfun(Internal f_wormleaf_kv_at_ih)) ::
 (_wormleaf_kv_at_is, Gfun(Internal f_wormleaf_kv_at_is)) ::
 (_wormleaf_prefetch_ss, Gfun(Internal f_wormleaf_prefetch_ss)) ::
 (_wormleaf_kv_at_is1, Gfun(Internal f_wormleaf_kv_at_is1)) ::
 (_wormleaf_match_hs, Gfun(Internal f_wormleaf_match_hs)) ::
 (_wormleaf_search_ih, Gfun(Internal f_wormleaf_search_ih)) ::
 (__mm_movemask_epi8,
   Gfun(External (EF_external "_mm_movemask_epi8"
                   (mksignature nil AST.Tint
                     {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
     Tnil tint {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|})) ::
 (__mm_cmpeq_epi8,
   Gfun(External (EF_external "_mm_cmpeq_epi8"
                   (mksignature nil AST.Tint
                     {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
     Tnil tint {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|})) ::
 (_wormleaf_search_is, Gfun(Internal f_wormleaf_search_is)) ::
 (_wormleaf_search_ss, Gfun(Internal f_wormleaf_search_ss)) ::
 (_wormleaf_seek, Gfun(Internal f_wormleaf_seek)) ::
 (_wormleaf_seek_end, Gfun(Internal f_wormleaf_seek_end)) ::
 (_wormleaf_sort_m2, Gfun(Internal f_wormleaf_sort_m2)) ::
 (_wormleaf_ss_cmp, Gfun(Internal f_wormleaf_ss_cmp)) ::
 (_wormleaf_sort_range, Gfun(Internal f_wormleaf_sort_range)) ::
 (_wormleaf_sync_sorted, Gfun(Internal f_wormleaf_sync_sorted)) ::
 (_wormleaf_shift_inc, Gfun(Internal f_wormleaf_shift_inc)) ::
 (__mm_store_si128,
   Gfun(External (EF_external "_mm_store_si128"
                   (mksignature nil AST.Tint
                     {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
     Tnil tint {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|})) ::
 (__mm_sub_epi8,
   Gfun(External (EF_external "_mm_sub_epi8"
                   (mksignature nil AST.Tint
                     {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|}))
     Tnil tint {|cc_vararg:=None; cc_unproto:=true; cc_structret:=false|})) ::
 (_wormleaf_shift_dec, Gfun(Internal f_wormleaf_shift_dec)) ::
 (_wormleaf_insert_hs, Gfun(Internal f_wormleaf_insert_hs)) ::
 (_wormleaf_insert_e13, Gfun(Internal f_wormleaf_insert_e13)) ::
 (_wormleaf_insert, Gfun(Internal f_wormleaf_insert)) ::
 (_wormleaf_pull_ih, Gfun(Internal f_wormleaf_pull_ih)) ::
 (_wormleaf_remove, Gfun(Internal f_wormleaf_remove)) ::
 (_wormleaf_remove_ih, Gfun(Internal f_wormleaf_remove_ih)) ::
 (_wormleaf_remove_is, Gfun(Internal f_wormleaf_remove_is)) ::
 (_wormleaf_delete_range, Gfun(Internal f_wormleaf_delete_range)) ::
 (_wormleaf_update, Gfun(Internal f_wormleaf_update)) ::
 (_wormhole_split_cut_alen_check, Gfun(Internal f_wormhole_split_cut_alen_check)) ::
 (_wormhole_split_cut_search1, Gfun(Internal f_wormhole_split_cut_search1)) ::
 (_wormhole_split_leaf_move, Gfun(Internal f_wormhole_split_leaf_move)) ::
 (_wormhole_split_alloc_anchor, Gfun(Internal f_wormhole_split_alloc_anchor)) ::
 (_wormhole_split_leaf, Gfun(Internal f_wormhole_split_leaf)) ::
 (_wormleaf_merge, Gfun(Internal f_wormleaf_merge)) ::
 (_wormleaf_split_undo, Gfun(Internal f_wormleaf_split_undo)) ::
 (_wormhole_get, Gfun(Internal f_wormhole_get)) ::
 (_whsafe_get, Gfun(Internal f_whsafe_get)) ::
 (_whunsafe_get, Gfun(Internal f_whunsafe_get)) ::
 (_wormhole_probe, Gfun(Internal f_wormhole_probe)) ::
 (_whsafe_probe, Gfun(Internal f_whsafe_probe)) ::
 (_whunsafe_probe, Gfun(Internal f_whunsafe_probe)) ::
 (_wormmeta_expand, Gfun(Internal f_wormmeta_expand)) ::
 (_wormmeta_bm_set_helper, Gfun(Internal f_wormmeta_bm_set_helper)) ::
 (_wormmeta_split_touch, Gfun(Internal f_wormmeta_split_touch)) ::
 (_wormmeta_lpath_update, Gfun(Internal f_wormmeta_lpath_update)) ::
 (_wormmeta_split, Gfun(Internal f_wormmeta_split)) ::
 (_wormhole_split_meta, Gfun(Internal f_wormhole_split_meta)) ::
 (_wormhole_split_insert, Gfun(Internal f_wormhole_split_insert)) ::
 (_whunsafe_split_meta, Gfun(Internal f_whunsafe_split_meta)) ::
 (_whunsafe_split_insert, Gfun(Internal f_whunsafe_split_insert)) ::
 (_wormmeta_shrink, Gfun(Internal f_wormmeta_shrink)) ::
 (_wormmeta_bm_clear_helper, Gfun(Internal f_wormmeta_bm_clear_helper)) ::
 (_wormmeta_merge, Gfun(Internal f_wormmeta_merge)) ::
 (_wormhole_meta_merge, Gfun(Internal f_wormhole_meta_merge)) ::
 (_wormhole_meta_leaf_merge, Gfun(Internal f_wormhole_meta_leaf_merge)) ::
 (_whunsafe_meta_leaf_merge, Gfun(Internal f_whunsafe_meta_leaf_merge)) ::
 (_wormhole_put, Gfun(Internal f_wormhole_put)) ::
 (_whsafe_put, Gfun(Internal f_whsafe_put)) ::
 (_whunsafe_put, Gfun(Internal f_whunsafe_put)) ::
 (_wormhole_merge, Gfun(Internal f_wormhole_merge)) ::
 (_whsafe_merge, Gfun(Internal f_whsafe_merge)) ::
 (_whunsafe_merge, Gfun(Internal f_whunsafe_merge)) ::
 (_wormhole_inpr, Gfun(Internal f_wormhole_inpr)) ::
 (_wormhole_inpw, Gfun(Internal f_wormhole_inpw)) ::
 (_whsafe_inpr, Gfun(Internal f_whsafe_inpr)) ::
 (_whsafe_inpw, Gfun(Internal f_whsafe_inpw)) ::
 (_whunsafe_inp, Gfun(Internal f_whunsafe_inp)) ::
 (_wormhole_del_try_merge, Gfun(Internal f_wormhole_del_try_merge)) ::
 (_wormhole_del, Gfun(Internal f_wormhole_del)) ::
 (_whsafe_del, Gfun(Internal f_whsafe_del)) ::
 (_whunsafe_del_try_merge, Gfun(Internal f_whunsafe_del_try_merge)) ::
 (_whunsafe_del, Gfun(Internal f_whunsafe_del)) ::
 (_wormhole_delr, Gfun(Internal f_wormhole_delr)) ::
 (_whsafe_delr, Gfun(Internal f_whsafe_delr)) ::
 (_whunsafe_delr, Gfun(Internal f_whunsafe_delr)) ::
 (_wormhole_iter_leaf_sync_sorted, Gfun(Internal f_wormhole_iter_leaf_sync_sorted)) ::
 (_wormhole_iter_create, Gfun(Internal f_wormhole_iter_create)) ::
 (_wormhole_iter_fix, Gfun(Internal f_wormhole_iter_fix)) ::
 (_wormhole_iter_seek, Gfun(Internal f_wormhole_iter_seek)) ::
 (_whsafe_iter_seek, Gfun(Internal f_whsafe_iter_seek)) ::
 (_wormhole_iter_valid, Gfun(Internal f_wormhole_iter_valid)) ::
 (_wormhole_iter_current, Gfun(Internal f_wormhole_iter_current)) ::
 (_wormhole_iter_peek, Gfun(Internal f_wormhole_iter_peek)) ::
 (_wormhole_iter_kref, Gfun(Internal f_wormhole_iter_kref)) ::
 (_wormhole_iter_kvref, Gfun(Internal f_wormhole_iter_kvref)) ::
 (_wormhole_iter_skip1, Gfun(Internal f_wormhole_iter_skip1)) ::
 (_wormhole_iter_skip, Gfun(Internal f_wormhole_iter_skip)) ::
 (_wormhole_iter_next, Gfun(Internal f_wormhole_iter_next)) ::
 (_wormhole_iter_inp, Gfun(Internal f_wormhole_iter_inp)) ::
 (_wormhole_iter_park, Gfun(Internal f_wormhole_iter_park)) ::
 (_whsafe_iter_park, Gfun(Internal f_whsafe_iter_park)) ::
 (_wormhole_iter_destroy, Gfun(Internal f_wormhole_iter_destroy)) ::
 (_whsafe_iter_destroy, Gfun(Internal f_whsafe_iter_destroy)) ::
 (_whunsafe_iter_create, Gfun(Internal f_whunsafe_iter_create)) ::
 (_whunsafe_iter_fix, Gfun(Internal f_whunsafe_iter_fix)) ::
 (_whunsafe_iter_seek, Gfun(Internal f_whunsafe_iter_seek)) ::
 (_whunsafe_iter_skip1, Gfun(Internal f_whunsafe_iter_skip1)) ::
 (_whunsafe_iter_skip, Gfun(Internal f_whunsafe_iter_skip)) ::
 (_whunsafe_iter_next, Gfun(Internal f_whunsafe_iter_next)) ::
 (_whunsafe_iter_destroy, Gfun(Internal f_whunsafe_iter_destroy)) ::
 (_wormhole_ref, Gfun(Internal f_wormhole_ref)) ::
 (_whsafe_ref, Gfun(Internal f_whsafe_ref)) ::
 (_wormhole_unref, Gfun(Internal f_wormhole_unref)) ::
 (_wormhole_park, Gfun(Internal f_wormhole_park)) ::
 (_wormhole_resume, Gfun(Internal f_wormhole_resume)) ::
 (_wormhole_refresh_qstate, Gfun(Internal f_wormhole_refresh_qstate)) ::
 (_wormhole_clean_hmap, Gfun(Internal f_wormhole_clean_hmap)) ::
 (_wormhole_free_leaf_keys, Gfun(Internal f_wormhole_free_leaf_keys)) ::
 (_wormhole_clean_helper, Gfun(Internal f_wormhole_clean_helper)) ::
 (_wormhole_clean, Gfun(Internal f_wormhole_clean)) ::
 (_wormhole_destroy, Gfun(Internal f_wormhole_destroy)) ::
 (___func____1, Gvar v___func____1) ::
 (_wormhole_fprint, Gfun(Internal f_wormhole_fprint)) ::
 (_kvmap_api_wormhole, Gvar v_kvmap_api_wormhole) ::
 (_kvmap_api_whsafe, Gvar v_kvmap_api_whsafe) ::
 (_kvmap_api_whunsafe, Gvar v_kvmap_api_whunsafe) ::
 (_wh_api, Gvar v_wh_api) :: (_wh_create, Gfun(Internal f_wh_create)) ::
 (_wh_ref, Gfun(Internal f_wh_ref)) ::
 (_wh_unref, Gfun(Internal f_wh_unref)) ::
 (_wh_park, Gfun(Internal f_wh_park)) ::
 (_wh_resume, Gfun(Internal f_wh_resume)) ::
 (_wh_clean, Gfun(Internal f_wh_clean)) ::
 (_wh_destroy, Gfun(Internal f_wh_destroy)) ::
 (_wh_put, Gfun(Internal f_wh_put)) :: (_wh_del, Gfun(Internal f_wh_del)) ::
 (_wh_probe, Gfun(Internal f_wh_probe)) ::
 (_wh_inp_copy_value, Gfun(Internal f_wh_inp_copy_value)) ::
 (_wh_get, Gfun(Internal f_wh_get)) ::
 (_wh_inpr, Gfun(Internal f_wh_inpr)) ::
 (_wh_inpw, Gfun(Internal f_wh_inpw)) ::
 (_wh_merge, Gfun(Internal f_wh_merge)) ::
 (_wh_delr, Gfun(Internal f_wh_delr)) ::
 (_wh_iter_create, Gfun(Internal f_wh_iter_create)) ::
 (_wh_iter_seek, Gfun(Internal f_wh_iter_seek)) ::
 (_wh_iter_valid, Gfun(Internal f_wh_iter_valid)) ::
 (_inp_copy_kv_cb, Gfun(Internal f_inp_copy_kv_cb)) ::
 (_wh_iter_peek, Gfun(Internal f_wh_iter_peek)) ::
 (_wh_iter_skip1, Gfun(Internal f_wh_iter_skip1)) ::
 (_wh_iter_skip, Gfun(Internal f_wh_iter_skip)) ::
 (_wh_iter_inp, Gfun(Internal f_wh_iter_inp)) ::
 (_wh_iter_park, Gfun(Internal f_wh_iter_park)) ::
 (_wh_iter_destroy, Gfun(Internal f_wh_iter_destroy)) :: nil).

Definition public_idents : list ident :=
(_wh_iter_destroy :: _wh_iter_park :: _wh_iter_inp :: _wh_iter_skip ::
 _wh_iter_skip1 :: _wh_iter_peek :: _wh_iter_valid :: _wh_iter_seek ::
 _wh_iter_create :: _wh_delr :: _wh_merge :: _wh_inpw :: _wh_inpr ::
 _wh_get :: _wh_probe :: _wh_del :: _wh_put :: _wh_destroy :: _wh_clean ::
 _wh_resume :: _wh_park :: _wh_unref :: _wh_ref :: _wh_create ::
 _kvmap_api_whunsafe :: _kvmap_api_whsafe :: _kvmap_api_wormhole ::
 _wormhole_fprint :: _wormhole_destroy :: _wormhole_clean ::
 _wormhole_refresh_qstate :: _wormhole_resume :: _wormhole_park ::
 _wormhole_unref :: _whsafe_ref :: _wormhole_ref :: _whunsafe_iter_destroy ::
 _whunsafe_iter_next :: _whunsafe_iter_skip :: _whunsafe_iter_skip1 ::
 _whunsafe_iter_seek :: _whunsafe_iter_create :: _whsafe_iter_destroy ::
 _wormhole_iter_destroy :: _whsafe_iter_park :: _wormhole_iter_park ::
 _wormhole_iter_inp :: _wormhole_iter_next :: _wormhole_iter_skip ::
 _wormhole_iter_skip1 :: _wormhole_iter_kvref :: _wormhole_iter_kref ::
 _wormhole_iter_peek :: _wormhole_iter_valid :: _whsafe_iter_seek ::
 _wormhole_iter_seek :: _wormhole_iter_create :: _whunsafe_delr ::
 _whsafe_delr :: _wormhole_delr :: _whunsafe_del :: _whsafe_del ::
 _wormhole_del :: _whunsafe_inp :: _whsafe_inpw :: _whsafe_inpr ::
 _wormhole_inpw :: _wormhole_inpr :: _whunsafe_merge :: _whsafe_merge ::
 _wormhole_merge :: _whunsafe_put :: _whsafe_put :: _wormhole_put ::
 _whunsafe_probe :: _whsafe_probe :: _wormhole_probe :: _whunsafe_get ::
 _whsafe_get :: _wormhole_get :: __mm_sub_epi8 :: __mm_store_si128 ::
 __mm_cmpeq_epi8 :: __mm_movemask_epi8 :: _whunsafe_create ::
 _wormhole_create :: __mm_cmpeq_epi16 :: _atomic_store_explicit ::
 _atomic_load_explicit :: __mm_add_epi8 :: __mm_cmpgt_epi8 ::
 __mm_and_si128 :: __mm_load_si128 :: __mm_set1_epi8 :: _kvref_ref_kv ::
 _kref_null :: _kref_kv_compare :: _kref_kv_match :: _kref_ref_kv ::
 _kref_ref_hash32 :: _kvmap_mm_ndf :: _kvmap_mm_dup :: _kv_kptr_c ::
 _kv_vptr_c :: _kv_key_lcp :: _kv_compare :: _kv_dup2_key :: _kv_dup2 ::
 _kv_null :: _kv_create :: _kv_kref :: _kv_refill :: _kv_update_hash ::
 _kv_crc32c_extend :: _kv_crc32c :: _qsbr_destroy :: _qsbr_wait ::
 _qsbr_resume :: _qsbr_park :: _qsbr_update :: _qsbr_unregister ::
 _qsbr_register :: _qsbr_create :: _slab_destroy :: _slab_get_nalloc ::
 _slab_free_all :: _slab_free_safe :: _slab_free_unsafe ::
 _slab_alloc_safe :: _slab_alloc_unsafe :: _slab_reserve_unsafe ::
 _slab_create :: _ptr_to_u64 :: _u64_to_ptr :: _entry13_update_e3 ::
 _entry13 :: _rwlock_unlock_write :: _rwlock_lock_write ::
 _rwlock_trylock_write_nr :: _rwlock_trylock_write :: _rwlock_unlock_read ::
 _rwlock_lock_read :: _rwlock_trylock_read_nr :: _rwlock_trylock_read ::
 _rwlock_init :: _spinlock_unlock :: _spinlock_lock :: _spinlock_init ::
 _pages_alloc_best :: _pages_unmap :: _yalloc :: _debug_die ::
 _debug_assert :: _crc32c_inc :: _crc32c_inc_x4 :: _crc32c_inc_123 ::
 _crc32c_u8 :: _cpu_prefetch0 :: _time_stamp :: _sleep :: _memcmp ::
 _memset :: _memmove :: _memcpy :: _qsort_r :: _free :: _malloc ::
 _fprintf :: _stderr :: ___builtin_debug :: ___builtin_write32_reversed ::
 ___builtin_write16_reversed :: ___builtin_read32_reversed ::
 ___builtin_read16_reversed :: ___builtin_fnmsub :: ___builtin_fnmadd ::
 ___builtin_fmsub :: ___builtin_fmadd :: ___builtin_fmin ::
 ___builtin_fmax :: ___compcert_i64_umulh :: ___compcert_i64_smulh ::
 ___compcert_i64_sar :: ___compcert_i64_shr :: ___compcert_i64_shl ::
 ___compcert_i64_umod :: ___compcert_i64_smod :: ___compcert_i64_udiv ::
 ___compcert_i64_sdiv :: ___compcert_i64_utof :: ___compcert_i64_stof ::
 ___compcert_i64_utod :: ___compcert_i64_stod :: ___compcert_i64_dtou ::
 ___compcert_i64_dtos :: ___builtin_expect :: ___builtin_unreachable ::
 ___compcert_va_composite :: ___compcert_va_float64 ::
 ___compcert_va_int64 :: ___compcert_va_int32 :: ___builtin_va_end ::
 ___builtin_va_copy :: ___builtin_va_arg :: ___builtin_va_start ::
 ___builtin_membar :: ___builtin_annot_intval :: ___builtin_annot ::
 ___builtin_sel :: ___builtin_memcpy_aligned :: ___builtin_sqrt ::
 ___builtin_fsqrt :: ___builtin_fabsf :: ___builtin_fabs ::
 ___builtin_ctzll :: ___builtin_ctzl :: ___builtin_ctz :: ___builtin_clzll ::
 ___builtin_clzl :: ___builtin_clz :: ___builtin_bswap16 ::
 ___builtin_bswap32 :: ___builtin_bswap :: ___builtin_bswap64 ::
 ___builtin_ais_annot :: nil).

Definition prog : Clight.program := 
  mkprogram composites global_definitions public_idents _main Logic.I.


